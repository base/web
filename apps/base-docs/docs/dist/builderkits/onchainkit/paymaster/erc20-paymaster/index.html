<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>
    
    <title data-react-helmet="true">Paymaster (ERC20): Set up your Paymaster to require ERC20 tokens – Base Docs</title>
    <meta data-react-helmet="true" name="description" content="Explore the documentation for Base, a secure, low-cost, builder-friendly Ethereum L2"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Paymaster (ERC20): Set up your Paymaster to require ERC20 tokens"/><meta data-react-helmet="true" property="og:url" content="https://docs.base.org"/><meta data-react-helmet="true" property="og:description" content="Explore the documentation for Base, a secure, low-cost, builder-friendly Ethereum L2"/><meta data-react-helmet="true" property="og:image" content="/images/base-docs-og.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="twitter:image" content="/images/base-docs-og.png"/>
    <link data-react-helmet="true" rel="icon" href="/favicon.ico" type="image/x-icon"/>
    
    
    <meta property="twitter:title" content="Base | Docs"/><meta property="twitter:image" content="https://docs.base.org/images/base-docs-og.png"/><meta property="twitter:description" content="Explore the documentation for Base, a secure, low-cost, builder-friendly Ethereum L2"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:domain" content="base.org"/><script src="https://www.googletagmanager.com/gtag/js?id=G-TKCM02YFWN" async="" defer=""></script><script id="gtag-init">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TKCM02YFWN');
    </script>
  
    <script type="module" crossorigin src="/assets/index-Dlxm52NL.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-BheZ9r0M.css">
  </head>
  <body>
    <div id="app"><div class="vocs-layout antialiased" style="font-family:CoinbaseSans !important"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/builderkits/onchainkit/paymaster/erc20-paymaster#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/quickstart">Quickstart</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/bridges-mainnet">Bridges</a><a data-active="false" class="vocs_Sidebar_item" href="/base-services-hub">Service Hub</a><a data-active="false" class="vocs_Sidebar_item" href="https://status.base.org/">Status ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Builder Kits</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">OnchainKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">MiniKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/agentkit/docs/welcome">AgentKit (CDP) ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Blockspace Tools</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/paymaster/docs/welcome">Paymaster (CDP) ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/appchains/docs/welcome">Appchains ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Identity</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Wallet</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Basenames</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/verifications/docs/welcome">Verifications (CDP)↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Wallet App</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/mini-apps">Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/getting-started">Getting Started with Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/beta-faq">Coinbase Wallet Beta FAQ</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Chain</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Flashblocks</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Misc.</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Network Information</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Node Operators</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="/chain/security-council">Security Council</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/block-building">Block Building</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Tools</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Use Cases</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onboard-any-user">Onboard any user</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/accept-crypto-payments">Accept crypto payments</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/launch-ai-agents">Launch AI Agents</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onchain-social">Onchain Social</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/defi-your-app">DeFi your app</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/go-gasless">Go gasless</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Cookbook</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By use case</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By tool</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Learn</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Buildathons</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Feedback</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://discord.com/invite/buildonbase">Get help ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://hackerone.com/coinbase">Bug bounty ↗</a></div></section></div></nav></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2m7:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav></div><div class="vocs_DesktopTopNav_divider"></div><div class="vocs_DesktopTopNav_group" style="margin-left:-8px;margin-right:-8px"><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:23px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><a class="vocs_MobileTopNav_navigationItem vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" variant="styleless">Get help</a></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd67:" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="vocs_MobileTopNav_divider"></div><div class="vocs_MobileTopNav_group" style="margin-left:-8px"><a class="vocs_MobileTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:21px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3a7:" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Paymaster (ERC20): Set up your Paymaster to require ERC20 tokens</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rla7:" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><details><summary><b>Expand for images and click to enlarge</b></summary><div><figcaption><i>Paymaster - ERC20 Policy</i></figcaption><img src="/images/paymaster/pb-paymaster-policy-erc20.png" width="700" alt="Paymaster ERC20 Policy"/></div></details>
<h3 class="vocs_H3 vocs_Heading"><div id="billing" class="vocs_Heading_slugTarget"></div>Billing<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#billing"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Because you’re receiving the ERC20 tokens back, CDP will meter all the token transfers, and bill you at the end of the month similar to the regular sponsored gas flow (based on the USD value of the ERC20 at the time your wallet receives). This gives you the flexibility to decide what to do with the tokens. The Paymaster&#x27;s regular 7% service fee applies to this volume and is factored into the ERC20 quote your users receive and accept.</p>
<p class="vocs_Paragraph">Note: existing Paymaster specific CDP credits continue to apply for regular sponsored Paymaster volume but not ERC20 Paymaster volume.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="configuring-your-policy" class="vocs_Heading_slugTarget"></div>Configuring your policy<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#configuring-your-policy"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<strong class="vocs_Strong">To allows your users to pay their gas in an ERC20 token, your policy needs to be configured to reject regular sponsorship.</strong>
<p class="vocs_Paragraph">This allows you to configure customizations such as</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Fully sponsor 3 UserOperations per user per day - any additional UserOperations will require users to pay using ERC20 token</li>
<li class="vocs_ListItem">Fully sponsor UserOperations up to $1 per week - any additional UserOperations will require users to pay using ERC20 token</li>
<li class="vocs_ListItem">Never fully sponsor any UserOperations - all UserOperations will require users to pay using an ERC20 token</li>
</ul>
<strong class="vocs_Strong">If you only want the third option (always require users to pay using erc20 token) we recommend setting your <code class="vocs_Code">Per User Address Max</code> to <code class="vocs_Code">.01</code>.</strong>
<p class="vocs_Paragraph">We also recommend creating a separate project to test your ERC20 custom flows so it doesn’t affect any existing regular sponsorship flows that you have.</p>
<details><summary><b>Expand for images and click to enlarge</b></summary><div><figcaption><i>Paymaster - ERC20 Policy Flow</i></figcaption><img src="/images/paymaster/pb-paymaster-policy-erc20-flow.png" width="700" alt="Paymaster ERC20 Policy Flow"/></div></details>
<h3 class="vocs_H3 vocs_Heading"><div id="integration-guide--code-examples" class="vocs_Heading_slugTarget"></div>Integration guide &amp; code examples<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#integration-guide--code-examples"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The ERC20 Paymaster fits seamlessly into any existing regular sponsored Paymaster integration. The only difference is that you need to configure your smart wallet to <code class="vocs_Code">approve</code> our Paymaster contract to spend your user’s ERC20 tokens.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Paymaster Contract Address (Sepolia): <code class="vocs_Code">0x709a4bae3db73a8e717aefca13e88512f738b27f</code></li>
<li class="vocs_ListItem">Paymaster Contract Address (Mainnet): <code class="vocs_Code">0x2FAEB0760D4230Ef2aC21496Bb4F0b47D634FD4c</code></li>
</ul>
<p class="vocs_Paragraph">For example, the code below is almost identical to the <code class="vocs_Code">index.js</code> in the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.cdp.coinbase.com/paymaster/docs/paymaster-bundler-qs-headless" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Paymaster quickstart guide</a>. The only difference is that we added an <code class="vocs_Code">approve</code> function call to the <code class="vocs_Code">calls</code> field.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">//index.js</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">import { http, encodeFunctionData, parseAbi } from &quot;viem&quot;;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">import { baseSepolia } from &quot;viem/chains&quot;;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">import { createBundlerClient } from &quot;viem/account-abstraction&quot;;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">import { account, client, RPC_URL } from &quot;./config.js&quot;;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">import { abi } from &quot;./example-app-abi.js&quot;;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">// Logs your deterministic public address generated by your private key</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">console.log(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">`Minting nft to ${account.address}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">// The bundler is a special node that gets your UserOperation on chain</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const bundlerClient = createBundlerClient({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  account,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  client,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  transport: http(RPC_URL),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  chain: baseSepolia,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">});</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">// Approves our paymaster to spend your users erc20 tokens. The example below uses USDC</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const tokenAddress = &quot;0x036CbD53842c5426634e7929541eC2318f3dCF7e&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const tokenAmount = 1000000 // 1 USDC</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const paymasterAddress = &quot;0x709a4bae3db73a8e717aefca13e88512f738b27f&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const approve = {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  to: tokenAddress,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  data: encodeFunctionData({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      abi: parseAbi([&quot;function approve(address,uint)&quot;]),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      functionName: &quot;approve&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      args: [paymasterAddress, tokenAmount],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  })</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">// The call for your app. You will have change this depending on your dapp&#x27;s abi</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const nftContractAddress = &quot;0x66519FCAee1Ed65bc9e0aCc25cCD900668D3eD49&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const mintTo = {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  abi: abi,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  functionName: &quot;mintTo&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  to: nftContractAddress,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  args: [account.address, 1],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">};</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const calls = [approve, mintTo]</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">// Pads the preVerificationGas (or any other gas limits you might want) to ensure your UserOperation lands onchain</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">account.userOperation = {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  estimateGas: async (userOperation) =&gt; {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    const estimate = await bundlerClient.estimateUserOperationGas(userOperation);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    // adjust preVerification upward</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    estimate.preVerificationGas = estimate.preVerificationGas * 2n;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    return estimate;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">};</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">// Sign and send the UserOperation</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">try {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  const userOpHash = await bundlerClient.sendUserOperation({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    account,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    calls,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    paymaster: true</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  const receipt = await bundlerClient.waitForUserOperationReceipt({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    hash: userOpHash,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  console.log(&quot;✅ Transaction successfully sponsored!&quot;);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  console.log(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">`⛽ View sponsored UserOperation on blockscout: https://base-sepolia.blockscout.com/op/${receipt.userOpHash}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  console.log(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">`🔍 View NFT mint on basescan: https://sepolia.basescan.org/address/${account.address}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  process.exit()</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} catch (error) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  console.log(&quot;Error sending transaction: &quot;, error);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  process.exit(1)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Please consider checking for your user&#x27;s ERC20 <code class="vocs_Code">allowance</code> before adding the additional ERC20 <code class="vocs_Code">approve</code> function call. This will save on gas costs for your users as our Paymaster is already allowed to spend their funds.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">// Checks for allowance</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const allowance = await client.readContract({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  abi: parseAbi([&quot;function allowance(address owner, address spender) returns (uint256)&quot;]),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  address: tokenAddress,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  functionName: &quot;allowance&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  args: [account.address, paymasterAddress],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">})</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">const calls = [</span><span style="color:#032F62;text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline" class="vocs_Span">mintTo</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">]</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">if (allowance &lt; tokenAmount) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   calls.unshift(approve)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="specification" class="vocs_Heading_slugTarget"></div>Specification<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#specification"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The CDP ERC20 Paymaster uses both <code class="vocs_Code">pm_getPaymasterStubData</code> and <code class="vocs_Code">pm_getPaymasterData</code> JSON-RPC requests specified by ERC-7677 and an additional API <code class="vocs_Code">pm_getAcceptedPaymentTokens</code>. We step through each request and response below.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="pm_getpaymasterstubdata-and-pm_getpaymasterdata" class="vocs_Heading_slugTarget"></div>pm_getPaymasterStubData and pm_getPaymasterData<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#pm_getpaymasterstubdata-and-pm_getpaymasterdata"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">The paymaster will use the specified ERC20 for payment if specified in the 7677 context field under <code class="vocs_Code">erc20</code>.</li>
<li class="vocs_ListItem">Upon rejection / failure the paymaster should return a <code class="vocs_Code">data</code> field in the JSONRPC response which could be used to approve the paymaster and includes:</li>
</ol>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><code class="vocs_Code">acceptedTokens</code> array which is a struct including the token address</li>
<li class="vocs_ListItem"><code class="vocs_Code">paymasterAddress</code> field which is the paymaster address which will perform the token transfers.</li>
</ul>
<ol start="3" class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Upon success the paymaster will return a <code class="vocs_Code">tokenPayment</code> field in the result. This includes:</li>
</ol>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><code class="vocs_Code">tokenAddress</code> address of the token used for payment</li>
<li class="vocs_ListItem"><code class="vocs_Code">maxFee</code> the maximum fee to show in the UI</li>
<li class="vocs_ListItem"><code class="vocs_Code">decimals</code> decimals to use in the UI</li>
<li class="vocs_ListItem"><code class="vocs_Code">name</code> name of the token</li>
</ul>
<p class="vocs_Paragraph">Smart wallet will simulate the transaction to ensure success and accurate information.</p>
<h5 class="vocs_H5 vocs_Heading"><div id="request" class="vocs_Heading_slugTarget"></div>Request<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#request"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<p class="vocs_Paragraph">This is a standard V0.6 Entrypoint request example with the additional context for the specified token to be used.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;jsonrpc&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;2.0&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;id&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;method&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;pm_getPaymasterData&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;params&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: [</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;sender&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0xe62B4aD6A7c079F47D77a9b939D5DC67A0dcdC2B&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;nonce&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x4e&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;initCode&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;callData&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0xb61d27f60000000000000000000000007746371e8df1d7099a84c20ed72e3335fb016b23000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;callGasLimit&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x113e10&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;verificationGasLimit&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x113e10&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;preVerificationGas&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x113e10&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;maxFeePerGas&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x113e10&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;maxPriorityFeePerGas&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x113e10&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;paymasterAndData&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;signature&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x5ee079a5dec73fe39c1ce323955fb1158fc1b9a6b2ddbec104cd5cfec740fa5531584f098b0ca95331b6e316bd76091e3ab75a7bc17c12488664d27caf19197e1c&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    },</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">    &quot;0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">    &quot;0x2105&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;erc20&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x833589fcd6edb6e08f4c7c32d4f71b54bda02913&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  ]</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h5 class="vocs_H5 vocs_Heading"><div id="response" class="vocs_Heading_slugTarget"></div>Response<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#response"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<p class="vocs_Paragraph">Successful response:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;id&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;jsonrpc&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;2.0&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;result&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    &quot;paymasterAndData&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x2faeb0760d4230ef2ac21496bb4f0b47d634fd4c0000670fdc98000000000000494b3b6e1d074fbca920212019837860000100833589fcd6edb6e08f4c7c32d4f71b54bda029137746371e8df1d7099a84c20ed72e3335fb016b23000000000000000000000000000000000000000000000000000000009b75458400000000697841102cd520d4e0171a58dadc3e6086111a49a90826cb0ad25579f25f1652081f68c17d8652387a33bf8880dc44ecf95be4213e786566d755baa6299f477b0bb21c&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    &quot;tokenPayment&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;name&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;USDC&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;address&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;maxFee&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0xa7c8&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;decimals&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">6</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Rejection response:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;id&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;jsonrpc&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;2.0&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;error&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    &quot;code&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">-32002</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    &quot;message&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;request denied - no sponsorship and address can not pay with accepted token&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    &quot;data&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">      &quot;acceptedTokens&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: [</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">          &quot;name&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;USDC&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">          &quot;address&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      ]</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h4 class="vocs_H4 vocs_Heading"><div id="pm_getacceptedpaymenttokens" class="vocs_Heading_slugTarget"></div>pm_getAcceptedPaymentTokens<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#pm_getacceptedpaymenttokens"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph"><code class="vocs_Code">pm_getAcceptedPaymentTokens</code> returns an array of tokens the paymaster will accept for payment.
The request contains the entrypoint and the chain id with optional context.</p>
<h5 class="vocs_H5 vocs_Heading"><div id="request-1" class="vocs_Heading_slugTarget"></div>Request<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#request-1"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;jsonrpc&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;2.0&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;id&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;method&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;pm_getAcceptedPaymentTokens&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;params&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: [</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x2105&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, {}]</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h5 class="vocs_H5 vocs_Heading"><div id="response-1" class="vocs_Heading_slugTarget"></div>Response<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#response-1"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;id&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;jsonrpc&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;2.0&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  &quot;result&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    &quot;acceptedTokens&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: [</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">        &quot;name&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;USDC&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">        &quot;address&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x833589fcd6edb6e08f4c7c32d4f71b54bda02913&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    ]</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="troubleshooting" class="vocs_Heading_slugTarget"></div>Troubleshooting<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/builderkits/onchainkit/paymaster/erc20-paymaster#troubleshooting"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph"><code class="vocs_Code">request denied - max address sponsorship value reached 0x4D44afB8D98c9984F381E60Ac855D89C73f40e45 and sender can not pay with an accepted ERC20”</code></p>
<p class="vocs_Paragraph">The first part of the error signifies why the regular fully sponsored transaction was not accepted. This is to be expected. However, if the “sender can not pay with an accepted ERC20”, check to make sure that the user has enough ERC20 tokens in their wallet to pay for the gas and your wallet approved our Paymaster to spend those tokens.</p></article><footer class="vocs_Footer"><div class="vocs_Footer_container"></div><footer class="py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col items-center justify-center space-y-4"><div class="flex items-center space-x-2"><span class="text-zinc-900 dark:text-zinc-100 font-medium">Base Docs</span></div><div class="text-sm text-zinc-600 dark:text-zinc-400">© <!-- -->2025<!-- --> base.org. All rights reserved.</div><div class="flex flex-row space-x-4"><a href="/privacy-policy">Privacy Policy</a><a href="/terms-of-service">Terms of Service</a><a href="/cookie-policy">Cookie Policy</a></div></div></div></footer></footer></div><div data-bottom-observer="true"></div></div><!--$--><!--/$--></div></div>
  </body>
</html>
