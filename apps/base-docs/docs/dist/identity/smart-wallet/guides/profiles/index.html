<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>
    
    <title data-react-helmet="true">Using Profiles with Smart Wallet – Base Docs</title>
    <meta data-react-helmet="true" name="description" content="Learn how to request and validate user profile data using Smart Wallet"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Using Profiles with Smart Wallet"/><meta data-react-helmet="true" property="og:url" content="https://docs.base.org"/><meta data-react-helmet="true" property="og:description" content="Learn how to request and validate user profile data using Smart Wallet"/><meta data-react-helmet="true" property="og:image" content="/images/base-docs-og.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="twitter:image" content="/images/base-docs-og.png"/>
    <link data-react-helmet="true" rel="icon" href="/favicon.ico" type="image/x-icon"/>
    
    
    <meta property="twitter:title" content="Base | Docs"/><meta property="twitter:image" content="https://docs.base.org/images/base-docs-og.png"/><meta property="twitter:description" content="Explore the documentation for Base, a secure, low-cost, builder-friendly Ethereum L2"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:domain" content="base.org"/><script src="https://www.googletagmanager.com/gtag/js?id=G-TKCM02YFWN" async="" defer=""></script><script id="gtag-init">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TKCM02YFWN');
    </script>
  
    <script type="module" crossorigin src="/assets/index-Dlxm52NL.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-BheZ9r0M.css">
  </head>
  <body>
    <div id="app"><div class="vocs-layout antialiased" style="font-family:CoinbaseSans !important"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/identity/smart-wallet/guides/profiles#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/quickstart">Quickstart</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/bridges-mainnet">Bridges</a><a data-active="false" class="vocs_Sidebar_item" href="/base-services-hub">Service Hub</a><a data-active="false" class="vocs_Sidebar_item" href="https://status.base.org/">Status ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Builder Kits</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">OnchainKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">MiniKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/agentkit/docs/welcome">AgentKit (CDP) ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Blockspace Tools</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/paymaster/docs/welcome">Paymaster (CDP) ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/appchains/docs/welcome">Appchains ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Identity</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Wallet</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Basenames</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/verifications/docs/welcome">Verifications (CDP)↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Wallet App</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/mini-apps">Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/getting-started">Getting Started with Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/beta-faq">Coinbase Wallet Beta FAQ</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Chain</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Flashblocks</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Misc.</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Network Information</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Node Operators</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="/chain/security-council">Security Council</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/block-building">Block Building</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Tools</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Use Cases</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onboard-any-user">Onboard any user</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/accept-crypto-payments">Accept crypto payments</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/launch-ai-agents">Launch AI Agents</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onchain-social">Onchain Social</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/defi-your-app">DeFi your app</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/go-gasless">Go gasless</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Cookbook</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By use case</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By tool</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Learn</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Buildathons</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Feedback</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://discord.com/invite/buildonbase">Get help ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://hackerone.com/coinbase">Bug bounty ↗</a></div></section></div></nav></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2m7:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav></div><div class="vocs_DesktopTopNav_divider"></div><div class="vocs_DesktopTopNav_group" style="margin-left:-8px;margin-right:-8px"><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:23px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><a class="vocs_MobileTopNav_navigationItem vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" variant="styleless">Get help</a></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd67:" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="vocs_MobileTopNav_divider"></div><div class="vocs_MobileTopNav_group" style="margin-left:-8px"><a class="vocs_MobileTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:21px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3a7:" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Using Profiles with Smart Wallet</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rla7:" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="profiles" class="vocs_Heading_slugTarget"></div>Profiles<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#profiles"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<p class="vocs_Paragraph">In this guide, we&#x27;ll explore how to use the Profiles feature in Smart Wallet to request and validate user information
like email addresses and physical addresses for a simple checkout flow.</p>
<div style="display:flex;flex-direction:column;align-items:center"><img alt="Profiles Demo" src="/images/smart-wallet/ProfilesDemo.gif" width="1000" loading="lazy" style="border-radius:16px"/><em>Profiles Demo</em></div>
<h2 class="vocs_H2 vocs_Heading"><div id="what-youll-achieve" class="vocs_Heading_slugTarget"></div>What you&#x27;ll achieve<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#what-youll-achieve"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">By the end of this guide, you will:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Set up a NextJS+Wagmi project to work with Smart Wallet Profiles</li>
<li class="vocs_ListItem">Create a simple interface to request user profile data</li>
<li class="vocs_ListItem">Implement a validation API to verify the data</li>
<li class="vocs_ListItem">Handle successful responses and errors</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="skip-ahead" class="vocs_Heading_slugTarget"></div>Skip ahead<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#skip-ahead"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">If you want to skip ahead and just get the final code, you can find it here:</p>
<a rel="noopener noreferrer" class="mb-4 flex items-center rounded-lg bg-zinc-900 p-4 text-white transition-all hover:bg-zinc-800" href="https://github.com/base/demos/tree/master/smart-wallet/profiles-demo" target="_blank"><div class="flex w-full items-center gap-3"><svg height="24" width="24" class="flex-shrink-0 dark:fill-white" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg><div class="flex min-w-0 flex-grow flex-col"><span class="truncate text-base font-medium">Smart Wallet Profiles Demo</span><span class="truncate text-xs text-zinc-400">https://github.com/base/demos/tree/master/smart-wallet/profiles-demo</span></div><svg class="h-5 w-5 flex-shrink-0 text-zinc-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a>
<h2 class="vocs_H2 vocs_Heading"><div id="understanding-profiles" class="vocs_Heading_slugTarget"></div>Understanding Profiles<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#understanding-profiles"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">The Profiles feature allows developers to request personal information from Smart Wallet users during a transaction. This is useful for applications that need:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Email addresses</li>
<li class="vocs_ListItem">Physical addresses</li>
<li class="vocs_ListItem">Phone numbers</li>
<li class="vocs_ListItem">Names</li>
</ul>
<p class="vocs_Paragraph">Smart Wallet handles the collection of this information and it is left to you to validate it and store it as you see fit
while following the standards and regulations in place.</p>
<aside class="vocs_Callout vocs_Callout_info"><strong class="vocs_Strong">Privacy First</strong><p class="vocs_Paragraph">Users always have full control over their data. They can choose to share or withhold any information, and they&#x27;re clearly shown what data you&#x27;re requesting.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="project-setup" class="vocs_Heading_slugTarget"></div>Project Setup<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#project-setup"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Let&#x27;s create a simple app that demonstrates the Profiles feature. We&#x27;ll be using NextJS with <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://wagmi.sh/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Wagmi</a> hooks to integrate with Smart Wallet.</p>
<aside class="vocs_Callout vocs_Callout_info"><strong class="vocs_Strong">Get started with Wagmi</strong><p class="vocs_Paragraph">If you don&#x27;t have Wagmi set up yet,
you can use <code class="vocs_Code">npm create wagmi@latest</code> to get started.</p><p class="vocs_Paragraph">For more information on how to use Wagmi,
check out the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://wagmi.sh/react/getting-started" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Wagmi documentation</a>.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="configure-wagmi" class="vocs_Heading_slugTarget"></div>Configure Wagmi<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#configure-wagmi"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">First, ensure your Wagmi configuration is set up correctly:</p>
<div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="File" class="vocs_Icon" role="img" style="margin-top:1px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94 99" fill="none"><title>File</title><rect width="77px" height="89px" x="8px" y="3px" stroke="currentColor" stroke-width="6px" rx="7px"></rect><path stroke="currentColor" stroke-linecap="round" stroke-width="6px" d="M25 22h43M25 35h43M25 48h22"></path></svg></div>wagmi.ts</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="wagmi.ts" data-lang="ts" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { http, cookieStorage, createConfig, createStorage } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;wagmi&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { baseSepolia } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;wagmi/chains&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { coinbaseWallet } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;wagmi/connectors&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> cbWalletConnector</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> coinbaseWallet</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  appName: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Profiles Demo&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  preference: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    keysUrl: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;https://keys-dev.coinbase.com/connect&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    options: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;smartWalletOnly&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">});</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">export</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> getConfig</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> createConfig</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    chains: [baseSepolia],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    connectors: [cbWalletConnector],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    storage: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">createStorage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      storage: cookieStorage,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    ssr: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    transports: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      [baseSepolia.id]: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">http</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  });</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">declare</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> module</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;wagmi&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  interface</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Register</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span">    config</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> ReturnType</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">typeof</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> getConfig&gt;;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<aside class="vocs_Callout vocs_Callout_warning"><strong class="vocs_Strong">Development Environment</strong><p class="vocs_Paragraph">This guide uses the Smart Wallet development environment (<code class="vocs_Code">keys-dev.coinbase.com</code>) because
Profiles are only available on the development environment for now.</p><p class="vocs_Paragraph">Profiles will be available in the production environment soon,
so you won&#x27;t need to specify the <code class="vocs_Code">keysUrl</code> parameter.</p><p class="vocs_Paragraph">Your connector would look like this:</p><div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="File" class="vocs_Icon" role="img" style="margin-top:1px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94 99" fill="none"><title>File</title><rect width="77px" height="89px" x="8px" y="3px" stroke="currentColor" stroke-width="6px" rx="7px"></rect><path stroke="currentColor" stroke-linecap="round" stroke-width="6px" d="M25 22h43M25 35h43M25 48h22"></path></svg></div>wagmi.ts</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="wagmi.ts" data-lang="ts" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> cbWalletConnector</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> coinbaseWallet</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  appName: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Profiles Demo&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  preference: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;smartWalletOnly&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">});</span></span></code></pre></div></div></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="creating-the-user-interface" class="vocs_Heading_slugTarget"></div>Creating the User Interface<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#creating-the-user-interface"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Now, let&#x27;s create a simple UI to request profile data from users along with a transaction.
We&#x27;ll create a page with checkboxes to select which data to request and a button to submit the request
along with a transfer of 0.01 USDC to an address on Base Sepolia.</p>
<div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="File" class="vocs_Icon" role="img" style="margin-top:1px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94 99" fill="none"><title>File</title><rect width="77px" height="89px" x="8px" y="3px" stroke="currentColor" stroke-width="6px" rx="7px"></rect><path stroke="currentColor" stroke-linecap="round" stroke-width="6px" d="M25 22h43M25 35h43M25 48h22"></path></svg></div>app/page.tsx</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="app/page.tsx" data-lang="tsx" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;use client&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { ProviderInterface } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@coinbase/wallet-sdk&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { useEffect, useState } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;react&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { encodeFunctionData, erc20Abi, numberToHex, parseUnits } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;viem&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { useAccount, useConnect, useDisconnect } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;wagmi&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">export</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> default</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Home</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">provider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">setProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">] </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useState</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">undefined</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">dataToRequest</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">setDataToRequest</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">] </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useState</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    email: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    address: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">true</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  });</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">isLoading</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">setIsLoading</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">] </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useState</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">result</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">setResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">] </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useState</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> account</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useAccount</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">connectors</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">connect</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">status</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">error</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useConnect</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">disconnect</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useDisconnect</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  // Initialize provider when account connected</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  useEffect</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    async</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> getProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (account.status </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;connected&#x27;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> account.connector) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> provider</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> account.connector.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">getProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">        setProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(provider);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    getProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }, [account]);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  // Function to get callback URL - replace in production</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> getCallbackURL</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    return</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;https://your-ngrok-url.ngrok-free.app/api/data-validation&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  // Handle form submission</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  async</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> handleSubmit</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    try</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">      setIsLoading</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">      setResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">      // Build requests array based on checkboxes</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> requests</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [];</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (dataToRequest.email) requests.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">push</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({ type: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;email&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, optional: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> });</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (dataToRequest.address) requests.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">push</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({ type: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;physicalAddress&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, optional: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (requests.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">length</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> ===</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">        setResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({ success: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, error: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Select at least one data type&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> });</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">        setIsLoading</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">      // Request data from wallet</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> response</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> provider?.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">request</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        method: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;wallet_sendCalls&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        params: [{</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          version: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;1.0&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          chainId: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">numberToHex</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">84532</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Base Sepolia</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          calls: [</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                to: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x036CbD53842c5426634e7929541eC2318f3dCF7e&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// USDC contract address on Base Sepolia</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                data: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encodeFunctionData</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                  abi: erc20Abi,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                  functionName: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;transfer&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                  args: [</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">                    &quot;0xd8da6bf26964af9d7eed9e03e53415d37aa96045&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">                    parseUnits</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0.01&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">6</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                  ],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                }),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            ], </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Simple transfer of 0.01 USDC to the contract</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          capabilities: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            dataCallback: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              requests: requests,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              callbackURL: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">getCallbackURL</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        }],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">      // Process response</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (response?.capabilities?.dataCallback) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> data</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> response.capabilities.dataCallback;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> result</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { success: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> };</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">        // Extract email if provided</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (data.email) result.email </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> data.email;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">        // Extract address if provided</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (data.physicalAddress) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">          const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> addr</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> data.physicalAddress.physicalAddress;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          result.address </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            addr.address1,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            addr.address2,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            addr.city,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            addr.state,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            addr.postalCode,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            addr.countryCode</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          ].</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">filter</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(Boolean).</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">join</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;, &quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">        setResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(result);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">else</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">        setResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({ success: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, error: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Invalid response&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> });</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">catch</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (error) {</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">      setResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({ success: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, error: error.message </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">||</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;Transaction failed&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> });</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">finally</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">      setIsLoading</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> style</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{{ maxWidth: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;600px&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, margin: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0 auto&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, padding: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;20px&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> }}&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;Profiles Demo&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      {</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/* Wallet Status */</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> style</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{{ marginBottom: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;20px&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> }}&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;Status: {account.status}&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        {account.status </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;connected&#x27;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> ?</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> onClick</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{disconnect}&gt;Disconnect&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          connectors</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            .</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">filter</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span">c</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> c.name </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;Coinbase Wallet&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            .</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">map</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span">connector</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> key</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{connector.uid} </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">onClick</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> connect</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({ connector })}&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">                Connect Smart Wallet</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            ))</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        )}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      {</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/* Data Request Form */</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      {account.status </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;connected&#x27;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> style</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{{ marginTop: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;20px&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> }}&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h2</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;Checkout&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h2</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">label</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">input</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">                type</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;checkbox&quot;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">                checked</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{dataToRequest.email}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">                onChange</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> setDataToRequest</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span">prev</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> ({ </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">...</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">prev, email: </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">prev.email }))}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              /&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              Email Address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">label</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">label</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">input</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">                type</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;checkbox&quot;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">                checked</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{dataToRequest.address}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">                onChange</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> setDataToRequest</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span">prev</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> ({ </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">...</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">prev, address: </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">prev.address }))}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              /&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              Physical Address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">label</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">            onClick</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{handleSubmit}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">            disabled</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{isLoading </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">||</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> !</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">provider}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            {isLoading </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;Processing...&quot;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> :</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;Checkout&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      )}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      {</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/* Results Display */</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      {result </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> style</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{{</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          marginTop: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;20px&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          padding: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;15px&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          backgroundColor: result.success </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;#d4edda&quot;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> :</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;#f8d7da&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          borderRadius: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;5px&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        }}&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          {result.success </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h3</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;Data Received&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h3</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              {result.email </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">strong</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;Email:&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">strong</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt; {result.email}&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              {result.address </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">strong</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;Address:&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">strong</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt; {result.address}&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;/&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h3</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;Error&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">h3</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">              &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;{result.error}&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            &lt;/&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          )}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      )}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  );</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<aside class="vocs_Callout vocs_Callout_warning"><strong class="vocs_Strong">HTTPS Required</strong><p class="vocs_Paragraph">Smart Wallet requires callback URLs to use HTTPS, even for local development.
For local testing, use a secure tunnel service like ngrok and update
the <code class="vocs_Code">ngrokUrl</code> variable with your tunnel URL.</p><p class="vocs_Paragraph">To start ngrok, run the following command:</p><div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="Terminal" class="vocs_Icon" role="img" style="margin-top:3px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 95" fill="none"><title>Terminal</title><path fill="currentColor" d="M38.281 34.033c0-1.074-.39-2.05-1.22-2.88L6.885 1.171C6.152.39 5.175 0 4.053 0 1.758 0 0 1.709 0 4.004c0 1.074.488 2.1 1.172 2.88l27.295 27.15L1.172 61.181C.488 61.962 0 62.939 0 64.062c0 2.295 1.758 4.004 4.053 4.004 1.123 0 2.1-.39 2.832-1.172l30.176-29.98c.83-.83 1.22-1.807 1.22-2.88Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="8px" d="M36 75h55"></path></svg></div>Terminal</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="Terminal" data-lang="bash" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">ngrok</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> http</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 3000</span></span></code></pre></div></div><p class="vocs_Paragraph">If you don&#x27;t have ngrok installed, you can install it with the following command:</p><div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="Terminal" class="vocs_Icon" role="img" style="margin-top:3px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 95" fill="none"><title>Terminal</title><path fill="currentColor" d="M38.281 34.033c0-1.074-.39-2.05-1.22-2.88L6.885 1.171C6.152.39 5.175 0 4.053 0 1.758 0 0 1.709 0 4.004c0 1.074.488 2.1 1.172 2.88l27.295 27.15L1.172 61.181C.488 61.962 0 62.939 0 64.062c0 2.295 1.758 4.004 4.053 4.004 1.123 0 2.1-.39 2.832-1.172l30.176-29.98c.83-.83 1.22-1.807 1.22-2.88Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="8px" d="M36 75h55"></path></svg></div>Terminal</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="Terminal" data-lang="bash" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">npm</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> install</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> -g</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> ngrok</span></span></code></pre></div></div><p class="vocs_Paragraph">You can learn more about ngrok <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://ngrok.com/docs" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">here</a>.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="implementing-the-validation-api" class="vocs_Heading_slugTarget"></div>Implementing the Validation API<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#implementing-the-validation-api"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Now, let&#x27;s create an API endpoint to validate the data received from Smart Wallet.
This endpoint will check for valid formats and return errors if needed.</p>
<aside class="vocs_Callout vocs_Callout_info"><strong class="vocs_Strong">Wallet Validation</strong><p class="vocs_Paragraph">Smart Wallet will make some basic validation of the data before sending it to your callback URL.
This includes checking that the email is a valid email address and the physical address is a valid address.</p><p class="vocs_Paragraph">If the data is invalid, Smart Wallet will return an error to the user and not make the callback.</p></aside>
<div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="File" class="vocs_Icon" role="img" style="margin-top:1px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94 99" fill="none"><title>File</title><rect width="77px" height="89px" x="8px" y="3px" stroke="currentColor" stroke-width="6px" rx="7px"></rect><path stroke="currentColor" stroke-linecap="round" stroke-width="6px" d="M25 22h43M25 35h43M25 48h22"></path></svg></div>app/api/data-validation/route.ts</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="app/api/data-validation/route.ts" data-lang="ts" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// app/api/data-validation/route.ts</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">export</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> async</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> POST</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span">request</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Request</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> requestData</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> request.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">json</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  try</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Extract data from request</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> email</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> requestData.requestedInfo.email;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> physicalAddress</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> requestData.requestedInfo.physicalAddress;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> errors</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {};</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Example: Reject example.com emails</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (email </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> email.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">endsWith</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;@example.com&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      errors.email </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;Example.com emails are not allowed&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Example: Validate physical address</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (physicalAddress) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (physicalAddress.postalCode </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&amp;&amp;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> physicalAddress.postalCode.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">length</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">errors.physicalAddress) errors.physicalAddress </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {};</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        errors.physicalAddress.postalCode </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;Invalid postal code&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (physicalAddress.countryCode </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;XY&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">errors.physicalAddress) errors.physicalAddress </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {};</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        errors.physicalAddress.countryCode </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;We don&#x27;t ship to this country&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Return errors if any found</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (Object.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">keys</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(errors).</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">length</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">      return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Response.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">json</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        errors,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">        /*request: {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">          calls: [], // Replace the old calls with new ones</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">          chainId: numberToHex(84532), // Base Sepolia</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">          version: &quot;1.0&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">        },*/</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      });</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Success - no validation errors - you HAVE to return the original calls</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Response.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">json</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        calls: requestData.calls,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        chainId: requestData.chainId,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        capabilities: requestData.capabilities</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">catch</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (error) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">error</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Error processing data:&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, error);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Response.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">json</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      errors: { server: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Server error validating data&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    });</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<aside class="vocs_Callout vocs_Callout_warning"><strong class="vocs_Strong">Returning the original calls</strong><p class="vocs_Paragraph">You MUST return the original calls in the response if the check is successful.</p><p class="vocs_Paragraph">If you don&#x27;t, the wallet will return an error.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="how-it-works" class="vocs_Heading_slugTarget"></div>How It Works<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#how-it-works"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">When a user visits your application and connects their Smart Wallet, the following process occurs:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">User connects their Smart Wallet</strong>: The user clicks &quot;Sign in with Smart Wallet&quot; and authorizes the connection.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">App requests profile data</strong>: Your app calls <code class="vocs_Code">wallet_sendCalls</code> with the <code class="vocs_Code">dataCallback</code> capability, a list of calls to be made, a list of requested data types, and a callback URL to call with the data.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Smart Wallet prompts the user</strong>: The wallet shows a UI asking the user to share the requested information.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">User provides data</strong>: The user enters/confirms their information in the Smart Wallet interface.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Data is validated</strong>: Smart Wallet sends the data to your callback URL for validation.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Validation response</strong>: Your API validates the data and returns success or errors as well as any new calls to be made.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Transaction completion</strong>: If validation passes, the wallet returns the data to your application.</p>
</li>
</ol>
<aside class="vocs_Callout vocs_Callout_info"><strong class="vocs_Strong">Replacing calls after data validation</strong><p class="vocs_Paragraph">If you need to replace the calls made in the initial request with new ones, you can do so by returning a <code class="vocs_Code">request</code> object in the response.</p><p class="vocs_Paragraph">This is useful if you need to make a second call to get a new address based on the first one, for example.</p><div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="File" class="vocs_Icon" role="img" style="margin-top:1px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94 99" fill="none"><title>File</title><rect width="77px" height="89px" x="8px" y="3px" stroke="currentColor" stroke-width="6px" rx="7px"></rect><path stroke="currentColor" stroke-linecap="round" stroke-width="6px" d="M25 22h43M25 35h43M25 48h22"></path></svg></div>app/api/data-validation/route.ts</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="app/api/data-validation/route.ts" data-lang="ts" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  request</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    calls</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: [], </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Replace the old calls with new ones</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    chainId</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">numberToHex</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">84532</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Base Sepolia</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    version</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;1.0&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="understanding-the-response-format" class="vocs_Heading_slugTarget"></div>Understanding the Response Format<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#understanding-the-response-format"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">When a user provides profile information, Smart Wallet returns a response object with the following structure:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  callsId</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: string,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  requestedInfo</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    email</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    physicalAddress</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      physicalAddress: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          address1: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          address2?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          city: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          state: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          postalCode: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          countryCode: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          name?: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            firstName: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            familyName: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">          }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        isPrimary: boolean,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      walletAddress</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      phoneNumber</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        number: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        country: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        isPrimary: boolean,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      name</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        firstName: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        familyName: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Each field will only be present if it was requested and provided by the user.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="validation-error-format" class="vocs_Heading_slugTarget"></div>Validation Error Format<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#validation-error-format"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">If your validation API finds issues with the data, return an errors object with this structure:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  errors</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    email</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    name</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      firstName?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      lastName?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    phoneNumber</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      countryCode?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      number?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    physicalAddress</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      address1?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      address2?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      city?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      state?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      postalCode?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      country?: string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    walletAddress</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">?:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> string,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Smart Wallet will show these error messages to the user and prompt them to correct the information.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="testing-your-integration" class="vocs_Heading_slugTarget"></div>Testing Your Integration<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#testing-your-integration"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">To test your integration:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Start your development server:</li>
</ol>
<div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="Terminal" class="vocs_Icon" role="img" style="margin-top:3px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 95" fill="none"><title>Terminal</title><path fill="currentColor" d="M38.281 34.033c0-1.074-.39-2.05-1.22-2.88L6.885 1.171C6.152.39 5.175 0 4.053 0 1.758 0 0 1.709 0 4.004c0 1.074.488 2.1 1.172 2.88l27.295 27.15L1.172 61.181C.488 61.962 0 62.939 0 64.062c0 2.295 1.758 4.004 4.053 4.004 1.123 0 2.1-.39 2.832-1.172l30.176-29.98c.83-.83 1.22-1.807 1.22-2.88Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="8px" d="M36 75h55"></path></svg></div>Terminal</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="Terminal" data-lang="bash" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">npm</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> run</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> dev</span></span></code></pre></div></div>
<ol start="2" class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Start an ngrok tunnel to your local server:</li>
</ol>
<div class="vocs_CodeBlock"><div class="vocs_CodeTitle"><div aria-label="Terminal" class="vocs_Icon" role="img" style="margin-top:3px;--vocs_Icon_size:14px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 95" fill="none"><title>Terminal</title><path fill="currentColor" d="M38.281 34.033c0-1.074-.39-2.05-1.22-2.88L6.885 1.171C6.152.39 5.175 0 4.053 0 1.758 0 0 1.709 0 4.004c0 1.074.488 2.1 1.172 2.88l27.295 27.15L1.172 61.181C.488 61.962 0 62.939 0 64.062c0 2.295 1.758 4.004 4.053 4.004 1.123 0 2.1-.39 2.832-1.172l30.176-29.98c.83-.83 1.22-1.807 1.22-2.88Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="8px" d="M36 75h55"></path></svg></div>Terminal</div><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" data-title="Terminal" data-lang="bash" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">ngrok</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> http</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 3000</span></span></code></pre></div></div>
<ol start="3" class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">
<p class="vocs_Paragraph">Update the <code class="vocs_Code">ngrokUrl</code> variable in your code with the HTTPS URL from ngrok.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph">Open your browser and navigate to your localhost URL.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph">Connect your Smart Wallet and test requesting and validating user data.</p>
</li>
</ol>
<h2 class="vocs_H2 vocs_Heading"><div id="making-fields-optional" class="vocs_Heading_slugTarget"></div>Making Fields Optional<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#making-fields-optional"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">You can make any requested field optional by setting the <code class="vocs_Code">optional</code> parameter:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">requests</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: [</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  { type: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;email&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, optional: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> },  </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Required</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  { type: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;physicalAddress&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, optional: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> },  </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Optional</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">]</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Optional fields will be marked as such in the Smart Wallet interface, allowing users to skip them.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="best-practices" class="vocs_Heading_slugTarget"></div>Best Practices<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#best-practices"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Only request what you need</strong>: Ask for the minimum information necessary for your application.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Explain why</strong>: In your UI, clearly explain why you need each piece of information.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Be transparent</strong>: Inform users how their data will be used and stored.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Thorough validation</strong>: Validate all fields properly and provide helpful error messages.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph"><strong class="vocs_Strong">Handle errors gracefully</strong>: Always account for cases where users decline to provide information.</p>
</li>
</ol>
<h2 class="vocs_H2 vocs_Heading"><div id="conclusion" class="vocs_Heading_slugTarget"></div>Conclusion<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/identity/smart-wallet/guides/profiles#conclusion"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">The Profiles feature in Smart Wallet provides a secure and user-friendly way to collect necessary user information for your onchain app. By following this guide, you&#x27;ve learned how to:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Request profile data from Smart Wallet users</li>
<li class="vocs_ListItem">Validate that data through a callback API</li>
<li class="vocs_ListItem">Process and display the information in your application</li>
</ul>
<p class="vocs_Paragraph">This integration simplifies user onboarding and data collection while maintaining user privacy and control.</p></article><footer class="vocs_Footer"><div class="vocs_Footer_container"></div><footer class="py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col items-center justify-center space-y-4"><div class="flex items-center space-x-2"><span class="text-zinc-900 dark:text-zinc-100 font-medium">Base Docs</span></div><div class="text-sm text-zinc-600 dark:text-zinc-400">© <!-- -->2025<!-- --> base.org. All rights reserved.</div><div class="flex flex-row space-x-4"><a href="/privacy-policy">Privacy Policy</a><a href="/terms-of-service">Terms of Service</a><a href="/cookie-policy">Cookie Policy</a></div></div></div></footer></footer></div><div data-bottom-observer="true"></div></div><!--$--><!--/$--></div></div>
  </body>
</html>
