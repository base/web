import{u as a,j as s}from"./index-Dlxm52NL.js";const r={title:"Quickstart: Set up your Paymaster on your application",sidebar_label:"Quickstart",slug:"paymaster-bundler-qs-ui"};function i(n){const e={a:"a",blockquote:"blockquote",code:"code",div:"div",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",...a(),...n.components};return s.jsxs(s.Fragment,{children:[s.jsxs(e.p,{children:["This Paymaster quickstart tutorial explains how to set up a basic app and sponsor transactions using ",s.jsx(e.a,{href:"https://onchainkit.xyz/",children:"OnchainKit"})," and Coinbase Smart Wallet."]}),`
`,s.jsxs(e.h2,{id:"getting-an-endpoint-on-base-sepolia",children:["Getting an endpoint on Base Sepolia",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#getting-an-endpoint-on-base-sepolia",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.blockquote,{children:[`
`,s.jsx(e.strong,{children:"How to Get a Paymaster & Bundler endpoint on Base testnet (Sepolia) from CDP"}),`
`]}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:[`
`,s.jsxs(e.p,{children:[s.jsx(e.a,{href:"https://coinbase.com/developer-platform",children:"Create"})," a new CDP account or ",s.jsx(e.a,{href:"https://portal.cdp.coinbase.com",children:"sign in"})," to your existing account."]}),`
`]}),`
`,s.jsxs(e.li,{children:[`
`,s.jsxs(e.p,{children:["Navigate to ",s.jsx(e.a,{href:"https://portal.cdp.coinbase.com/products/bundler-and-paymaster",children:"Paymaster"}),"."]}),`
`]}),`
`,s.jsxs(e.li,{children:[`
`,s.jsxs(e.p,{children:["Add the following address to the allowlist under ",s.jsx(e.strong,{children:"Configuration"}),"â€”this is the address of the contract we are calling:"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"0x67c97D1FB8184F038592b2109F854dfb09C77C75"})})})})}),`
`]}),`
`,s.jsxs(e.li,{children:[`
`,s.jsx(e.p,{children:"Switch to Base testnet (Sepolia) in the top right of the configuration."}),`
`]}),`
`,s.jsxs(e.li,{children:[`
`,s.jsx(e.p,{children:"Copy your endpoint to use later."}),`
`]}),`
`]}),`
`,s.jsxs("details",{children:[s.jsx("summary",{children:s.jsx("b",{children:"Expand for images and click to enlarge"})}),s.jsxs("div",{children:[s.jsx("figcaption",{children:s.jsx("i",{children:"Paymaster - Gas Policy"})}),s.jsx("img",{src:"/images/paymaster/pb-paymaster-config.png",width:"700",alt:""})]})]}),`
`,s.jsxs(e.h2,{id:"setting-up-an-app-template",children:["Setting up an app template",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setting-up-an-app-template",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:"Clone the repo"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"git clone "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"https"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:":"}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"//github.com/coinbase/onchain-app-template.git"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"cd onchain"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"-"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"app"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"-"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"template"})]})]})})}),`
`,s.jsxs(e.p,{children:["You can find the API key on the Coinbase Developer Portal's ",s.jsx(e.a,{href:"https://portal.cdp.coinbase.com/products/onchainkit",children:"OnchainKit page"}),`. If you don't have an account, you will need to create one.
You can find your Wallet Connector project ID at Wallet Connect.
Add the following to your `,s.jsx(e.code,{children:".env"})," file"]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_PAYMASTER_AND_BUNDLER_ENDPOINT"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" ="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" ADD_YOUR_PAYMASTER_URL_HERE"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_CDP_API_KEY"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" ="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" ADD_YOUR_ONCHAINKIT_KEY_HERE"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_WC_PROJECT_ID"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" ="}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" ADD_YOUR_PROJECT_ID_HERE"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]})]})})}),`
`,s.jsx(e.p,{children:"Install dependencies - run these in your terminal in the root of the project"}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"# Install bun "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"in"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" case"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" you don"}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"'t have i"}),s.jsx(e.span,{style:{color:"#B31D28",fontStyle:"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"},children:"t"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"bun curl "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"-"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"fsSL "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"<"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"https"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:":"}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"//bun.sh/install> | bash"})]}),`
`,s.jsx(e.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"# Install packages"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"bun i"})})]})})}),`
`,s.jsxs(e.h3,{id:"add-your-paymaster-to-the-transact-button",children:["Add your paymaster to the transact button",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#add-your-paymaster-to-the-transact-button",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["Navigate to ",s.jsx(e.code,{children:"/src/components/TransactionWrapper.tsx"})," and modify the Transaction component to include the paymaster service."]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"      <"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"Transaction"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"        address"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{address}"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"        contracts"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{contracts}"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"        className"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"w-[450px]"'})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"        chainId"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"BASE_SEPOLIA_CHAIN_ID"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"        onError"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{handleError}"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"        onSuccess"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{handleSuccess}"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"        // Paymaster capabilities added below"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"        capabilities"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{{"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"          paymasterService: {"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"            url: process.env."}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_PAYMASTER_AND_BUNDLER_ENDPOINT"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"!"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"          },"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"        }}"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"      >"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"        <"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"TransactionButton"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"          className"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"mt-0 mr-auto ml-auto w-[450px] max-w-full text-[white]"'})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"          text"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"Collect"'})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"        />"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"        <"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"TransactionStatus"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"          <"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"TransactionStatusLabel"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" />"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"          <"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"TransactionStatusAction"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" />"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"        </"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"TransactionStatus"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"      </"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"Transaction"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]})]})})}),`
`,s.jsxs(e.h3,{id:"start-the-app-locally",children:["Start the app locally",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#start-the-app-locally",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(s.Fragment,{children:s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"bun run dev"})})})})}),`
`,s.jsxs(e.h3,{id:"open-the-app-in-your-browser-and-sign-in-with-a-smart-wallet",children:["Open the app in your browser and sign in with a smart wallet",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#open-the-app-in-your-browser-and-sign-in-with-a-smart-wallet",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["Navigate to ",s.jsx(e.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),`
`,s.jsx(e.p,{children:"Click connect and sign in with your smart wallet or create a new one."}),`
`,s.jsxs(e.h3,{id:"initiate-the-transaction",children:["Initiate the transaction",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#initiate-the-transaction",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.p,{children:'Click the "Collect" button and your paymaster will sponsor. Note only Smart Wallets can have sponsored transactions so EOA accounts will not get sponsorship.'}),`
`,s.jsx(e.p,{children:"Thats it! You've successfully set up your paymaster on your application."}),`
`,s.jsxs(e.h2,{id:"other-examples",children:["Other Examples",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#other-examples",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["Additional documentation and information on Coinbase Smart Wallet is at ",s.jsx(e.a,{href:"https://smartwallet.dev/",children:"smartwallet.dev"}),"."]}),`
`,s.jsxs(e.p,{children:["Check out how to build onchain applications with ease using ",s.jsx(e.a,{href:"https://onchainkit.xyz/",children:"OnchainKit"}),"!"]})]})}function t(n={}){const{wrapper:e}={...a(),...n.components};return e?s.jsx(e,{...n,children:s.jsx(i,{...n})}):i(n)}export{t as default,r as frontmatter};
