import{u as _e,s as We,g as Ye,i as $,f as Ze,a as ze,b as Je,c as Xe,p as et,d as tt,O as nt,e as st,h as at}from"./isApplePaySupported-CKnrYHmE.js";import{u as ot}from"./useTheme-DG4jZ5Gt.js";import{ao as ve,ai as rt,S as ut,ad as we,ax as K,Z as S,c as w,$ as ee,_ as te,Y as it,a0 as F,a1 as ce}from"./OnchainKitProvider-BMiQl1rP.js";import{F as Ne,g as ie}from"./getSwapErrorCode-Rcq4QZsj.js";import{r as c,j as u}from"./index-Dlxm52NL.js";import{T as lt}from"./TextInput-QLQFuuli.js";import{i as ct}from"./useGetTokenBalance-D84Q7gP2.js";import{u as dt,a as mt,f as pt}from"./FundCardPaymentMethodSelectorToggle-Bf15ueU3.js";import{T as ft}from"./TokenChip-DXi-Bogr.js";import{c as yt,i as gt,S as ht}from"./Spinner-DJZ1Iw6h.js";import{b as bt,c as At,d as xt,e as St}from"./useIcon-C51nxPJS.js";import{u as de}from"./useValue-BadCClMc.js";import{u as le,e as Se,G as kt,C as Ct}from"./ConnectWallet-BZ56ys6q.js";import{u as je}from"./useOnchainKit-BS9QuBF4.js";import{u as Be}from"./useAccount-BLyN9GYK.js";import{C as Dt}from"./closeSvg--Ik2tSBz.js";import"./attestations-CryG6VVa.js";import{o as _t}from"./getWindowDimensions-iG_J0Zn9.js";import{T as vt}from"./TokenImage-C5Bcv8Gy.js";function se(e,n){return Bt(e)||jt(e,n)||Nt(e,n)||wt()}function wt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(e,n){if(e){if(typeof e=="string")return ke(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ke(e,n):void 0}}function ke(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,s=Array(n);t<n;t++)s[t]=e[t];return s}function jt(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,r,a,i=[],l=!0,d=!1;try{if(r=(t=t.call(e)).next,n!==0)for(;!(l=(s=r.call(t)).done)&&(i.push(s.value),i.length!==n);l=!0);}catch(g){d=!0,o=g}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw o}}return i}}function Bt(e){if(Array.isArray(e))return e}const ae=(e,n,t)=>{const s=c.useState(""),o=se(s,2),r=o[0],a=o[1],i=c.useState(""),l=se(i,2),d=l[0],g=l[1],k=c.useState(!1),C=se(k,2),A=C[0],T=C[1],D=_e({address:t,fromToken:n,toToken:e}),_=D.fromBalanceString,O=D.fromTokenBalanceError,E=D.fromTokenResponse;return de({balance:_,balanceResponse:E,amount:r,setAmount:a,amountUSD:d,setAmountUSD:g,token:n,loading:A,setLoading:T,error:O})};function oe(e,n){return Ot(e)||It(e,n)||Mt(e,n)||Tt()}function Tt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mt(e,n){if(e){if(typeof e=="string")return Ce(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ce(e,n):void 0}}function Ce(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,s=Array(n);t<n;t++)s[t]=e[t];return s}function It(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,r,a,i=[],l=!0,d=!1;try{if(r=(t=t.call(e)).next,n!==0)for(;!(l=(s=r.call(t)).done)&&(i.push(s.value),i.length!==n);l=!0);}catch(g){d=!0,o=g}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw o}}return i}}function Ot(e){if(Array.isArray(e))return e}const Pt=(e,n,t)=>{const s=ae(e,Se,t),o=ae(e,le,t),r=ae(e,n,t),a=c.useState(""),i=oe(a,2),l=i[0],d=i[1],g=c.useState(""),k=oe(g,2),C=k[0],A=k[1],T=c.useState(!1),D=oe(T,2),_=D[0],O=D[1],E=(e==null?void 0:e.symbol)==="ETH"?le:Se,M=_e({address:t,fromToken:E,toToken:e}),N=M.toBalanceString,P=M.toTokenBalanceError,q=M.toTokenResponse,R=de({balance:N,balanceResponse:q,amount:l,setAmount:d,amountUSD:C,setAmountUSD:A,token:e,loading:_,setLoading:O,error:P});return{fromETH:s,fromUSDC:o,from:r,to:R}},Et=({updateLifecycleStatus:e,maxSlippage:n,lifecycleStatus:t})=>{const s=c.useCallback(a=>{a.eventName==="transition_view"&&(t==null?void 0:t.statusName)!=="transactionPending"&&e({statusName:"transactionPending",statusData:{isMissingRequiredField:!1,maxSlippage:n}})},[n,e,t==null?void 0:t.statusName]),o=c.useCallback(()=>{e({statusName:"success",statusData:{isMissingRequiredField:!1,transactionReceipt:{},maxSlippage:n}})},[n,e]),r=c.useCallback(()=>{e({statusName:"init",statusData:{isMissingRequiredField:!1,maxSlippage:n}})},[e,n]);return c.useEffect(()=>{const a=We({onEvent:s,onSuccess:o});return()=>{a()}},[s,o]),{onPopupClose:r}},Rt=({fromETH:e,fromUSDC:n,from:t,to:s})=>c.useCallback(async()=>{var o,r,a,i;await Promise.all([(o=t==null?void 0:t.balanceResponse)==null?void 0:o.refetch(),t==null?void 0:t.setAmount(""),t==null?void 0:t.setAmountUSD(""),(r=e.balanceResponse)==null?void 0:r.refetch(),e.setAmount(""),e.setAmountUSD(""),(a=n.balanceResponse)==null?void 0:a.refetch(),n.setAmount(""),n.setAmountUSD(""),(i=s.balanceResponse)==null?void 0:i.refetch(),s.setAmount(""),s.setAmountUSD("")])},[t,e,n,s]);async function re({amount:e,from:n,maxSlippage:t,to:s,useAggregator:o,fromSwapUnit:r}){if(!n)return{response:void 0,formattedFromAmount:"",error:void 0};let a;(s==null?void 0:s.symbol)!==(n==null?void 0:n.symbol)&&(a=await Ye({amount:e,amountReference:"from",from:s,maxSlippage:t,to:n,useAggregator:o},ve.Buy));let i="";a&&!$(a)&&(i=a!=null&&a.toAmount?Ze(a.toAmount,a.to.decimals):"",r==null||r.setAmountUSD((a==null?void 0:a.toAmountUSD)||""),r==null||r.setAmount(i||""));let l;return $(a)&&(l=a,a=void 0),{response:a,formattedFromAmount:i,error:l}}function Lt({to:e,responseETH:n,responseUSDC:t,responseFrom:s,updateLifecycleStatus:o}){if(!$(n)&&(n!=null&&n.toAmountUSD))e.setAmountUSD(n==null?void 0:n.toAmountUSD);else if(!$(t)&&(t!=null&&t.toAmountUSD))e.setAmountUSD(t.toAmountUSD);else if(!$(s)&&(s!=null&&s.toAmountUSD))e.setAmountUSD(s.toAmountUSD);else return o({statusName:"error",statusData:{code:"TmBPc01",error:"No valid quote found",message:""}}),{isValid:!1};return{isValid:!0}}function X(e,n){return qt(e)||Ut(e,n)||Ft(e,n)||$t()}function $t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(e,n){if(e){if(typeof e=="string")return De(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?De(e,n):void 0}}function De(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,s=Array(n);t<n;t++)s[t]=e[t];return s}function Ut(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s,o,r,a,i=[],l=!0,d=!1;try{if(r=(t=t.call(e)).next,n!==0)for(;!(l=(s=r.call(t)).done)&&(i.push(s.value),i.length!==n);l=!0);}catch(g){d=!0,o=g}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw o}}return i}}function qt(e){if(Array.isArray(e))return e}const Te={},Me=c.createContext(Te);function U(){const e=c.useContext(Me);if(e===Te)throw new Error("useBuyContext must be used within a Buy component");return e}function Ht({children:e,config:n={maxSlippage:Ne},disabled:t,experimental:s,isSponsored:o,onError:r,onStatus:a,onSuccess:i,toToken:l,fromToken:d}){const g=je(),k=g.config,C=k===void 0?{paymaster:void 0}:k,A=C.paymaster,T=g.projectId,D=Be(),_=D.address,O=D.chainId,E=bt(),M=E.switchChainAsync,N=s.useAggregator,P=rt(),q=c.useState(!1),R=X(q,2),G=R[0],Q=R[1],x=At({chainId:ut.id}),H=yt({statusName:"init",statusData:{isMissingRequiredField:!0,maxSlippage:n.maxSlippage}}),I=X(H,2),m=I[0],b=I[1],ne=c.useState(""),W=X(ne,2),Y=W[0],V=W[1],Ie=c.useState(!1),me=X(Ie,2),Z=me[0],pe=me[1],z=Pt(l,d,_),p=z.from,j=z.fromETH,B=z.fromUSDC,y=z.to,Oe=dt(),fe=Oe.sendTransactionAsync,Pe=mt(),ye=Pe.sendCallsAsync,ge=Rt({fromETH:j,fromUSDC:B,from:p,to:y}),he=ze({accountConfig:P,lifecycleStatus:m,updateLifecycleStatus:b}),Ee=Et({updateLifecycleStatus:b,maxSlippage:n.maxSlippage,lifecycleStatus:m}),Re=Ee.onPopupClose,Le=Je(Re),$e=Le.startPopupMonitor,Fe=we(),L=Fe.sendAnalytics;c.useEffect(()=>{var f,h,v;if(m.statusName==="error"&&(r==null||r(m.statusData)),m.statusName==="success"){i==null||i(m==null?void 0:m.statusData.transactionReceipt);const J=(f=m.statusData.transactionReceipt)==null?void 0:f.transactionHash;V(J),pe(!0),L(K.BuySuccess,{address:_,amount:Number(p==null?void 0:p.amount),from:(h=p==null?void 0:p.token)==null?void 0:h.address,paymaster:!!A,to:(v=y==null?void 0:y.token)==null?void 0:v.address,transactionHash:J})}a==null||a(m)},[r,a,i,m,m.statusData,m.statusName,p,y,_,A,L]),c.useEffect(()=>{T||console.error("Project ID is required for this component, please set the projectId in the OnchainKitProvider")},[T]),c.useEffect(()=>{m.statusName==="init"&&Z&&(pe(!1),ge())},[Z,m.statusName,ge]),c.useEffect(()=>{m.statusName==="transactionApproved"&&m.statusData.transactionType==="Batched"&&he()},[he,m,m.statusData,m.statusName]),c.useEffect(()=>{let f;return m.statusName==="success"&&Z&&(f=setTimeout(()=>{b({statusName:"init",statusData:{isMissingRequiredField:!0,maxSlippage:n.maxSlippage}})},3e3)),()=>{if(f)return clearTimeout(f)}},[n.maxSlippage,Z,m.statusName,b]);const Ue=c.useCallback(async f=>{if(y.token===void 0||j.token===void 0||B.token===void 0){b({statusName:"amountChange",statusData:{amountETH:j.amount,amountUSDC:B.amount,amountTo:y.amount,tokenTo:y.token,isMissingRequiredField:!0}});return}if(f===""||f==="."||Number.parseFloat(f)===0){y.setAmount(""),y.setAmountUSD(""),j.setAmountUSD(""),B.setAmountUSD(""),p==null||p.setAmountUSD("");return}j.setLoading(!0),B.setLoading(!0),p==null||p.setLoading(!0),b({statusName:"amountChange",statusData:{amountTo:f,amountETH:"",amountUSDC:"",amountFrom:"",tokenFromETH:j.token,tokenFromUSDC:B.token,tokenFrom:p==null?void 0:p.token,tokenTo:y.token,isMissingRequiredField:!0}});try{const h=m.statusData.maxSlippage,v=await re({amount:f,from:j.token,maxSlippage:String(h),to:y.token,useAggregator:N,fromSwapUnit:j}),J=v.response,be=v.formattedFromAmount,Ae=await re({amount:f,from:B.token,maxSlippage:String(h),to:y.token,useAggregator:N,fromSwapUnit:B}),Ve=Ae.response,Ke=Ae.formattedFromAmount,xe=await re({amount:f,from:p==null?void 0:p.token,maxSlippage:String(h),to:y.token,useAggregator:N,fromSwapUnit:p}),Ge=xe.response,Qe=xe.formattedFromAmount;if(!Lt({to:y,responseETH:J,responseUSDC:Ve,responseFrom:Ge,updateLifecycleStatus:b}).isValid)return;b({statusName:"amountChange",statusData:{amountETH:be,amountUSDC:Ke,amountFrom:Qe||"",amountTo:f,tokenFromETH:j.token,tokenFromUSDC:B.token,tokenFrom:p==null?void 0:p.token,tokenTo:y.token,isMissingRequiredField:!be}})}catch(h){L(K.BuyFailure,{error:h instanceof Error?h.message:String(h),metadata:{amount:f}}),b({statusName:"error",statusData:{code:"TmBPc02",error:JSON.stringify(h),message:""}})}finally{j.setLoading(!1),B.setLoading(!1),p==null||p.setLoading(!1)}},[y,p,j,B,N,b,m.statusData.maxSlippage,L]),qe=c.useCallback(async f=>{if(!(!_||!f.token||!y.token||!f.amount))try{L(K.BuyInitiated,{amount:Number(f.amount),token:f.token.symbol});const h=m.statusData.maxSlippage,v=await Xe({amount:f.amount,fromAddress:_,from:f.token,maxSlippage:String(h),to:y.token,useAggregator:N},ve.Buy);if($(v)){b({statusName:"error",statusData:{code:v.code,error:v.error,message:v.message}});return}await et({chainId:O,config:P,isSponsored:o,paymaster:A||"",sendCallsAsync:ye,sendTransactionAsync:fe,swapTransaction:v,switchChainAsync:M,updateLifecycleStatus:b,useAggregator:N,walletCapabilities:x})}catch(h){L(K.BuyFailure,{error:h instanceof Error?h.message:String(h),metadata:{token:f.token.symbol,amount:f.amount}});const v=gt(h)?"Request denied.":kt;b({statusName:"error",statusData:{code:"TmBPc03",error:JSON.stringify(h),message:v}})}},[P,_,O,o,m,A,ye,fe,M,y.token,b,N,x,L]),He=de({address:_,config:n,disabled:t,from:p,fromETH:j,fromUSDC:B,handleAmountChange:Ue,handleSubmit:qe,lifecycleStatus:m,updateLifecycleStatus:b,to:y,setTransactionHash:V,transactionHash:Y,isDropdownOpen:G,setIsDropdownOpen:Q,toToken:l,fromToken:d,startPopupMonitor:$e});return u.jsx(Me.Provider,{value:He,children:e})}function Vt(){const e=U(),n=e.to,t=e.handleAmountChange;return n!=null&&n.token?u.jsxs("div",{className:S("flex h-12 items-center border px-2 pl-4",ee.default,te.radius,te.lineDefault),children:[u.jsx(lt,{className:S("mr-2 w-full border-none font-display","leading-none outline-none disabled:cursor-not-allowed",ee.default,w.foreground),placeholder:"0.0",delayMs:1e3,inputMode:"decimal",value:pt(n.amount),setValue:n.setAmount,disabled:n.loading,onChange:t,inputValidator:ct}),u.jsx(ft,{className:S(w.foreground,"rounded-md"),token:n.token,isPressable:!1})]}):null}const Kt=u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"ock-checkmarkSvg",children:[u.jsx("title",{children:"Checkmark SVG"}),u.jsx("path",{d:"M12.5 0C5.87 0 0.5 5.37 0.5 12C0.5 18.63 5.87 24 12.5 24C19.13 24 24.5 18.63 24.5 12C24.5 5.37 19.13 0 12.5 0ZM10.59 17.3L6.1 12.81L7.51 11.4L10.59 14.48L17.66 7.41L19.07 8.82L10.59 17.3Z",fill:"#F9FAFB"})]});function Gt(){const e=U(),n=e.address,t=e.disabled,s=e.setIsDropdownOpen,o=e.isDropdownOpen,r=e.from,a=e.fromETH,i=e.fromUSDC,l=e.to,d=e.lifecycleStatus.statusName,g=e.updateLifecycleStatus,k=(l==null?void 0:l.loading)||(r==null?void 0:r.loading)||(a==null?void 0:a.loading)||(i==null?void 0:i.loading)||d==="transactionPending"||d==="transactionApproved",C=!(l!=null&&l.amount)||!(l!=null&&l.token),A=k||t,T=c.useCallback(()=>{if(C){g({statusName:"error",statusData:{code:"TmBPc05",error:"Missing required fields",message:"Complete the field to continue"}});return}if(o){s(!1);return}o||s(!0)},[C,s,o,g]),D=c.useMemo(()=>d==="success"?Kt:o?u.jsx(Dt,{className:it.inverse}):"Buy",[d,o]);return!A&&!n?u.jsx(Ct,{text:"Buy",className:"h-12 w-24 min-w-24"}):u.jsx("button",{type:"button",className:S(ee.primary,te.radius,"flex rounded-xl","h-12 w-24 items-center justify-center px-4 py-3",A&&ce.disabled,F.headline),onClick:T,"data-testid":"ockBuyButton_Button",disabled:A,children:k?u.jsx(ht,{}):u.jsx("span",{className:S(F.headline,w.inverse),children:D})})}const Qt=[{id:"CRYPTO_ACCOUNT",name:"Coinbase",description:"Buy with your Coinbase account",icon:"coinbasePay"},{id:"APPLE_PAY",name:"Apple Pay",description:"Up to $500/week",icon:"applePay"},{id:"CARD",name:"Debit Card",description:"Up to $500/week",icon:"creditCard"}],Wt=u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","data-testid":"cardSvg",children:[u.jsx("title",{children:"Debit Card Onramp"}),u.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),u.jsx("path",{d:"M7 15h0M2 9.5h20"})]}),Yt={applePay:St,coinbasePay:xt,creditCard:Wt};function Zt({name:e,description:n,onClick:t,icon:s,to:o}){const r=U(),a=r.setIsDropdownOpen,i=c.useCallback(()=>{a(!1),t()},[t,a]),l=c.useMemo(()=>{var k,C,A;return((C=(k=o==null?void 0:o.token)==null?void 0:k.address)==null?void 0:C.toLowerCase())===((A=le)==null?void 0:A.address.toLowerCase())?o==null?void 0:o.amount:o==null?void 0:o.amountUSD},[o]),d=!l||Number.parseFloat(l)<5&&e!=="Coinbase",g=c.useMemo(()=>d?"Minimum purchase amount is $5":n,[d,n]);return u.jsxs("button",{className:S("flex items-center gap-2 rounded-lg p-2",F.label2,!d&&ce.default,d&&w.foregroundMuted),onClick:i,type:"button","data-testid":`ock-${s}OnrampItem`,disabled:d,children:[u.jsx("div",{className:"flex h-9 w-9 items-center justify-center",children:Yt[s]}),u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("div",{className:"relative flex items-center gap-1",children:u.jsx("div",{children:e})}),u.jsx("div",{className:S("text-xs",w.foregroundMuted),children:g})]})]})}function ue({swapUnit:e}){const n=U(),t=n.handleSubmit,s=n.setIsDropdownOpen;if(!e||!e.token)return null;const o=c.useCallback(()=>{s(!1),t(e)},[t,e,s]),r=!e.balance||Number.parseFloat(e.balance)<Number.parseFloat(e.amount),a=c.useMemo(()=>e.amount?ie(e.amount,10):"",[e.amount]),i=c.useMemo(()=>ie(e.balance||"0",3),[e.balance]);return u.jsxs("button",{className:S("flex items-center gap-2 rounded-lg p-2",!r&&ce.default,F.label2),onClick:o,type:"button",disabled:r,children:[u.jsx(vt,{token:e.token,size:36}),u.jsxs("div",{className:S("flex flex-col items-start",r?w.foregroundMuted:w.foreground),children:[u.jsxs("div",{children:[a," ",e.token.name]}),u.jsx("div",{className:S("text-xs",r?w.error:w.foregroundMuted),children:`${r?"Insufficient balance":"Balance"}: ${i}`})]})]})}function zt(){var M,N,P,q,R,G,Q;const e=je(),n=e.projectId,t=U(),s=t.to,o=t.fromETH,r=t.fromUSDC,a=t.from,i=t.startPopupMonitor,l=t.setIsDropdownOpen,d=Be(),g=d.address,k=we(),C=k.sendAnalytics,A=c.useCallback(x=>()=>{var V;C(K.BuyOptionSelected,{option:x});const H=(V=s==null?void 0:s.token)==null?void 0:V.symbol;let I=s==null?void 0:s.amount;(I==null?void 0:I[0])==="."&&(I=`0${I}`);const m=`${nt}/one-click?appId=${n}&addresses={"${g}":["base"]}&assets=["${H}"]&presetCryptoAmount=${I}&defaultPaymentMethod=${x}`,b=tt("md",m),ne=b.height,W=b.width,Y=_t({url:m,height:ne,width:W,target:"_blank"});Y&&i(Y)},[g,s,n,i,C]),T=c.useMemo(()=>!(s!=null&&s.amountUSD)||(s==null?void 0:s.amountUSD)==="0"?null:`$${Number(ie(s==null?void 0:s.amountUSD,2)).toFixed(2)}`,[s==null?void 0:s.amountUSD]),D=((M=s==null?void 0:s.token)==null?void 0:M.symbol)==="ETH",_=((N=s==null?void 0:s.token)==null?void 0:N.symbol)==="USDC",O=((P=s==null?void 0:s.token)==null?void 0:P.symbol)!==((q=a==null?void 0:a.token)==null?void 0:q.symbol)&&a&&((R=a==null?void 0:a.token)==null?void 0:R.symbol)!=="ETH"&&((G=a==null?void 0:a.token)==null?void 0:G.symbol)!=="USDC";c.useEffect(()=>{const x=H=>{H.key==="Escape"&&l(!1)};return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[l]);const E=st();return u.jsxs("div",{className:S(w.foreground,ee.default,"absolute right-0 bottom-0 flex translate-y-[102%] flex-col gap-2","z-10 min-w-80 rounded border p-2",te.radius),children:[u.jsx("div",{className:S(F.headline,"px-2 pt-2"),children:"Buy with"}),!D&&u.jsx(ue,{swapUnit:o}),!_&&u.jsx(ue,{swapUnit:r}),O&&u.jsx(ue,{swapUnit:a}),Qt.map(x=>x.id==="APPLE_PAY"&&!E?null:u.jsx(Zt,{name:x.name,description:x.description,onClick:A(x.id),icon:x.icon,to:s},x.id)),!!T&&u.jsx("div",{className:S("flex justify-end",F.legal,w.foregroundMuted),children:`${s==null?void 0:s.amount} ${(Q=s==null?void 0:s.token)==null?void 0:Q.name} â‰ˆ ${T}`})]})}function Jt(){var t;const e=U(),n=e.lifecycleStatus;if($(n.statusData)){const s=n.statusData.message||"Something went wrong. Please try again.",o=((t=n==null?void 0:n.statusData)==null?void 0:t.code)==="TmBPc05"?w.foregroundMuted:w.error;return u.jsx("div",{className:S(o,F.label2),children:s})}return null}function Xt({className:e}){const n=ot(),t=U(),s=t.isDropdownOpen,o=t.setIsDropdownOpen,r=c.useRef(null);return at(r,()=>{s&&o(!1)}),u.jsxs("div",{ref:r,className:S("relative flex flex-col gap-2",n,e),children:[u.jsxs("div",{className:S("flex items-center gap-4"),children:[u.jsx(Vt,{}),u.jsx(Gt,{}),s&&u.jsx(zt,{})]}),u.jsx(Jt,{})]})}function kn({config:e={maxSlippage:Ne},className:n,disabled:t=!1,experimental:s={useAggregator:!1},isSponsored:o=!1,onError:r,onStatus:a,onSuccess:i,toToken:l,fromToken:d}){return u.jsx(Ht,{config:e,disabled:t,experimental:s,isSponsored:o,onError:r,onStatus:a,onSuccess:i,toToken:l,fromToken:d,children:u.jsx(Xt,{className:n})})}function Cn({children:e}){const n={name:"DEGEN",address:"0x4ed4e862860bed51a9570b96d89af5e1b0efefed",symbol:"DEGEN",decimals:18,image:"https://d3r81g40ycuhqg.cloudfront.net/wallet/wais/3b/bf/3bbf118b5e6dc2f9e7fc607a6e7526647b4ba8f0bea87125f971446d57b296d2-MDNmNjY0MmEtNGFiZi00N2I0LWIwMTItMDUyMzg2ZDZhMWNm",chainId:8453},t=c.useCallback(s=>{console.log("OnchainKit Docs Buy Error",s)},[]);return u.jsx("main",{className:"flex flex-col",children:u.jsx("div",{className:"flex h-36 w-full flex-col items-center justify-center gap-4 rounded-xl px-2 py-4 md:grow",children:e({toToken:n,onError:t})})})}export{Cn as B,kn as a};
