import{u as r,j as e}from"./index-Dlxm52NL.js";const l={title:"Coinbase Wallet: Payment Message Content Type",sidebar_label:"Payment Message Content Type"};function i(n){const s={a:"a",aside:"aside",code:"code",div:"div",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...r(),...n.components};return e.jsxs(e.Fragment,{children:[e.jsxs(s.p,{children:["Coinbase Wallet messaging is built with ",e.jsx(s.a,{href:"https://xmtp.org/",children:"XMTP"}),", and defines a custom ",e.jsx(s.a,{href:"https://xmtp.org/docs/content-types/introduction",children:"content type"})," for Coinbase Wallet payment messages."]}),`
`,e.jsx(s.p,{children:"This documentation outlines the structure for the payment message content type so other XMTP message API clients can encode and decode these messages, ensuring interoperability and consistent display of messages across other applications."}),`
`,e.jsxs(s.h2,{id:"details",children:["Details",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#details",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["The custom ",e.jsx(s.a,{href:"https://xmtp.org/docs/content-types/introduction",children:"content type"})," for payment messages is:"]}),`
`,e.jsx(s.p,{children:e.jsx(s.code,{children:"coinbase.com/coinbase-messaging-payment-activity:1.0"})}),`
`,e.jsx(s.p,{children:"Payment messages can be one of two types:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:"Regular Payments"}),`
`,e.jsx(s.li,{children:"Coinbase Sponsored Payments"}),`
`]}),`
`,e.jsxs(s.h2,{id:"regular-payments",children:["Regular Payments",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#regular-payments",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"A regular payment message contains details of standard cryptocurrency transactions."}),`
`,e.jsxs(s.h3,{id:"sample-structure",children:["Sample Structure",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#sample-structure",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "currencyCode"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'    "code"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"MATIC"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'    "rawValue"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"MATIC"'})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"  },"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "fromAddress"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"0xf4491fFfa96382d48949cB4fFfA39a3D6Eb9b11A"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "network"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'    "isTestnet"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"false"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'    "rawValue"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"ETHEREUM_CHAIN:137/false"'})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"  },"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "toAddress"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"0x6b21bf91f7d2e70f66d24fb15d18878175f4d1c0"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "transactionHash"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"0xe2dbb1fa07e50b12379c4f85c79a7a614124dad85b356cfb36fecba378f781b5"'})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsxs(s.h4,{id:"attributes",children:["Attributes",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#attributes",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{style:{textAlign:"left"},children:"Name"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"currencyCode"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"Specifies the cryptocurrency being transacted."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"fromAddress"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The sender's cryptocurrency wallet address."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"network"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"Details of the network on which the transaction is being conducted."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"toAddress"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The recipient's cryptocurrency wallet address."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"transactionHash"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"A unique identifier for the transaction."})]})]})]}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"transactionHash"})," can be used to fetch additional details and verify that the transaction has succeeded."]})}),`
`,e.jsxs(s.h2,{id:"coinbase-sponsored-payments",children:["Coinbase Sponsored Payments",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#coinbase-sponsored-payments",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Coinbase sponsored payments differ slightly from regular payments in their structure. They contain a sponsored transaction ID instead of a direct transaction hash."}),`
`,e.jsxs(s.h3,{id:"sample-structure-1",children:["Sample Structure",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#sample-structure-1",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "fromAddress"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"0xf4491fFfa96382d48949cB4fFfA39a3D6Eb9b11A"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "network"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'    "isTestnet"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"false"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'    "rawValue"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"ETHEREUM_CHAIN:137/false"'})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"  },"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "sponsoredTxId"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"d1a92f8d-e3ea-411e-93fa-db1f5fedc33b"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:'  "toAddress"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"0x6b21bf91f7d2e70f66d24fb15d18878175f4d1c0"'})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsxs(s.h4,{id:"attributes-1",children:["Attributes",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#attributes-1",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{style:{textAlign:"left"},children:"Name"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"fromAddress"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The sender's cryptocurrency wallet address."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"network"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"Details of the network on which the transaction is being conducted."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"sponsoredTxId"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"A unique identifier for the sponsored transaction."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"toAddress"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The recipient's cryptocurrency wallet address."})]})]})]}),`
`,e.jsxs(s.h3,{id:"fetching-transaction-hash-from-sponsoredtxid",children:["Fetching Transaction Hash from SponsoredTxId",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#fetching-transaction-hash-from-sponsoredtxid",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To obtain the actual ",e.jsx(s.code,{children:"transactionHash"})," using the ",e.jsx(s.code,{children:"sponsoredTxId"}),", make a ",e.jsx(s.strong,{children:"GET"})," request to the provided endpoint:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"https://api.wallet.coinbase.com/rpc/v2/sponsoredSend/getTransactionStatus?token=d1a92f8d-e3ea-411e-93fa-db1f5fedc33b"})})})})}),`
`,e.jsxs(s.p,{children:["Replace the token in the query parameter with your ",e.jsx(s.code,{children:"sponsoredTxId"}),". This endpoint will return the ",e.jsx(s.code,{children:"transactionId"}),", which is equivalent to the transaction hash, allowing you to verify the transaction on the relevant blockchain."]})]})}function a(n={}){const{wrapper:s}={...r(),...n.components};return s?e.jsx(s,{...n,children:e.jsx(i,{...n})}):i(n)}export{a as default,l as frontmatter};
