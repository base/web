import{u as r,j as e}from"./index-Dlxm52NL.js";const a={title:"Sending messages from Base to other chains using LayerZero V2",description:"A tutorial that teaches how to use LayerZero V2 to perform cross-chain messaging from Base Goerli testnet to Optimism Goerli testnet.",authors:["taycaldwell"]};function n(i){const s={a:"a",aside:"aside",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...r(),...i.components};return e.jsxs(e.Fragment,{children:[e.jsx(s.header,{children:e.jsxs(s.h1,{id:"sending-messages-from-base-to-other-chains-using-layerzero-v2",children:["Sending messages from Base to other chains using LayerZero V2",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#sending-messages-from-base-to-other-chains-using-layerzero-v2",children:e.jsx(s.div,{"data-autolink-icon":!0})})]})}),`
`,e.jsx(s.p,{children:"This tutorial will guide you through the process of sending cross-chain message data from a Base smart contract to another smart contract on a different chain using LayerZero V2."}),`
`,e.jsxs(s.h2,{id:"objectives",children:["Objectives",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#objectives",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"By the end of this tutorial you should be able to do the following:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:"Set up a smart contract project for Base using Foundry"}),`
`,e.jsx(s.li,{children:"Install the LayerZero smart contracts as a dependency"}),`
`,e.jsx(s.li,{children:"Use LayerZero to send messages and from smart contracts on Base to smart contracts on different chains"}),`
`,e.jsx(s.li,{children:"Deploy and test your smart contracts on Base testnet"}),`
`]}),`
`,e.jsxs(s.h2,{id:"prerequisites",children:["Prerequisites",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#prerequisites",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.h3,{id:"foundry",children:["Foundry",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#foundry",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"This tutorial requires you to have Foundry installed."}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:["From the command-line (terminal), run: ",e.jsx(s.code,{children:"curl -L https://foundry.paradigm.xyz | bash"})]}),`
`,e.jsxs(s.li,{children:["Then run ",e.jsx(s.code,{children:"foundryup"}),", to install the latest (nightly) build of Foundry"]}),`
`]}),`
`,e.jsxs(s.p,{children:["For more information, see the Foundry Book ",e.jsx(s.a,{href:"https://book.getfoundry.sh/getting-started/installation",children:"installation guide"}),"."]}),`
`,e.jsxs(s.h3,{id:"coinbase-wallet",children:["Coinbase Wallet",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#coinbase-wallet",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"In order to deploy a smart contract, you will first need a wallet. You can create a wallet by downloading the Coinbase Wallet browser extension."}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:["Download ",e.jsx(s.a,{href:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad?hl=en",children:"Coinbase Wallet"})]}),`
`]}),`
`,e.jsxs(s.h3,{id:"wallet-funds",children:["Wallet funds",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#wallet-funds",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"To complete this tutorial, you will need to fund a wallet with ETH on Base Goerli and Optimism Goerli."}),`
`,e.jsx(s.p,{children:"The ETH is required for covering gas fees associated with deploying smart contracts to each network."}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:["To fund your wallet with ETH on Base Goerli, visit a faucet listed on the ",e.jsx(s.a,{href:"/chain/network-faucets",children:"Base Faucets"})," page."]}),`
`,e.jsxs(s.li,{children:["To fund your wallet with ETH on Optimism Goerli, visit a faucet listed on the ",e.jsx(s.a,{href:"https://docs.optimism.io/builders/tools/faucets",children:"Optimism Faucets"})," page."]}),`
`]}),`
`,e.jsxs(s.h2,{id:"what-is-layerzero",children:["What is LayerZero?",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#what-is-layerzero",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:'LayerZero is an interoperability protocol that allows developers to build applications (and tokens) that can connect to multiple blockchains. LayerZero defines these types of applications as "omnichain" applications.'}),`
`,e.jsxs(s.p,{children:["The LayerZero protocol is made up of immutable on-chain ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/layerzero-endpoint",children:"Endpoints"}),", a configurable ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/decentralized-verifier-networks",children:"Security Stack"}),", and a permissionless set of ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/executors",children:"Executors"})," that transfer messages between chains."]}),`
`,e.jsxs(s.h3,{id:"high-level-concepts",children:["High-level concepts",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#high-level-concepts",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.h4,{id:"endpoints",children:["Endpoints",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#endpoints",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Endpoints are immutable LayerZero smart contracts that implement a standardized interface for your own smart contracts to use and in order to manage security configurations and send and receive messages."}),`
`,e.jsxs(s.h4,{id:"security-stack-dvns",children:["Security Stack (DVNs)",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#security-stack-dvns",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/decentralized-verifier-networks",children:"Security Stack"})," is a configurable set of required and optional Decentralized Verifier Networks (DVNs). The DVNs are used to verify message payloads to ensure integrity of your application's messages."]}),`
`,e.jsxs(s.h4,{id:"executors",children:["Executors",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#executors",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:[e.jsx(s.a,{href:"https://docs.layerzero.network/explore/executors",children:"Executors"})," are responsible for initiating message delivery. They will automatically execute the ",e.jsx(s.code,{children:"lzReceive"})," function of the endpoint on the destination chain once a message has been verified by the Security Stack."]}),`
`,e.jsxs(s.h2,{id:"creating-a-project",children:["Creating a project",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#creating-a-project",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Before you begin, you need to set up your smart contract development environment by creating a Foundry project."}),`
`,e.jsx(s.p,{children:"To create a new Foundry project, first create a new directory:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"mkdir"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" myproject"})]})})})}),`
`,e.jsx(s.p,{children:"Then run:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" myproject"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"forge"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" init"})]})]})})}),`
`,e.jsx(s.p,{children:"This will create a Foundry project with the following basic layout:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"."})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"├──"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" foundry.toml"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"├──"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" script"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"├──"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" src"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"└──"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" test"})]})]})})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["You can delete the ",e.jsx(s.code,{children:"src/Counter.sol"}),", ",e.jsx(s.code,{children:"test/Counter.t.sol"}),", and ",e.jsx(s.code,{children:"script/Counter.s.sol"})," boilerplate files that were generated with the project, as you will not be needing them."]})}),`
`,e.jsxs(s.h2,{id:"installing-the-layerzero-smart-contracts",children:["Installing the LayerZero smart contracts",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#installing-the-layerzero-smart-contracts",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To use LayerZero within your Foundry project, you need to install the LayerZero smart contracts and their dependencies using ",e.jsx(s.code,{children:"forge install"}),"."]}),`
`,e.jsx(s.p,{children:"To install LayerZero smart contracts and their dependencies, run the following commands:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"forge"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" install"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" GNSPS/solidity-bytes-utils"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --no-commit"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"forge"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" install"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" OpenZeppelin/openzeppelin-contracts@v4.9.4"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --no-commit"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"forge"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" install"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" LayerZero-Labs/LayerZero-v2"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --no-commit"})]})]})})}),`
`,e.jsxs(s.p,{children:["Once installed, update your ",e.jsx(s.code,{children:"foundry.toml"})," file by appending the following lines:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"remappings"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" ="}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" ["})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"    '@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts'"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"    'solidity-bytes-utils/=lib/solidity-bytes-utils'"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"    '@layerzerolabs/lz-evm-oapp-v2/=lib/LayerZero-v2/oapp'"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"    '@layerzerolabs/lz-evm-protocol-v2/=lib/LayerZero-v2/protocol'"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"    '@layerzerolabs/lz-evm-messagelib-v2/=lib/LayerZero-v2/messagelib'"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:","})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})})]})})}),`
`,e.jsxs(s.h2,{id:"getting-started-with-layerzero",children:["Getting started with LayerZero",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#getting-started-with-layerzero",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["LayerZero provides a smart contract standard called ",e.jsx(s.a,{href:"https://docs.layerzero.network/v2/developers/evm/oapp/overview",children:"OApp"})," that is intended for omnichain messaging and configuration."]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// SPDX-License-Identifier: MIT"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"pragma"}),e.jsx(s.span,{style:{color:"#22863A","--shiki-dark":"#85E89D"},children:" solidity"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" ^0.8.0"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OAppSender"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "./OAppSender.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OAppReceiver"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"Origin"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "./OAppReceiver.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OAppCore"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "./OAppCore.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"abstract"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" contract"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" OApp"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" is"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" OAppSender"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OAppReceiver"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"   constructor"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"address"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _endpoint) "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OAppCore"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_endpoint, msg.sender) {}"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"   function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" oAppVersion"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"() "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"public"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" pure"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" virtual"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" returns"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint64"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" senderVersion"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint64"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" receiverVersion"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"       senderVersion "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" SENDER_VERSION;"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"       receiverVersion "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" RECEIVER_VERSION;"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"   }"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["You can view the source code for this contract on ",e.jsx(s.a,{href:"https://github.com/LayerZero-Labs/LayerZero-v2/blob/main/packages/layerzero-v2/evm/oapp/contracts/oapp/OApp.sol",children:"GitHub"}),"."]})}),`
`,e.jsxs(s.p,{children:["To get started using LayerZero, developers simply need to inherit from the ",e.jsx(s.a,{href:"https://github.com/LayerZero-Labs/LayerZero-v2/blob/main/packages/layerzero-v2/evm/oapp/contracts/oapp/OApp.sol",children:"OApp"})," contract, and implement the following two inherited functions:"]}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"_lzSend"}),": A function used to send an omnichain message"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"_lzReceive"}),": A function used to receive an omnichain message"]}),`
`]}),`
`,e.jsxs(s.p,{children:["In this tutorial, you will be implementing the ",e.jsx(s.a,{href:"https://docs.layerzero.network/v2/developers/evm/oapp/overview",children:"OApp"})," standard into your own project to add the capability to send messages from a smart contract on Base to a smart contract on Optimism."]}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["An extension of the ",e.jsx(s.a,{href:"https://docs.layerzero.network/v2/developers/evm/oapp/overview",children:"OApp"})," contract standard known as ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/oft",children:"OFT"})," is also available for supporting omnichain fungible token transfers."]})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["For more information on transferring tokens across chains using LayerZero, visit the ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/oft",children:"LayerZero documentation"}),"."]})}),`
`,e.jsxs(s.h2,{id:"writing-the-smart-contract",children:["Writing the smart contract",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#writing-the-smart-contract",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To get started, create a new Solidity smart contract file in your project's ",e.jsx(s.code,{children:"src/"})," directory named ",e.jsx(s.code,{children:"ExampleContract.sol"}),", and add the following content:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// SPDX-License-Identifier: MIT"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"pragma"}),e.jsx(s.span,{style:{color:"#22863A","--shiki-dark":"#85E89D"},children:" solidity"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" ^0.8.0"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"Origin"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"MessagingFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/OApp.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"contract"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" ExampleContract"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" is"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"   constructor"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"address"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _endpoint, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"address"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _owner) "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_endpoint, _owner) {}"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsxs(s.p,{children:["The code snippet above defines a new smart contract named ",e.jsx(s.code,{children:"ExampleContract"})," that extends the ",e.jsx(s.code,{children:"OApp"})," contract standard."]}),`
`,e.jsx(s.p,{children:"The contract's constructor expects two arguments:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"_endpoint"}),": The ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/layerzero-endpoint",children:"LayerZero Endpoint"})," ",e.jsx(s.code,{children:"address"})," for the chain the smart contract is deployed to."]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"_owner"}),": The ",e.jsx(s.code,{children:"address"})," of the owner of the smart contract."]}),`
`]}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:[e.jsx(s.a,{href:"https://docs.layerzero.network/explore/layerzero-endpoint",children:"LayerZero Endpoints"})," are smart contracts that expose an interface for OApp contracts to manage security configurations and send and receive messages via the LayerZero protocol."]})}),`
`,e.jsxs(s.h3,{id:"implementing-message-sending-_lzsend",children:["Implementing message sending (",e.jsx(s.code,{children:"_lzSend"}),")",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#implementing-message-sending-_lzsend",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To send messages to another chain, your smart contract must call the ",e.jsx(s.code,{children:"_lzSend"})," function inherited from the ",e.jsx(s.a,{href:"https://docs.layerzero.network/v2/developers/evm/oapp/overview",children:"OApp"})," contract."]}),`
`,e.jsxs(s.p,{children:["Add a new custom function named ",e.jsx(s.code,{children:"sendMessage"})," to your smart contract that has the following content:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@notice"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Sends a message from the source chain to the destination chain."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The endpoint ID of the destination chain."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message to be sent."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message execution options (e.g. gas to use on destination)."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" sendMessage"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint32"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"string"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options) "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"external"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" payable"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _payload "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" abi"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"encode"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_message); "}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// Encode the message as bytes"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"   _lzSend"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"       _dstEid,"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"       _payload,"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"       _options,"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"       MessagingFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"msg"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:".value, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"0"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"), "}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// Fee for the message (nativeFee, lzTokenFee)"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"       payable"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"msg.sender"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// The refund address in case the send call reverts"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"   );"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"sendMessage"})," function above calls the inherited ",e.jsx(s.code,{children:"_lzSend"})," function, while passing in the following expected data:"]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{style:{textAlign:"left"},children:"Name"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Type"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_dstEid"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"uint32"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:["The ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/endpoint-addresses",children:"endpoint ID"})," of the destination chain to send the message to."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_payload"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The message (encoded) to send."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_options"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:[e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/options",children:"Additional options"})," when sending the message, such as how much gas should be used when receiving the message."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_fee"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.a,{href:"https://github.com/LayerZero-Labs/LayerZero-v2/blob/c3213200dfe8fabbf7d92c685590d34e6e70da43/protocol/contracts/interfaces/ILayerZeroEndpointV2.sol#L24",children:e.jsx(s.code,{children:"MessagingFee"})})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The calculated fee for sending the message."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_refundAddress"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"address"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:["The ",e.jsx(s.code,{children:"address"})," that will receive any excess fee values sent to the endpoint in case the ",e.jsx(s.code,{children:"_lzSend"})," execution reverts."]})]})]})]}),`
`,e.jsxs(s.h3,{id:"implementing-gas-fee-estimation-_quote",children:["Implementing gas fee estimation (",e.jsx(s.code,{children:"_quote"}),")",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#implementing-gas-fee-estimation-_quote",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["As shown in the table provided in the last section, the ",e.jsx(s.code,{children:"_lzSend"})," function expects an estimated gas ",e.jsx(s.a,{href:"https://github.com/LayerZero-Labs/LayerZero-v2/blob/c3213200dfe8fabbf7d92c685590d34e6e70da43/protocol/contracts/interfaces/ILayerZeroEndpointV2.sol#L24",children:"fee"})," to be provided when sending a message (",e.jsx(s.code,{children:"_fee"}),")."]}),`
`,e.jsxs(s.p,{children:["Therefore, sending a message using the ",e.jsx(s.code,{children:"sendMessage"})," function of your contract, you first need to estimate the associated gas fees."]}),`
`,e.jsxs(s.p,{children:["There are multiple fees incurred when sending a message across chains using LayerZero, including: paying for gas on the source chain, fees paid to DVNs validating the message, and gas on the destination chain. Luckily, LayerZero bundles all of these fees together into a single fee to be paid by the ",e.jsx(s.code,{children:"msg.sender"}),", and LayerZero Endpoints expose a ",e.jsx(s.code,{children:"_quote"})," function to estimate this fee."]}),`
`,e.jsxs(s.p,{children:["Add a new function to your ",e.jsx(s.code,{children:"ExampleContract"})," contract called ",e.jsx(s.code,{children:"estimateFee"})," that calls the ",e.jsx(s.code,{children:"_quote"})," function, as shown below:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@notice"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Estimates the gas associated with sending a message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The endpoint ID of the destination chain."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message to be sent."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message execution options (e.g. gas to use on destination)."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@return"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" nativeFee"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Estimated gas fee in native gas."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@return"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" lzTokenFee"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Estimated gas fee in ZRO token."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" estimateFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   uint32"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   string"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"public"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" view"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" returns"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" nativeFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" lzTokenFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _payload "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" abi"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"encode"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_message);"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"   MessagingFee "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" fee "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" _quote"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_dstEid, _payload, _options, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"false"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"   return"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" (fee.nativeFee, fee.lzTokenFee);"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"estimateFee"})," function above calls the inherited ",e.jsx(s.code,{children:"_quote"})," function, while passing in the following expected data:"]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{style:{textAlign:"left"},children:"Name"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Type"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_dstEid"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"uint32"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:["The ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/endpoint-addresses",children:"endpoint ID"})," of the destination chain the message will be sent to."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_payload"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The message (encoded) that will be sent."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_options"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:[e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/options",children:"Additional options"})," when sending the message, such as how much gas should be used when receiving the message."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_payInLzToken"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bool"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"Boolean flag for which token to use when returning the fee (native or ZRO token)."})]})]})]}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["Your contract's ",e.jsx(s.code,{children:"estimateFee"})," function should always be called immediately before calling ",e.jsx(s.code,{children:"sendMessage"})," to accurately estimate associated gas fees."]})}),`
`,e.jsxs(s.h3,{id:"implementing-message-receiving-_lzreceive",children:["Implementing message receiving (",e.jsx(s.code,{children:"_lzReceive"}),")",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#implementing-message-receiving-_lzreceive",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To receive messages on the destination chain, your smart contract must override the ",e.jsx(s.code,{children:"_lzReceive"})," function inherited from the ",e.jsx(s.a,{href:"https://docs.layerzero.network/v2/developers/evm/oapp/overview",children:"OApp"})," contract."]}),`
`,e.jsxs(s.p,{children:["Add the following code snippet to your ",e.jsx(s.code,{children:"ExampleContract"})," contract to override the ",e.jsx(s.code,{children:"_lzReceive"})," function:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@notice"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Entry point for receiving messages."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _origin"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The origin information containing the source endpoint and sender address."})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"///  - srcEid: The source chain endpoint ID."})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"///  - sender: The sender address on the src chain."})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"///  - nonce: The nonce of the message."})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _guid"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The unique identifier for the received LayerZero message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The payload of the received message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _executor"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The address of the executor for the received message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"/// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _extraData"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Additional arbitrary data provided by the corresponding executor."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" _lzReceive"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"   Origin"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _origin,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   bytes32"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _guid,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" payload"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   address"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _executor,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"   bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _extraData"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"   ) "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"internal"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" override"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"       data "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" abi"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"decode"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(payload, ("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"string"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"));"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"       // other logic"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsxs(s.p,{children:["The overridden ",e.jsx(s.code,{children:"_lzReceive"})," function receives the following arguments when receiving a message:"]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{style:{textAlign:"left"},children:"Name"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Type"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_origin"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"Origin"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The origin information containing the source endpoint and sender address."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_guid"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes32"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The unique identifier for the received LayerZero message."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"payload"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The payload of the received message (encoded)."})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_executor"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"address"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:["The ",e.jsx(s.code,{children:"address"})," of the ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/executors",children:"Executor"})," for the received message."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_extraData "})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:["Additional arbitrary data provided by the corresponding ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/executors",children:"Executor"}),"."]})]})]})]}),`
`,e.jsxs(s.p,{children:["Note that the overridden method decodes the message payload, and stores the string into a variable named ",e.jsx(s.code,{children:"data"})," that you can read from later to fetch the latest message."]}),`
`,e.jsxs(s.p,{children:["Add the ",e.jsx(s.code,{children:"data"})," field as a member variable to your contract:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"contract"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" ExampleContract"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" is"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"    // highlight-next-line"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"    string"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" public"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" data;"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"    constructor"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"address"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _endpoint) "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_endpoint, msg.sender) {}"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["Overriding the ",e.jsx(s.code,{children:"_lzReceive"})," function allows you to provide any custom logic you wish when receiving messages, including making a call back to the source chain by invoking ",e.jsx(s.code,{children:"_lzSend"}),". Visit the LayerZero ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/message-design-patterns",children:"Message Design Patterns"})," for common messaging flows."]})}),`
`,e.jsxs(s.h3,{id:"final-code",children:["Final code",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#final-code",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Once you complete all of the steps above, your contract should look like this:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// SPDX-License-Identifier: MIT"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"pragma"}),e.jsx(s.span,{style:{color:"#22863A","--shiki-dark":"#85E89D"},children:" solidity"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" ^0.8.0"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"Origin"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"MessagingFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/OApp.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"contract"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" ExampleContract"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" is"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" public"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" data;"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"  constructor"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"address"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _endpoint) "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OApp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_endpoint, msg.sender) {}"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@notice"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Sends a message from the source chain to the destination chain."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The endpoint ID of the destination chain."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message to be sent."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message execution options (e.g. gas to use on destination)."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"  function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" sendMessage"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint32"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"string"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options) "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"external"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" payable"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _payload "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" abi"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"encode"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_message); "}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// Encode the message as bytes"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"     _lzSend"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"           _dstEid,"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"           _payload,"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"           _options,"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"           MessagingFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"msg"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:".value, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"0"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"), "}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// Fee for the message (nativeFee, lzTokenFee)"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"           payable"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"msg.sender"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"// The refund address in case the send call reverts"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"     );"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@notice"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Estimates the gas associated with sending a message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The endpoint ID of the destination chain."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message to be sent."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The message execution options (e.g. gas to use on destination)."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@return"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" nativeFee"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Estimated gas fee in native gas."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@return"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" lzTokenFee"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Estimated gas fee in ZRO token."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"  function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" estimateFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     uint32"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _dstEid,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     string"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _options"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"  ) "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"public"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" view"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" returns"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" nativeFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"uint256"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" lzTokenFee"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _payload "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" abi"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"encode"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_message);"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"     MessagingFee "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" fee "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" _quote"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(_dstEid, _payload, _options, "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"false"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"     return"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" (fee.nativeFee, fee.lzTokenFee);"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@notice"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Entry point for receiving messages."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _origin"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The origin information containing the source endpoint and sender address."})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  ///  - srcEid: The source chain endpoint ID."})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  ///  - sender: The sender address on the src chain."})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  ///  - nonce: The nonce of the message."})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _guid"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The unique identifier for the received LayerZero message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _message"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The payload of the received message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _executor"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" The address of the executor for the received message."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:"  /// "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"@param"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _extraData"}),e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#6A737D"},children:" Additional arbitrary data provided by the corresponding executor."})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"  function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" _lzReceive"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"     Origin"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _origin,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     bytes32"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _guid,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#FFAB70"},children:" payload"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     address"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _executor,"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"     bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" calldata"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" _extraData"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"     ) "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"internal"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" override"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"        data "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" abi"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"decode"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(payload, ("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"string"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"));"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsxs(s.h2,{id:"compiling-the-smart-contract",children:["Compiling the smart contract",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#compiling-the-smart-contract",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Compile the smart contract to ensure it builds without any errors."}),`
`,e.jsx(s.p,{children:"To compile your smart contract, run:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"forge"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" build"})]})})})}),`
`,e.jsxs(s.h2,{id:"deploying-the-smart-contract",children:["Deploying the smart contract",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#deploying-the-smart-contract",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.h3,{id:"setting-up-your-wallet-as-the-deployer",children:["Setting up your wallet as the deployer",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setting-up-your-wallet-as-the-deployer",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Before you can deploy your smart contract to various chains you will need to set up a wallet to be used as the deployer."}),`
`,e.jsxs(s.p,{children:["To do so, you can use the ",e.jsx(s.a,{href:"https://book.getfoundry.sh/reference/cast/cast-wallet-import",children:e.jsx(s.code,{children:"cast wallet import"})})," command to import the private key of the wallet into Foundry's securely encrypted keystore:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"cast"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" wallet"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" import"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --interactive"})]})})})}),`
`,e.jsx(s.p,{children:"After running the command above, you will be prompted to enter your private key, as well as a password for signing transactions."}),`
`,e.jsx(s.div,{children:e.jsxs(s.p,{children:["For instructions on how to get your private key from Coinbase Wallet, visit the ",e.jsx(s.a,{href:"https://docs.cloud.coinbase.com/wallet-sdk/docs/developer-settings#show-private-key",children:"Coinbase Wallet documentation"}),". ",e.jsx(s.strong,{children:"It is critical that you do NOT commit this to a public repo"}),"."]})}),`
`,e.jsxs(s.p,{children:["To confirm that the wallet was imported as the ",e.jsx(s.code,{children:"deployer"})," account in your Foundry project, run:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"cast"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" wallet"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" list"})]})})})}),`
`,e.jsxs(s.h3,{id:"setting-up-environment-variables",children:["Setting up environment variables",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setting-up-environment-variables",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To setup your environment, create an ",e.jsx(s.code,{children:".env"})," file in the home directory of your project, and add the RPC URLs and ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/endpoint-addresses",children:"LayerZero Endpoint"})," information for both Base Goerli and Optimism Goerli testnets:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"BASE_GOERLI_RPC"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"https://goerli.base.org"'})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"BASE_GOERLI_LZ_ENDPOINT"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"0x464570adA09869d8741132183721B4f0769a0287"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"BASE_GOERLI_LZ_ENDPOINT_ID"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"40184"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"OPTIMISM_GOERLI_RPC"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"https://goerli.optimism.io"'})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"OPTIMISM_GOERLI_LZ_ENDPOINT"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"0x464570adA09869d8741132183721B4f0769a0287"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"OPTIMISM_GOERLI_LZ_ENDPOINT_ID"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"40132"})]})]})})}),`
`,e.jsxs(s.p,{children:["Once the ",e.jsx(s.code,{children:".env"})," file has been created, run the following command to load the environment variables in the current command line session:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"source .env"})})})})}),`
`,e.jsx(s.p,{children:"With your contract compiled and environment setup, you are now ready to deploy the smart contract to different networks."}),`
`,e.jsxs(s.h3,{id:"deploying-the-smart-contract-to-base-goerli",children:["Deploying the smart contract to Base Goerli",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#deploying-the-smart-contract-to-base-goerli",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To deploy a smart contract using Foundry, you can use the ",e.jsx(s.code,{children:"forge create"})," command. The command requires you to specify the smart contract you want to deploy, an RPC URL of the network you want to deploy to, and the account you want to deploy with."]}),`
`,e.jsxs(s.aside,{"data-callout":"info",children:[e.jsx(s.p,{children:"Your wallet must be funded with ETH on the Base Goerli and Optimism Goerli to cover the gas fees associated with the smart contract deployment. Otherwise, the deployment will fail."}),e.jsxs(s.p,{children:["To get testnet ETH, see the ",e.jsx(s.a,{href:"#prerequisites",children:"prerequisites"}),"."]})]}),`
`,e.jsxs(s.p,{children:["To deploy the ",e.jsx(s.code,{children:"ExampleContract"})," smart contract to the Base Goerli testnet, run the following command:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"forge"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" create"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" ./src/ExampleContract.sol:ExampleContract"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --rpc-url"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $BASE_GOERLI_RPC "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"--constructor-args"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $BASE_GOERLI_LZ_ENDPOINT "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"--account"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"})]})})})}),`
`,e.jsx(s.p,{children:"When prompted, enter the password that you set earlier, when you imported your wallet's private key."}),`
`,e.jsxs(s.p,{children:["After running the command above, the contract will be deployed on the Base Goerli test network. You can view the deployment status and contract by using a ",e.jsx(s.a,{href:"/chain/block-explorers",children:"block explorer"}),"."]}),`
`,e.jsxs(s.h3,{id:"deploying-the-smart-contract-to-optimism-goerli",children:["Deploying the smart contract to Optimism Goerli",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#deploying-the-smart-contract-to-optimism-goerli",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To deploy the ",e.jsx(s.code,{children:"ExampleContract"})," smart contract to the Optimism Goerli testnet, run the following command:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"forge"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" create"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" ./src/ExampleContract.sol:ExampleContract"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --rpc-url"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $OPTIMISM_GOERLI_RPC "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"--constructor-args"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $OPTIMISM_GOERLI_LZ_ENDPOINT "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"--account"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"})]})})})}),`
`,e.jsx(s.p,{children:"When prompted, enter the password that you set earlier, when you imported your wallet's private key."}),`
`,e.jsxs(s.p,{children:["After running the command above, the contract will be deployed on the Optimism Goerli test network. You can view the deployment status and contract by using the ",e.jsx(s.a,{href:"https://goerli-optimism.etherscan.io/",children:"OP Goerli block explorer"}),"."]}),`
`,e.jsxs(s.h2,{id:"opening-the-messaging-channels",children:["Opening the messaging channels",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#opening-the-messaging-channels",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Once your contract has been deployed to Base Goerli and Optimism Goerli, you will need to open the messaging channels between the two contracts so that they can send and receive messages from one another. This is done by calling the ",e.jsx(s.code,{children:"setPeer"})," function on the contract."]}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"setPeer"})," function expects the following arguments:"]}),`
`,e.jsxs(s.table,{children:[e.jsx(s.thead,{children:e.jsxs(s.tr,{children:[e.jsx(s.th,{style:{textAlign:"left"},children:"Name"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Type"}),e.jsx(s.th,{style:{textAlign:"left"},children:"Description"})]})}),e.jsxs(s.tbody,{children:[e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_eid"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"uint32"})}),e.jsxs(s.td,{style:{textAlign:"left"},children:["The ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/endpoint-addresses",children:"endpoint ID"})," of the destination chain."]})]}),e.jsxs(s.tr,{children:[e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"_peer"})}),e.jsx(s.td,{style:{textAlign:"left"},children:e.jsx(s.code,{children:"bytes32"})}),e.jsx(s.td,{style:{textAlign:"left"},children:"The contract address of the OApp contract on the destination chain."})]})]})]}),`
`,e.jsxs(s.h3,{id:"setting-the-peers",children:["Setting the peers",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setting-the-peers",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Foundry provides the ",e.jsx(s.code,{children:"cast"})," command-line tool that can be used to interact with deployed smart contracts and call their functions."]}),`
`,e.jsxs(s.p,{children:["To set the peer of your ",e.jsx(s.code,{children:"ExampleContract"})," contracts, you can use ",e.jsx(s.code,{children:"cast"})," to call the ",e.jsx(s.code,{children:"setPeer"})," function while providing the ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/endpoint-addresses",children:"endpoint ID"})," and address (in bytes) of the deployed contract on the respective destination chain."]}),`
`,e.jsx(s.p,{children:"To set the peer of the Base Goerli contract to the Optimism Goerli contract, run the following command:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"cast"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" send"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" <"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"BASE_GOERLI_CONTRACT_ADDRES"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --rpc-url"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $BASE_GOERLI_RPC "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"setPeer(uint32, bytes32)"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $OPTIMISM_GOERLI_LZ_ENDPOINT_ID "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"<"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"OPTIMISM_GOERLI_CONTRACT_ADDRES"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --account"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"})]})})})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["Replace ",e.jsx(s.code,{children:"<BASE_GOERLI_CONTRACT_ADDRESS>"})," with the contract address of your deployed ",e.jsx(s.code,{children:"ExampleContract"})," contract on Base Goerli, and",e.jsx(s.code,{children:"<OPTIMISM_GOERLI_CONTRACT_ADDRESS>"})," with the contract address (as bytes) of your deployed ",e.jsx(s.code,{children:"ExampleContract"})," contract on Optimism Goerli before running the provided ",e.jsx(s.code,{children:"cast"})," command."]})}),`
`,e.jsx(s.p,{children:"To set the peer of the Optimism Goerli contract to the Base Goerli contract, run the following command:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"cast"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" send"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" <"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"OPTIMISM_GOERLI_CONTRACT_ADDRES"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --rpc-url"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $OPTIMISM_GOERLI_RPC "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"setPeer(uint32, bytes32)"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $BASE_GOERLI_LZ_ENDPOINT_ID "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"<"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"BASE_GOERLI_CONTRACT_ADDRES"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --account"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"})]})})})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["Replace ",e.jsx(s.code,{children:"<OPTIMISM_GOERLI_CONTRACT_ADDRESS>"})," with the contract address of your deployed ",e.jsx(s.code,{children:"ExampleContract"})," contract on Optimism Goerli, and",e.jsx(s.code,{children:"<BASE_GOERLI_CONTRACT_ADDRESS>"})," with the contract address (as bytes) of your deployed ",e.jsx(s.code,{children:"ExampleContract"})," contract on Base Goerli before running the provided ",e.jsx(s.code,{children:"cast"})," command."]})}),`
`,e.jsxs(s.h2,{id:"sending-messages",children:["Sending messages",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#sending-messages",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Once peers have been set on each contract, they are now able to send and receive messages from one another."}),`
`,e.jsxs(s.p,{children:["Sending a message using the newly created ",e.jsx(s.code,{children:"ExampleContract"})," contract can be done in three steps:"]}),`
`,e.jsxs(s.ol,{children:[`
`,e.jsxs(s.li,{children:["Build ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/options",children:"message options"})," to specify logic associated with the message transaction"]}),`
`,e.jsxs(s.li,{children:["Call the ",e.jsx(s.code,{children:"estimateFee"})," function to estimate the gas fee for sending a message"]}),`
`,e.jsxs(s.li,{children:["Call the ",e.jsx(s.code,{children:"sendMessage"})," function to send a message"]}),`
`]}),`
`,e.jsxs(s.h3,{id:"building-message-options",children:["Building message options",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#building-message-options",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"estimateFee"})," and ",e.jsx(s.code,{children:"sendMessage"})," custom functions of the ",e.jsx(s.code,{children:"ExampleContract"})," contract both require a ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/options",children:"message options"})," (",e.jsx(s.code,{children:"_options"}),") argument to be provided."]}),`
`,e.jsxs(s.p,{children:["Message options allow you to specify arbitrary logic as part of the message transaction, such as the gas amount the ",e.jsx(s.a,{href:"https://docs.layerzero.network/explore/executors",children:"Executor"})," pays for message delivery, the order of message execution, or dropping an amount of gas to a destination address."]}),`
`,e.jsxs(s.p,{children:["LayerZero provides a ",e.jsx(s.a,{href:"https://github.com/LayerZero-Labs/LayerZero-v2/blob/ccfd0d38f83ca8103b14ab9ca77f32e0419510ff/oapp/contracts/oapp/libs/OptionsBuilder.sol#L12",children:"Solidity"})," library and ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/options",children:"TypeScript SDK"})," for building these message options."]}),`
`,e.jsxs(s.p,{children:["As an example, below is a Foundry script that uses OptionsBuilder from the Solidity library to generate message options (as ",e.jsx(s.code,{children:"bytes"}),") that set the gas amount that the Executor will pay upon message delivery to ",e.jsx(s.code,{children:"200000"})," wei:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"pragma"}),e.jsx(s.span,{style:{color:"#22863A","--shiki-dark":"#85E89D"},children:" solidity"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" ^0.8.0"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"Script"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"console2"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"} "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "forge-std/Script.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"OptionsBuilder"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/libs/OptionsBuilder.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"contract"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" OptionsScript"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" is"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" Script"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"    using"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" OptionsBuilder"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" for"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" bytes"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"    function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" setUp"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"() "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"public"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {}"})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"    function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:" run"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"() "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"public"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"        bytes"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" memory"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" options "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" OptionsBuilder."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"newOptions"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"()."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"addExecutorLzReceiveOption"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"200000"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"0"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"        console2."}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"logBytes"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"(options);"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"    }"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsx(s.p,{children:"The output of this script results in:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"0x00030100110100000000000000000000000000030d40"})})})})}),`
`,e.jsx(s.p,{children:"For this tutorial, rather than building and generating your own message options, you can use the bytes output provided above."}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["Covering all of the different message options in detail is out of scope for this tutorial. If you are interested in learning more about the different message options and how to build them, visit the ",e.jsx(s.a,{href:"https://docs.layerzero.network/contracts/options",children:"LayerZero developer documentation"}),"."]})}),`
`,e.jsxs(s.h3,{id:"estimating-the-gas-fee",children:["Estimating the gas fee",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#estimating-the-gas-fee",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Before you can send a message from your contract on Base Goerli, you need to estimate the fee associated with sending the message. You can use the ",e.jsx(s.code,{children:"cast"})," command to call the ",e.jsx(s.code,{children:"estimateFee()"})," function of the ",e.jsx(s.code,{children:"ExampleContract"})," contract."]}),`
`,e.jsx(s.p,{children:"To estimate the gas fee for sending a message from Base Goerli to Optimism Goerli, run the following command:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"cast"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" send"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" <"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"BASE_GOERLI_CONTRACT_ADDRES"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --rpc-url"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $BASE_GOERLI_RPC "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"estimateFee(uint32, string, bytes)"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $OPTIMISM_GOERLI_LZ_ENDPOINT_ID "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"Hello World"'}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" 0x00030100110100000000000000000000000000030d40"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --account"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"})]})})})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["Replace ",e.jsx(s.code,{children:"<BASE_GOERLI_CONTRACT_ADDRESS>"})," with the contract address of your deployed ",e.jsx(s.code,{children:"ExampleContract"})," contract on Base Goerli before running the provided ",e.jsx(s.code,{children:"cast"})," command."]})}),`
`,e.jsxs(s.p,{children:["The command above calls ",e.jsx(s.code,{children:"estimateFee(uint32, string, bytes, bool)"}),", while providing the required arguments, including: the endpoint ID of the destination chain, the text to send, and the message options (generated in the last section)."]}),`
`,e.jsxs(s.h3,{id:"sending-the-message",children:["Sending the message",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#sending-the-message",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Once you have fetched the estimated gas for sending your message, you can now call ",e.jsx(s.code,{children:"sendMessage"})," and provide the value returned as the ",e.jsx(s.code,{children:"msg.value"}),"."]}),`
`,e.jsx(s.p,{children:"For example, to send a message from Base Goerli to Optimism Goerli with an estimated gas fee, run the following command:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"cast"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" send"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" <"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"BASE_GOERLI_CONTRACT_ADDRES"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --rpc-url"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $BASE_GOERLI_RPC "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:"--value"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" <"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"GAS_ESTIMATE_IN_WE"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"I"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:' "sendMessage(uint32, string, bytes)"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $OPTIMISM_GOERLI_LZ_ENDPOINT_ID "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"Hello World"'}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" 0x00030100110100000000000000000000000000030d40"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --account"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"})]})})})}),`
`,e.jsx(s.aside,{"data-callout":"info",children:e.jsxs(s.p,{children:["Replace ",e.jsx(s.code,{children:"<BASE_GOERLI_CONTRACT_ADDRESS>"})," with the contract address of your deployed ",e.jsx(s.code,{children:"ExampleContract"})," contract on Base Goerli, and ",e.jsx(s.code,{children:"<GAS_ESTIMATE_IN_WEI>"})," with the gas estimate (in wei) returned by the call to estimateFee, before running the provided ",e.jsx(s.code,{children:"cast"})," command."]})}),`
`,e.jsxs(s.p,{children:["You can view the status of your cross-chain transaction on ",e.jsx(s.a,{href:"https://layerzeroscan.com/",children:"LayerZero Scan"}),"."]}),`
`,e.jsxs(s.h3,{id:"receiving-the-message",children:["Receiving the message",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#receiving-the-message",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Once the message has been sent and received on the destination chain, the _Receive function will be called on the ",e.jsx(s.code,{children:"ExampleContract"})," and the message payload will be stored in the contract's public ",e.jsx(s.code,{children:"data"})," variable."]}),`
`,e.jsxs(s.p,{children:["You can use the ",e.jsx(s.code,{children:"cast"})," command to read the latest message received by the ",e.jsx(s.code,{children:"ExampleContract"})," stored in the ",e.jsx(s.code,{children:"data"})," variable."]}),`
`,e.jsx(s.p,{children:"To read the latest received message data that was sent to Optimism Goerli from Base Goerli, run the following command:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{backgroundColor:"#fff","--shiki-dark-bg":"#24292e",color:"#24292e","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B392F0"},children:"cast"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" send"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:" <"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:"OPTIMISM_GOERLI_CONTRACT_ADDRES"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --rpc-url"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#E1E4E8"},children:" $OPTIMISM_GOERLI_RPC "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:'"data"'}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#79B8FF"},children:" --account"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#9ECBFF"},children:" deployer"})]})})})}),`
`,e.jsx(s.p,{children:"The returned data should match the message text payload you sent in your message."}),`
`,e.jsxs(s.p,{children:["You can view the status of your cross-chain transaction on ",e.jsx(s.a,{href:"https://layerzeroscan.com/",children:"LayerZero Scan"}),"."]}),`
`,e.jsxs(s.h2,{id:"conclusion",children:["Conclusion",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#conclusion",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Congratulations! You have successfully learned how to perform cross-chain messaging between Base and other chains (i.e. Optimism) using LayerZero V2."}),`
`,e.jsx(s.p,{children:"To learn more about cross-chain messaging and LayerZero V2, check out the following resources:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:e.jsx(s.a,{href:"https://docs.layerzero.network",children:"LayerZero V2"})}),`
`]})]})}function o(i={}){const{wrapper:s}={...r(),...i.components};return s?e.jsx(s,{...i,children:e.jsx(n,{...i})}):n(i)}export{o as default,a as frontmatter};
