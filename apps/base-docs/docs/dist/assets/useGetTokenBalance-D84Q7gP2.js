import{r as n}from"./index-Dlxm52NL.js";import{b as f,g as m}from"./getSwapErrorCode-Rcq4QZsj.js";import{r as g,f as h,a as b,u as y,s as C}from"./useChainId-d5iqIE3x.js";import{ai as l,au as w}from"./OnchainKitProvider-BMiQl1rP.js";import{$ as q}from"./waitForTransactionReceipt-DqmUmnvq.js";function E(t,a={}){return{async queryFn({queryKey:r}){const e=a.abi;if(!e)throw new Error("abi is required");const{functionName:s,scopeKey:i,...c}=r[1],d=(()=>{const u=r[1];if(u.address)return{address:u.address};if(u.code)return{code:u.code};throw new Error("address or code is required")})();if(!s)throw new Error("functionName is required");return g(t,{abi:e,functionName:s,args:c.args,...d,...c})},queryKey:x(a)}}function x(t={}){const{abi:a,...r}=t;return["readContract",h(r)]}function I(t={}){const{abi:a,address:r,functionName:e,query:s={}}=t,i=t.code,c=l(t),d=b({config:c}),u=E(c,{...t,chainId:t.chainId??d}),o=!!((r||i)&&a&&e&&(s.enabled??!0));return y({...s,...u,enabled:o,structuralSharing:s.structuralSharing??C})}function p(t){return t===""?!0:/^[0-9]*\.?[0-9]*$/.test(t)}function K(t,a){const r=I({abi:q,address:a==null?void 0:a.address,functionName:"balanceOf",args:t?[t]:[],query:{enabled:!!(a!=null&&a.address)&&!!t}});return n.useMemo(()=>{var i;let e;if(r!=null&&r.error&&(e={code:f("balance"),error:(i=r==null?void 0:r.error)==null?void 0:i.shortMessage,message:""}),(r==null?void 0:r.data)!==0n&&!(r!=null&&r.data)||!a)return{convertedBalance:"",status:r.status,error:e,roundedBalance:"",response:r,refetch:r.refetch};const s=w(r==null?void 0:r.data,a==null?void 0:a.decimals);return{convertedBalance:s,status:r.status,error:e,response:r,roundedBalance:m(s,8),refetch:r.refetch}},[a,r])}export{K as a,p as i,I as u};
