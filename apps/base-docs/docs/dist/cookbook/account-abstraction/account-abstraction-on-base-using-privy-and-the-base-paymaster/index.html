<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>
    
    <title data-react-helmet="true">Account Abstraction on Base using Privy and the Base Paymaster – Base Docs</title>
    <meta data-react-helmet="true" name="description" content="A tutorial that teaches how to implement Account Abstraction into a Base project using Privy and the Base paymaster."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Account Abstraction on Base using Privy and the Base Paymaster"/><meta data-react-helmet="true" property="og:url" content="https://docs.base.org"/><meta data-react-helmet="true" property="og:description" content="A tutorial that teaches how to implement Account Abstraction into a Base project using Privy and the Base paymaster."/><meta data-react-helmet="true" property="og:image" content="/images/base-docs-og.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="twitter:image" content="/images/base-docs-og.png"/>
    <link data-react-helmet="true" rel="icon" href="/favicon.ico" type="image/x-icon"/>
    
    
    <meta property="twitter:title" content="Base | Docs"/><meta property="twitter:image" content="https://docs.base.org/images/base-docs-og.png"/><meta property="twitter:description" content="Explore the documentation for Base, a secure, low-cost, builder-friendly Ethereum L2"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:domain" content="base.org"/><script src="https://www.googletagmanager.com/gtag/js?id=G-TKCM02YFWN" async="" defer=""></script><script id="gtag-init">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TKCM02YFWN');
    </script>
  
    <script type="module" crossorigin src="/assets/index-Dlxm52NL.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-BheZ9r0M.css">
  </head>
  <body>
    <div id="app"><div class="vocs-layout antialiased" style="font-family:CoinbaseSans !important"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/quickstart">Quickstart</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/bridges-mainnet">Bridges</a><a data-active="false" class="vocs_Sidebar_item" href="/base-services-hub">Service Hub</a><a data-active="false" class="vocs_Sidebar_item" href="https://status.base.org/">Status ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Builder Kits</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">OnchainKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">MiniKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/agentkit/docs/welcome">AgentKit (CDP) ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Blockspace Tools</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/paymaster/docs/welcome">Paymaster (CDP) ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/appchains/docs/welcome">Appchains ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Identity</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Wallet</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Basenames</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/verifications/docs/welcome">Verifications (CDP)↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Wallet App</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/mini-apps">Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/getting-started">Getting Started with Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/beta-faq">Coinbase Wallet Beta FAQ</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Chain</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Flashblocks</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Misc.</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Network Information</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Node Operators</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="/chain/security-council">Security Council</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/block-building">Block Building</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Tools</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Use Cases</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onboard-any-user">Onboard any user</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/accept-crypto-payments">Accept crypto payments</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/launch-ai-agents">Launch AI Agents</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onchain-social">Onchain Social</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/defi-your-app">DeFi your app</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/go-gasless">Go gasless</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Cookbook</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By use case</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By tool</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Contract Development</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">IPFS</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/ipfs/deploy-with-fleek">Deploy with Fleek</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Token Gating</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/token-gating/gate-irl-events-with-nouns">Gate IRL Events with Nouns</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Client-Side Development</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/client-side-development/introduction-to-providers">Introduction to Providers</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Account Abstraction</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-biconomy">Using Biconomy</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-particle-network">Using Particle Network</a><a data-active="true" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster">Using Privy and Base Paymaster</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/gasless-transactions-with-paymaster">Gasless Transactions with Paymaster</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Cross-Chain</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/cross-chain/bridge-tokens-with-layerzero">Bridge Tokens with LayerZero</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink">Send Messages and Tokens from Base (Chainlink)</a></div></section></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Learn</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Buildathons</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Feedback</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://discord.com/invite/buildonbase">Get help ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://hackerone.com/coinbase">Bug bounty ↗</a></div></section></div></nav></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2m7:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav></div><div class="vocs_DesktopTopNav_divider"></div><div class="vocs_DesktopTopNav_group" style="margin-left:-8px;margin-right:-8px"><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:23px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><a class="vocs_MobileTopNav_navigationItem vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" variant="styleless">Get help</a></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd67:" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="vocs_MobileTopNav_divider"></div><div class="vocs_MobileTopNav_group" style="margin-left:-8px"><a class="vocs_MobileTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:21px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3a7:" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Using Privy and Base Paymaster</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rla7:" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="account-abstraction-on-base-using-privy-and-the-base-paymaster" class="vocs_Heading_slugTarget"></div>Account Abstraction on Base using Privy and the Base Paymaster<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#account-abstraction-on-base-using-privy-and-the-base-paymaster"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<p class="vocs_Paragraph">This tutorial shows you how to use <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://www.privy.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Privy</a>, <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://www.alchemy.com/account-kit" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Alchemy&#x27;s Account Kit</a>, and the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/base-org/paymaster" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Base Paymaster</a> to enable your users to use onchain apps without creating a wallet on their own, or even needing to pay for gas fees!</p>
<h2 class="vocs_H2 vocs_Heading"><div id="objectives" class="vocs_Heading_slugTarget"></div>Objectives<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#objectives"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">By the end of this tutorial, you should be able to:</p>
<h3 class="vocs_H3 vocs_Heading"><div id="intro-to-account-abstraction" class="vocs_Heading_slugTarget"></div>Intro to Account Abstraction<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#intro-to-account-abstraction"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Explain how Account Abstraction can improve user experience for onchain apps</li>
<li class="vocs_ListItem">Describe the difference between contract accounts and EOAs, the limitations of contract accounts, and how EIP-4337 uses <code class="vocs_Code">UserOperation</code>s to mitigate these limitations</li>
<li class="vocs_ListItem">Outline how Account Abstraction works, and how users interact with smart contract wallets</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="intro-to-privy" class="vocs_Heading_slugTarget"></div>Intro to Privy<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#intro-to-privy"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Implement Privy&#x27;s quick start to add onchain authentication to a NextJS application</li>
<li class="vocs_ListItem">Compare Privy&#x27;s progressive authentication strategy with traditional wallet-based authentication</li>
<li class="vocs_ListItem">Use Privy&#x27;s <code class="vocs_Code">PrivyProvider</code> context and <code class="vocs_Code">usePrivy</code> hook to implement basic authentication via an email address, SMS, EOA, and/or social auth</li>
<li class="vocs_ListItem">Utilize Privy&#x27;s Embedded Wallets to enable users to utilize wallet-based actions without having to connect to an external wallet or leave your application</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="implementing-the-paymaster" class="vocs_Heading_slugTarget"></div>Implementing the Paymaster<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#implementing-the-paymaster"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Describe how a third party can use a <em>paymaster</em> to sponsor gas</li>
<li class="vocs_ListItem">Modify Privy&#x27;s Base <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/privy-io/base-paymaster-example/blob/main/README.md" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">paymaster example</a> example to work in another app, using an EOA to allow a user to call a smart contract function without requiring the user to pay any gas</li>
</ul>
<h2 class="vocs_H2 vocs_Heading"><div id="prerequisites" class="vocs_Heading_slugTarget"></div>Prerequisites<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#prerequisites"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<h3 class="vocs_H3 vocs_Heading"><div id="1-be-familiar-with-modern-frontend-web-development" class="vocs_Heading_slugTarget"></div>1. Be familiar with modern, frontend web development<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#1-be-familiar-with-modern-frontend-web-development"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">In this tutorial, we&#x27;ll be working with a React frontend built with <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://nextjs.org/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Next.js</a>. While you don&#x27;t need to be an expert, we&#x27;ll assume that you&#x27;re comfortable with the basics.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="2-possess-a-general-understanding-of-the-evm-and-smart-contract-development" class="vocs_Heading_slugTarget"></div>2. Possess a general understanding of the EVM and smart contract development<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#2-possess-a-general-understanding-of-the-evm-and-smart-contract-development"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">This tutorial assumes that you&#x27;re reasonably comfortable writing basic smart contracts. If you&#x27;re just getting started, jump over to our <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://base.org/learn" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Base Learn</a> guides and start learning!</p>
<h2 class="vocs_H2 vocs_Heading"><div id="intro-do-account-abstraction" class="vocs_Heading_slugTarget"></div>Intro do Account Abstraction<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#intro-do-account-abstraction"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://eips.ethereum.org/EIPS/eip-4337" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">ERC-4337</a>, also known as <em>Account Abstraction</em>, is a standard that allows smart contracts to initiate transactions, thus enabling any logic that users want to implement to be encoded into the smart contract wallet itself for execution on Ethereum.</p>
<p class="vocs_Paragraph">Account Abstraction has the potential to be a massive game-changer for onchain user experience and many believe it will play a key role in bringing the next billion users onchain.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="the-problem-account-abstraction-solves" class="vocs_Heading_slugTarget"></div>The Problem Account Abstraction Solves<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#the-problem-account-abstraction-solves"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Onchain applications are difficult to use for many people, as they require a lengthy onboarding process for the average internet user who already onchain.</p>
<p class="vocs_Paragraph">For example,the preliminary steps a user needs to go through before they can use an onchain app are:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Create a wallet (Coinbase Wallet, Metamask, etc)</li>
<li class="vocs_ListItem">Store the wallet mnemonic safely, without losing it or compromising it</li>
<li class="vocs_ListItem">Sign a slightly frightening message to connect to an onchain app</li>
<li class="vocs_ListItem">Try to do anything with the app and get a popup asking them to approve a transaction</li>
<li class="vocs_ListItem">Attempt to do so, learn transactions cost gas, and that they don&#x27;t have any</li>
<li class="vocs_ListItem">Learn that gas is a fee that users must pay in ETH to use onchain apps</li>
<li class="vocs_ListItem">Attempt to buy ETH, possibly buying the wrong flavor of ETH in the wrong location</li>
<li class="vocs_ListItem">Try the transaction again</li>
<li class="vocs_ListItem">Repeat until they finally find the correct path</li>
</ol>
<p class="vocs_Paragraph">For widespread adoption of onchain applications, this confusing and alienating process has to change.</p>
<p class="vocs_Paragraph">That&#x27;s where Account Abstraction comes in. It allows you to improve the onboarding and usage flow for your users:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">User goes to the onchain app and authenticates (using email, EOA, or social auth)</li>
<li class="vocs_ListItem">User uses the app</li>
<li class="vocs_ListItem">Transactions happen under the hood via a smart contract wallet and the app developer sponsors the user&#x27;s gas fees until after they&#x27;re onboarded.</li>
</ol>
<p class="vocs_Paragraph">To summarize, Account Abstraction enables smart contract accounts to initiate user operations, similar to how an EOA would initiate a transaction. However, unlike EOAs, smart contract accounts are programmable and can enable a number of incredible features, such as:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Sponsored Transactions</strong>: Allow application owners to cover the users gas fees with a paymaster or allow a user to use something other than ETH (USDC, for example) to cover gas</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Arbitrary Verification Logic</strong>: Verify transactions with custom logic</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Account Recovery</strong>: Create account recovery features for when user lose private keys</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Batching Transactions</strong>: Change the user experience so that multiple transactions can be submitted at once</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="overview-of-erc-4337---account-abstraction" class="vocs_Heading_slugTarget"></div>Overview of ERC-4337 - Account Abstraction<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#overview-of-erc-4337---account-abstraction"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">&quot;Account Abstraction&quot; comes from <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://eips.ethereum.org/EIPS/eip-4337" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">ERC-4337</a>. The proposal itself is a dense read, but one of stated goals of the proposal is to:</p>
<blockquote class="vocs_Blockquote">
<p class="vocs_Paragraph">allow users to use smart contract wallets containing arbitrary verification logic instead of EOAs as their primary account. Completely remove any need at all for users to also have EOAs (as status quo SC wallets and EIP-3074 both require)</p>
</blockquote>
<p class="vocs_Paragraph">In other words, the proposal seeks to allow users to use <em>smart contract wallets</em> <strong class="vocs_Strong">instead</strong> of EOAs to transact onchain.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">You&#x27;re working with something so new that the vocabulary hasn&#x27;t settled yet. You&#x27;ll often see the terms &quot;smart contract wallet&quot;, &quot;smart contract account&quot; or just &quot;smart account&quot; used interchangeably.</p></aside>
<p class="vocs_Paragraph">At first glance, you may be asking yourself if using smart contract accounts solve our problem. What&#x27;s the difference between a smart contract account (or contract account) and an <em>Externally Owned Account</em>?</p>
<p class="vocs_Paragraph">According to <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://ethereum.org/en/developers/docs/accounts/#key-differences" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">ethereum.org</a>, the differences are:</p>
<strong class="vocs_Strong">Externally Owned Account</strong>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Creating an account costs nothing</li>
<li class="vocs_ListItem">Can initiate transactions</li>
<li class="vocs_ListItem">Transactions between externally-owned accounts can only be ETH/token transfers</li>
<li class="vocs_ListItem">Made up of a cryptographic pair of keys: public and private keys that control account activities</li>
</ul>
<strong class="vocs_Strong">Contract Accounts</strong>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Creating a contract has a cost because you&#x27;re using network storage</li>
<li class="vocs_ListItem">Can only send transactions in response to receiving a transaction</li>
<li class="vocs_ListItem">Transactions from an external account to a contract account can trigger code which can execute many different actions, such as transferring tokens or even creating a new contract</li>
<li class="vocs_ListItem">Contract accounts don&#x27;t have private keys. Instead, they are controlled by the logic of the smart contract code</li>
</ul>
<p class="vocs_Paragraph">Smart contract wallets <em>would</em> solve our problems, <strong class="vocs_Strong">but</strong>, as stated above, they can&#x27;t initiate transactions. Since they cannot initiate transactions, users still need EOAs and those EOAs still need to pay for gas with ETH.</p>
<p class="vocs_Paragraph">There were two options to resolve this problem:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">
<p class="vocs_Paragraph">Change the protocol - hard fork!</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph">Change transactions, upstream (ERC-4337)</p>
</li>
</ol>
<p class="vocs_Paragraph">In a nutshell, ERC-4337 doesn&#x27;t change how Ethereum transactions work. Cryptographically signed instructions from accounts still initiate transactions to update the state of the Ethereum network.</p>
<p class="vocs_Paragraph">What ERC-4337 changes is everything <em>upstream</em> of that signed transaction. It does this by introducing a new <em>user intent layer</em> that acts as a proxy for an EOA. This layer allows users to initiate transactions, with highly customizable smart contract wallets, but without using an EOA. The Ethereum network still receives what it received before - signed transactions.</p>
<p class="vocs_Paragraph">The result is a better experience for the user without changing the Ethereum protocol.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="how-account-abstraction-works" class="vocs_Heading_slugTarget"></div>How Account Abstraction Works<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#how-account-abstraction-works"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">With typical Ethereum transactions an EOA initiates and signs a transaction. That transaction is sent to Ethereum&#x27;s Public Mempool, is validated and added to a block, onchain.</p>
<p class="vocs_Paragraph">Note that the following steps are primarily happening <strong class="vocs_Strong">before</strong> any of that.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="1-smart-contract-wallet-creation" class="vocs_Heading_slugTarget"></div>1. <strong class="vocs_Strong">Smart Contract Wallet Creation</strong><a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#1-smart-contract-wallet-creation"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">First, a new smart contract wallet must be created for a user. This wallet is owned by its creator who is designated as the <em>signer</em>. This signer must validate any of its future operations.</p>
<p class="vocs_Paragraph">This wallet may come with a variety of features, but it must be able to at least validate <code class="vocs_Code">UserOperations</code>s with a function called, <code class="vocs_Code">validateUserOp</code>. <code class="vocs_Code">validateUserOp</code> will check each <code class="vocs_Code">UserOperation</code>&#x27;s signature, increment the nonce, and handle the operation&#x27;s fees.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="2-user-operation-creation" class="vocs_Heading_slugTarget"></div>2. <strong class="vocs_Strong">User Operation Creation</strong><a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#2-user-operation-creation"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">From the smart contract account, <code class="vocs_Code">UserOperations</code>s are created. These are not yet transactions, but rather represent intents from the user. These intents can represent any onchain user operation.</p>
<p class="vocs_Paragraph"><code class="vocs_Code">UserOperation</code> includes the details of the transaction such as sender, nonce, gas limit, max fee per gas, paymaster data (if applicable), and a signature.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="3-signature-generation" class="vocs_Heading_slugTarget"></div>3. <strong class="vocs_Strong">Signature Generation</strong>:<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#3-signature-generation"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The <code class="vocs_Code">UserOperation</code> is then signed using the private key associated with the initiating account. This signature serves to authenticate the transaction and validate that it was indeed initiated by the owner of the smart contract account.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="4-alt-mempool" class="vocs_Heading_slugTarget"></div>4. <strong class="vocs_Strong">Alt Mempool</strong>:<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#4-alt-mempool"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">ERC-4337 introduces an <em>Alt Mempool</em> where operations are stored until they&#x27;re picked up by a <em>Bundler</em>. The Alt Mempool is not very different from the transaction pool typically used in Ethereum, but this mempool exists earlier on in the transaction and holds user operations, where Ethereum&#x27;s mempool holds signed transactions.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="5-bundler-and-operation-submission" class="vocs_Heading_slugTarget"></div>5. <strong class="vocs_Strong">Bundler and Operation Submission</strong>:<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#5-bundler-and-operation-submission"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Nodes on the Ethereum network have the option to serve as a <em>Bundler</em>, a role that involves collecting multiple signed <code class="vocs_Code">UserOperation</code>s and consolidating them into a single transaction, called a bundle transaction. These bundle transactions are then directed towards a universal smart contract, called the <em>EntryPoint</em>.</p>
<p class="vocs_Paragraph">The submission of the signed <code class="vocs_Code">UserOperation</code> to the EntryPoint contract can be done directly or through a <em>paymaster</em>, which is a contract that agrees to cover the cost of operations for certain users.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="6-operation-validation" class="vocs_Heading_slugTarget"></div>6. <strong class="vocs_Strong">Operation Validation</strong>:<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#6-operation-validation"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The Bundler triggers a function named <code class="vocs_Code">handleOps</code> on the EntryPoint smart contract, which receives the bundle transaction. The EntryPoint then calls <code class="vocs_Code">validateUserOp</code> for each account within this bundle transaction.</p>
<p class="vocs_Paragraph">Each smart contract wallet is then required to implement an additional function and execute the actual operation sent by the EntryPoint contract.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="7-operation-execution" class="vocs_Heading_slugTarget"></div>7. <strong class="vocs_Strong">Operation Execution</strong>:<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#7-operation-execution"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Once the operation has been validated and the fees have been handled, the operation is executed on the Ethereum network.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="intro-to-privy-1" class="vocs_Heading_slugTarget"></div>Intro to Privy<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#intro-to-privy-1"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://www.privy.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Privy</a> makes authentication and user-management in onchain apps easier by bridging onchain and offchain user data. In preparation to dive into our Base Paymaster example app, this lesson will cover the basics of Privy.</p>
<p class="vocs_Paragraph">In this tutorial, you&#x27;ll quick start and review a sample application where users can authenticate with <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://www.privy.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Privy</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="overview-of-privy" class="vocs_Heading_slugTarget"></div>Overview of Privy<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#overview-of-privy"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Privy self-describes as &quot;a simple toolkit for progressive authentication in web3&quot;. In this app, you&#x27;ll primarily use Privy for its authentication and user-handling capabilities, but some of Privy&#x27;s most popular features include:</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">Authentication Options</strong>: Privy allows developers to configure how users authenticate. This can be with a crypto wallet, an email address, phone number or social profiles. Conveniently, Privy handles sessions and provides all necessary authentication methods.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">Progressive Onboarding</strong>: Privy creates a <code class="vocs_Code">user</code> object for each session. Before authentication, this <code class="vocs_Code">user</code> object is <code class="vocs_Code">null</code>, but as the user interacts with your application it will progressively associate more user information with this object. For example, users can start by authenticating with their email address and later add their wallet address or any other user information as the application requires.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">Embedded Wallets</strong>: Embedded wallets are &quot;self-custodial Ethereum wallets that are embedded into your app. This allows your users to take wallet-based actions without ever leaving your site. Embedded wallets are the easiest way to unlock your full product experience for users who don&#x27;t have, or don&#x27;t want to connect, their own wallet.&quot; Developers can simply configure Privy to automatically created an Embedded Wallet on <code class="vocs_Code">login</code> or they can be pregenerated on the backend.</p>
<div class="vocs_Div"><p class="vocs_Paragraph"><em>Embedded wallets</em> are still EOAs and should not be confused with <em>smart contract wallets</em>. A user may have both. During development, this division can lead to confusing situations where <code class="vocs_Code">msg.sender</code> is <strong class="vocs_Strong">not</strong> the address you were expecting.</p></div>
<h3 class="vocs_H3 vocs_Heading"><div id="privy-quick-start" class="vocs_Heading_slugTarget"></div>Privy Quick Start<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#privy-quick-start"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">As with most onchain frontend connector libraries, you can use <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.privy.io/guide/quickstart" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Privy&#x27;s Quick Start</a> to jump start your development with their platform. In this example, you&#x27;ll use the NextJS starter.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="setup" class="vocs_Heading_slugTarget"></div>Setup<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#setup"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">First, navigate to the repository: <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/privy-io/create-next-app" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">https://github.com/privy-io/create-next-app</a> and clone the repo.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">git</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> clone</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> https://github.com/privy-io/create-next-app</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Next, <code class="vocs_Code">cd create-next-app</code> and install dependencies with <code class="vocs_Code">yarn</code>.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="setting-your-app-id" class="vocs_Heading_slugTarget"></div>Setting Your App Id<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#setting-your-app-id"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">To use Privy, you&#x27;ll need your own environment variables. In your terminal, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cp</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> .env.example</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> .env.local</span></span></code></pre></div></div>
<p class="vocs_Paragraph">This will create a <code class="vocs_Code">.env.local</code> file in your project&#x27;s root. This is where you&#x27;ll add your Privy App ID:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span class="vocs_Span">NEXT_PUBLIC_PRIVY_APP_ID=&lt;your-privy-app-id&gt;</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Note - to get an App ID, you&#x27;ll need to request one and access it at [<a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://console.privy.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">https://console.privy.io/</a>].<!-- --> This process can take a while, but for the Base community, Privy will expedite this process! Developers can send an email to <code class="vocs_Code">base@privy.io</code> with:</p><ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Your app name</li>
<li class="vocs_ListItem">The email address you want as admin</li>
<li class="vocs_ListItem">A one liner on what you&#x27;re building</li>
</ul></aside>
<h4 class="vocs_H4 vocs_Heading"><div id="starting-the-app" class="vocs_Heading_slugTarget"></div>Starting the App<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#starting-the-app"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Finally, run <code class="vocs_Code">yarn dev</code> and navigate to [http://localhost:3000] to see the starter application.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="privy-login-walkthrough" class="vocs_Heading_slugTarget"></div>Privy Login Walkthrough<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#privy-login-walkthrough"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Before exploring the code, test the app. First, you should see this login page:</p>
<p class="vocs_Paragraph"><img src="/images/account-abstraction/privy-login-page.png" alt="Privy Login Page"/></p>
<p class="vocs_Paragraph">After clicking &quot;Log in&quot; you&#x27;ll see the following modal:</p>
<p class="vocs_Paragraph"><img src="/images/account-abstraction/privy-login-modal.png" alt="Privy Login Modal"/></p>
<p class="vocs_Paragraph">By default, you can login with a wallet, or email.</p>
<p class="vocs_Paragraph">After logging in, you&#x27;ll be redirected to the <code class="vocs_Code">/dashboard</code> page, where the demo app will allow you to connect a number of other accounts to your <code class="vocs_Code">user</code> object:</p>
<p class="vocs_Paragraph"><img src="/images/account-abstraction/privy-dashboard-page.png" alt="Privy Dashboard Page"/></p>
<p class="vocs_Paragraph">If you navigate to <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://console.privy.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">console.privy.io</a>, you&#x27;ll see that Privy stores all your users and their data here.</p>
<p class="vocs_Paragraph"><img src="/images/account-abstraction/privy-console.png" alt="Privy Console"/></p>
<h3 class="vocs_H3 vocs_Heading"><div id="privyprovider" class="vocs_Heading_slugTarget"></div>PrivyProvider<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#privyprovider"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Diving into the code, first look at the <code class="vocs_Code">PrivyProvider</code> inside of <code class="vocs_Code">_app.jsx</code>:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">PrivyProvider</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  appId</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{process.env.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">NEXT_PUBLIC_PRIVY_APP_ID</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> ||</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  onSuccess</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">push</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;/dashboard&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  &lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">Component</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">...</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">pageProps} /&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">PrivyProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span></code></pre></div></div>
<p class="vocs_Paragraph"><code class="vocs_Code">PrivyProvider</code> uses React Context and wraps any components that will use the <code class="vocs_Code">usePrivy</code> hook.</p>
<p class="vocs_Paragraph">Additionally, it&#x27;s here that you can pass an optional <code class="vocs_Code">config</code> property to enable more authentication methods.</p>
<p class="vocs_Paragraph">Add a <code class="vocs_Code">config</code> property to the <code class="vocs_Code">&lt;PrivyProvider /&gt;</code> in <code class="vocs_Code">_app.jsx</code> with <code class="vocs_Code">&#x27;github&#x27;</code> and <code class="vocs_Code">&#x27;sms&#x27;</code> as the login options:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">PrivyProvider</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  appId</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{process.env.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">NEXT_PUBLIC_PRIVY_APP_ID</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> ||</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  onSuccess</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">push</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;/dashboard&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  config</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{{</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    loginMethods: [</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;github&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;sms&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  &lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">Component</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">...</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">pageProps} /&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">PrivyProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Refresh to see that authentication is only possible now through Github or SMS:</p>
<p class="vocs_Paragraph"><img src="/images/account-abstraction/privy-login-methods.png" alt="Privy Login Methods"/></p>
<p class="vocs_Paragraph">You can find a full list of <code class="vocs_Code">loginMethods</code> in the docs for <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://docs.privy.io/reference/react-auth/modules#privyclientconfig" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">PrivyClientConfig</code></a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="the-useprivy-hook" class="vocs_Heading_slugTarget"></div>The <code class="vocs_Code">usePrivy</code> Hook<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#the-useprivy-hook"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The primary method you&#x27;ll use to utilize Privy&#x27;s authentication features is <code class="vocs_Code">usePrivy</code>. Open <code class="vocs_Code">pages/dashboard.tsx</code> to see the methods decomposed from <code class="vocs_Code">usePrivy</code> in the starter, and how they are used.</p>
<p class="vocs_Paragraph">A full list of the fields and methods returned from <code class="vocs_Code">usePrivy</code> are <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.privy.io/reference/react-auth/interfaces/PrivyInterface" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">documented here</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="the-usewallets-hook" class="vocs_Heading_slugTarget"></div>The <code class="vocs_Code">useWallets</code> Hook<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#the-usewallets-hook"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To access wallet data for currently authenticated user, use the <code class="vocs_Code">useWallets</code> hook:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { ConnectedWallet, useWallets } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;@privy-io/react-auth&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">wallets</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useWallets</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// wallets = [</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//   {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;address&quot;: &quot;0x&lt;address&gt;&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;type&quot;: &quot;wallet&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;verifiedAt&quot;: &quot;2023-11-28T19:01:41.000Z&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;chainType&quot;: &quot;ethereum&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;chainId&quot;: &quot;eip155:84531&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;walletClient&quot;: &quot;unknown&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;walletClientType&quot;: &quot;coinbase_wallet&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;connectorType&quot;: &quot;coinbase_wallet&quot;</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//   },</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//   {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;address&quot;: &quot;0x&lt;address&gt;&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;type&quot;: &quot;wallet&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;verifiedAt&quot;: &quot;2023-11-28T20:09:23.000Z&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;chainType&quot;: &quot;ethereum&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;chainId&quot;: &quot;eip155:1&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;walletClient&quot;: &quot;unknown&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;walletClientType&quot;: &quot;metamask&quot;,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//     &quot;connectorType&quot;: &quot;injected&quot;</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">//   },</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// ],</span></span></code></pre></div></div>
<p class="vocs_Paragraph">As you can see, a user may connect multiple wallets to Privy, including Embedded Wallets.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="embedded-wallets" class="vocs_Heading_slugTarget"></div>Embedded Wallets<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#embedded-wallets"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Lastly, configure your starter app to create an Embedded Wallet for your users on login.</p>
<p class="vocs_Paragraph">As stated in the Privy docs,</p>
<blockquote class="vocs_Blockquote">
<p class="vocs_Paragraph">Embedded wallets are self-custodial Ethereum wallets that are embedded into your app. This allows your users to take wallet-based actions without ever leaving your site. Embedded wallets are the easiest way to unlock your full product experience for users who don&#x27;t have, or don&#x27;t want to connect, their own wallet.</p>
</blockquote>
<p class="vocs_Paragraph">When configuring your app to create embedded wallets on login, you have 2 options:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><code class="vocs_Code">users-without-wallets</code>: This will create embedded wallets for all use who did not login with an external wallet</li>
<li class="vocs_ListItem"><code class="vocs_Code">all-users</code>: This will create an additional embedded wallet for all users, regardless if they have linked an external wallet</li>
</ul>
<p class="vocs_Paragraph">Inside of <code class="vocs_Code">_app.tsx</code>, update your <code class="vocs_Code">PrivyProvider</code>:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">PrivyProvider</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  appId</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{process.env.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">NEXT_PUBLIC_PRIVY_APP_ID</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> ||</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  onSuccess</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">push</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;/dashboard&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  config</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{{</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    embeddedWallets: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      createOnLogin: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;all-users&#x27;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Log out of your application, then log in again and see that your user has an additional <code class="vocs_Code">linkedAccount</code> which is the Privy Embedded Wallet:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;address&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0xD5063967BA703D485e3Ca40Ecd61882dfa5F49b2&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;type&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;wallet&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;verifiedAt&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;2023-11-28T20:52:22.000Z&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;chainType&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;ethereum&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;chainId&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;eip155:1&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;walletClient&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;privy&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;walletClientType&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;privy&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;connectorType&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;embedded&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">  &quot;recoveryMethod&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;privy&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">},</span></span></code></pre></div></div>
<p class="vocs_Paragraph">More information on Privy&#x27;s Embedded Wallets, including information about the addresses, signing transactions, funding the wallet and more, can be found here: <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.privy.io/guide/frontend/embedded/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">https://docs.privy.io/guide/frontend/embedded/overview</a></p>
<h2 class="vocs_H2 vocs_Heading"><div id="implementing-the-paymaster-1" class="vocs_Heading_slugTarget"></div>Implementing the Paymaster<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#implementing-the-paymaster-1"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">A <em>paymaster</em> is a type of smart contract account, introduced in <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://eips.ethereum.org/EIPS/eip-4337" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">ERC-4337</a>, that is able to pay for gas on behalf of another account. In this step-by-step, you&#x27;ll modify an example created by <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://www.privy.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Privy</a>, move it to another onchain app, and use it to call a smart contract function. Along the way, you&#x27;ll encounter and resolve some of the confusing pitfalls associated with working with smart contract accounts.</p>
<div class="vocs_Div"><p class="vocs_Paragraph">The tutorial below does not account for recent changes to the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/base-org/paymaster" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Base Paymaster</a>. Please reference the linked repo and adjust. We&#x27;ll update the tutorial soon!</p></div>
<h3 class="vocs_H3 vocs_Heading"><div id="reviewing-the-example" class="vocs_Heading_slugTarget"></div>Reviewing the Example<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#reviewing-the-example"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Start by reviewing the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/privy-io/base-paymaster-example/blob/main/README.md" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">paymaster example</a>. The address in the <code class="vocs_Code">about</code> section of the Github page links to a deployed version of the app. It&#x27;s the same app you get from <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.privy.io/guide/quickstart" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Privy&#x27;s Quick Start</a>, with the addition of a mint button (the versions may be a little older).</p>
<p class="vocs_Paragraph">The app is limited to social auth, so log in with either your Google account or email. You&#x27;ll see the dashboard, with the addition of a <code class="vocs_Code">Mint NFT</code> button at the top.</p>
<p class="vocs_Paragraph">Click the button and you&#x27;ll see a toast notification informing you of updates to the transaction status. Note that this happens <strong class="vocs_Strong">without</strong> you needing to approve a transaction or fund a wallet!</p>
<p class="vocs_Paragraph">Click to see the transaction when it&#x27;s done to open BaseScan. If you missed it, mint another NFT, it&#x27;s not like you&#x27;re paying gas!</p>
<h3 class="vocs_H3 vocs_Heading"><div id="reviewing-the-transaction-and-contract" class="vocs_Heading_slugTarget"></div>Reviewing the Transaction and Contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#reviewing-the-transaction-and-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The transaction page should appear fairly standard. You can see from it that an NFT was minted by the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://goerli.basescan.org/address/0x6527e5052de5521fe370ae5ec0afcc6cd5a221de" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">NFT Contract</a> and transferred to the smart wallet address listed on the dashboard. Digging in a little more, you&#x27;ll see some things that might be different than what you&#x27;d expect.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="tokens-transferred-and-the-nft-contract" class="vocs_Heading_slugTarget"></div>Tokens Transferred and the NFT Contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#tokens-transferred-and-the-nft-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">In the <code class="vocs_Code">ERC-721 Tokens Transferred</code> section, click the link to <code class="vocs_Code">NFT Name (NFT)</code> to open up the overview page for the token. You&#x27;ll see a list of transfers, with yours likely on the top. Click the address for the contract to open up the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://goerli.basescan.org/address/0x6527e5052de5521fe370ae5ec0afcc6cd5a221de" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">view for the contract itself</a>.</p>
<p class="vocs_Paragraph">You may be surprised to see that there are very few transactions listed for this contract, despite the list of transfers you can see on the token page, or the <code class="vocs_Code">Events</code> tab. Currently, Etherscan and BaseScan won&#x27;t display transactions done via the paymaster.</p>
<div class="vocs_Div"><p class="vocs_Paragraph">Blockchain explorers are service providers that provide information about the state of various blockchains. They are <strong class="vocs_Strong">not</strong> a source of truth.</p><p class="vocs_Paragraph">It is possible for onchain activity to be missing from these services.</p></div>
<h4 class="vocs_H4 vocs_Heading"><div id="the-bundler-transaction-sender" class="vocs_Heading_slugTarget"></div>The Bundler (Transaction Sender)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#the-bundler-transaction-sender"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Return to the transactions summary and look at the <code class="vocs_Code">From:</code> field. It will contain <code class="vocs_Code">0x1e6754b227c6ae4b0ca61d82f79d60660737554a</code>. What is this address? It&#x27;s not your smart wallet address or signer address. If you mint another NFT from a different login, you&#x27;ll get the same sender.</p>
<p class="vocs_Paragraph">This address is the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://www.alchemy.com/overviews/what-is-a-bundler" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">bundler</a>, which is a special node that bundles user operations from the alt mempool into a single transaction and sends them to the single <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/eth-infinitism/account-abstraction/releases" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">EntryPoint</a> contract.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="entrypoint" class="vocs_Heading_slugTarget"></div>EntryPoint<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#entrypoint"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The EntryPoint contract for Base Goerli is located at <code class="vocs_Code">0x5ff137d4b0fdcd49dca30c7cf57e578a026d2789</code>. Strangely, in your transaction receipt you&#x27;ll see that the transaction includes a transfer of ETH <strong class="vocs_Strong">from</strong> the EntryPoint <strong class="vocs_Strong">to</strong> the bundler. This transaction is how the bundler gets compensated for performing the service of bundling user ops and turning them into transactions -- the EntryPoint calculates the gas used by user ops and multiplies that by the fee percentage and send it to the bundler.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="review-the-example-code" class="vocs_Heading_slugTarget"></div>Review the Example Code<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#review-the-example-code"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Return to the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/privy-io/base-paymaster-example/blob/main/README.md" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">paymaster example</a> and review the readme. The section on <em>Copying into your code</em> lists the three files you&#x27;ll need to copy over to implement the paymaster in your own app. All three are extensively documented via comments. You&#x27;ll also want to review how the demo app uses these to call a function.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="smartaccountcontexttsx" class="vocs_Heading_slugTarget"></div><code class="vocs_Code">SmartAccountContext.tsx</code><a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#smartaccountcontexttsx"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The first file, <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://github.com/privy-io/base-paymaster-example/blob/main/hooks/SmartAccountContext.tsx" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">hooks/SmartAccountContext.tsx</code></a> uses a React Context provider to create a <code class="vocs_Code">SmartAccountProvider`` and pass it into your app. You can see it in use in </code>_app.tsx<code class="vocs_Code">, with the regular </code>PrivyProvider` around it. Review the file in detail.</p>
<p class="vocs_Paragraph">Starting on line 63, the exported <code class="vocs_Code">SmartAccountProvider</code> does the following:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Fetch the user&#x27;s wallets and find their Privy wallet. This wallet is provided, and if need be created, by the <code class="vocs_Code">PrivyProvider</code></li>
<li class="vocs_ListItem">Set up state variables to manage and share connection status and the smart account itself</li>
<li class="vocs_ListItem">Initialize an RPC client for the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/base-org/paymaster" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Base Paymaster</a> (on Goerli). The URL is hardcoded in <code class="vocs_Code">lib/constants.ts</code></li>
<li class="vocs_ListItem">Initialize an ERC-4337 RPC client for Alchemy&#x27;s network. This network is where the bundler address comes from</li>
<li class="vocs_ListItem">Create a smart wallet. In this case, the <code class="vocs_Code">signer</code> is your EOA embedded wallet created by Privy and fetched in the first step</li>
<li class="vocs_ListItem">The EOA address is displayed in the example app as <code class="vocs_Code">YOUR SIGNER ADDRESS</code></li>
<li class="vocs_ListItem">Initialize an Alchemy provider for the smart account signer, using Alchemy&#x27;s <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://www.alchemy.com/blog/introducing-account-kit" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Account Kit</a>.</li>
<li class="vocs_ListItem">This creates the smart account and its address, which is displayed in the example app as <code class="vocs_Code">YOUR SMART WALLET ADDRESS</code></li>
</ol>
<p class="vocs_Paragraph">Finally, the <code class="vocs_Code">sendSponsoredUserOperation</code> function takes a traditional transaction, turns it into a user operation, adds the data for the paymaster to pay the gas, signs it, and sends it. Whew!</p>
<p class="vocs_Paragraph">If you want a deeper dive into the inner workings of this process, review the helper functions in <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://github.com/privy-io/base-paymaster-example/blob/main/lib/user-operations.ts" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">user-operations.ts</code></a>.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="how-to-call-a-smart-contract-function-with-the-paymaster" class="vocs_Heading_slugTarget"></div>How to Call a Smart Contract Function with the Paymaster<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#how-to-call-a-smart-contract-function-with-the-paymaster"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Open <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://github.com/privy-io/base-paymaster-example/blob/main/pages/dashboard.tsx" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">pages/dashboard.tsx</code></a> and take a look at the <code class="vocs_Code">onMint</code> function on line 32. This function is used as the <code class="vocs_Code">oncClick</code> handler for the <code class="vocs_Code">Mint</code> button at the top of the dashboard.</p>
<p class="vocs_Paragraph">If you&#x27;re used to working with wagmi, you&#x27;ll find the process of sending and awaiting for confirmation of a transaction a little on the manual side. Most of this will be familiar if you&#x27;ve used viem directly, or have worked with <em>Ethers</em>.</p>
<p class="vocs_Paragraph">When a user clicks, the app first creates a viem <code class="vocs_Code">RpcTransactionRequest</code> for the <code class="vocs_Code">mint</code> function on the smart contract. The <code class="vocs_Code">smartContractAddress</code> is supplied by the <code class="vocs_Code">SmartAccountProvider</code>, and the <code class="vocs_Code">ABI</code> and contract <code class="vocs_Code">NFT_ADDRESS</code> are loaded from <code class="vocs_Code">lib/constants.ts</code>:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  from</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: smartAccountAddress,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  to</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">NFT_ADDRESS</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  data</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encodeFunctionData</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    abi: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">ABI</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    functionName: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;mint&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    args: [smartAccountAddress],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The app then updates the toast component to update the users while it <code class="vocs_Code">await</code>s first the <code class="vocs_Code">userOpHash</code>, then the <code class="vocs_Code">transactionHash</code>, indicating that transaction has completed successfully. It then updates the link in the toast to send the user to that transaction on Goerli BaseScan.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="implementing-the-paymaster-in-your-own-app" class="vocs_Heading_slugTarget"></div>Implementing the Paymaster in your own App<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#implementing-the-paymaster-in-your-own-app"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Create a new project using Privy&#x27;s <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://github.com/privy-io/create-next-app" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">create-next-app</code></a> template, and complete the setup instructions in the readme.</p>
<p class="vocs_Paragraph">Add an environment variable for <code class="vocs_Code">NEXT_PUBLIC_ALCHEMY_API_KEY</code> and paste in the an API key for a Base Goerli app. If you need a key, go to <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://dashboard.alchemy.com/apps" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">add an app</a> and create a new one.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="copying-and-updating-the-source-files" class="vocs_Heading_slugTarget"></div>Copying and Updating the Source Files<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#copying-and-updating-the-source-files"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Copy the <code class="vocs_Code">hooks</code> and <code class="vocs_Code">lib</code> folders into your <em>new</em> project. You&#x27;ll need to install some more dependencies. Use <code class="vocs_Code">npm</code> or <code class="vocs_Code">yarn</code> to add:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">viem</li>
<li class="vocs_ListItem">react-dom</li>
<li class="vocs_ListItem">@alchemy/aa-accounts</li>
<li class="vocs_ListItem">@alchemy/aa-alchemy</li>
<li class="vocs_ListItem">@alchemy/aa-core</li>
</ul>
<p class="vocs_Paragraph">Open <code class="vocs_Code">SmartAccountContext.tsx</code> in your project. You&#x27;ll see an error for <code class="vocs_Code">getDefaultLightAccountFactory</code>. The name of this function has been updated to <code class="vocs_Code">getDefaultLightAccountFactoryAddress</code>. Change it in the import, and where it is used in the file in the call to <code class="vocs_Code">LightSmartContractAccount</code>.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="updating-to-use-the-users-wallet" class="vocs_Heading_slugTarget"></div>Updating to Use the User&#x27;s Wallet<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#updating-to-use-the-users-wallet"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The app is currently configured to find and use the user&#x27;s embedded Privy wallet as the signer. To change this, modify the instantiation of the <code class="vocs_Code">SmartAccountProvider</code>. Instead of <code class="vocs_Code">find</code>ing the user&#x27;s Privy wallet:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Old code to change</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Get a list of all of the wallets (EOAs) the user has connected to your site</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">wallets</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useWallets</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Find the embedded wallet by finding the entry in the list with a `walletClientType` of &#x27;privy&#x27;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> embeddedWallet</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> wallets.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">find</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">((</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span">wallet</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> wallet.walletClientType </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;privy&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Simply grab the first wallet in the list (you&#x27;ll want to do something more elegant for a production app):</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Updated Code</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Get a list of all of the wallets (EOAs) the user has connected to your site</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">wallets</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useWallets</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Grab the first wallet on the list</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// TODO: Implement the option to allow the user to choose another wallet</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> wallet</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> wallets[</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">];</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Then, update the call at the bottom of <code class="vocs_Code">useEffect</code> to <code class="vocs_Code">createSmartWallet</code> if there is an <code class="vocs_Code">embeddedWallet</code> to instead create it if there is a <code class="vocs_Code">wallet</code>, using that <code class="vocs_Code">wallet</code>. You&#x27;ll also need to update the dependency in the dependency array.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">useEffect</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  // Other code</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (wallet) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">createSmartWallet</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(wallet);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}, [wallet?.address]);</span></span></code></pre></div></div>
<h4 class="vocs_H4 vocs_Heading"><div id="configuring-the-privyprovider-and-adding-smartaccountprovider" class="vocs_Heading_slugTarget"></div>Configuring the PrivyProvider and Adding SmartAccountProvider<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#configuring-the-privyprovider-and-adding-smartaccountprovider"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">By default, the <code class="vocs_Code">PrivyProvider</code> allows logging in with a wallet or email address. To limit it to only the wallet, update the config. You can also set the default chain here. You&#x27;ll need to import <code class="vocs_Code">baseGoerli</code> to do so.</p>
<p class="vocs_Paragraph">You also need to import and wrap the app with <code class="vocs_Code">SmartAccountProvider</code>, imported from <code class="vocs_Code">hooks/SmartAccountContext.tsx</code>.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_warning"><p class="vocs_Paragraph">The <code class="vocs_Code">@alchemy/aa-core</code> package also exports <code class="vocs_Code">SmartAccountProvider</code> and this export takes precedence when VSCode attempts to help you by automatically adding the import. You&#x27;ll know you&#x27;ve got the wrong one if <code class="vocs_Code">SmartAccountProvider</code> generates an error that:</p><div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span class="vocs_Span">&#x27;SmartAccountProvider&#x27; cannot be used as a JSX component.</span></span>
<span class="line vocs_Span"><span class="vocs_Span">Its instance type &#x27;SmartAccountProvider&lt;Transport&gt;&#x27; is not a valid JSX element.</span></span></code></pre></div></div></aside>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">PrivyProvider</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  appId</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{process.env.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">NEXT_PUBLIC_PRIVY_APP_ID</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> ||</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &#x27;&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  onSuccess</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">push</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;/dashboard&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  config</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{{</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    loginMethods: [</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;wallet&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    defaultChain: baseGoerli,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  &lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">SmartAccountProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    &lt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">Component</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">...</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">pageProps} /&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  &lt;/</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">SmartAccountProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">PrivyProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span></code></pre></div></div>
<h4 class="vocs_H4 vocs_Heading"><div id="checking-progress" class="vocs_Heading_slugTarget"></div>Checking Progress<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#checking-progress"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Grab the snippet from the original demo that displays the user&#x27;s addresses, and add it to <code class="vocs_Code">dashboard.tsx</code> in the new project:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> className</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;mt-6 font-bold uppercase text-sm text-zinc-600&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  Your Smart Wallet Address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">a</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  className</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;mt-2 text-sm text-zinc-500 hover:text-violet-600&quot;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  href</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">`${</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">BASE_GOERLI_SCAN_URL</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">}/address/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">smartAccountAddress</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">}#tokentxnsErc721`</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  {smartAccountAddress}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">a</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> className</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;mt-6 font-bold uppercase text-sm text-zinc-600&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  Your Signer Address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">a</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  className</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;mt-2 text-sm text-zinc-500 hover:text-violet-600&quot;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  href</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">`${</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">BASE_GOERLI_SCAN_URL</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">}/address/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">eoa</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">?.</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">address</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  {eoa?.address}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">a</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Paste it above the <code class="vocs_Code">&lt;p&gt;</code> for the <code class="vocs_Code">User Object</code> window.</p>
<p class="vocs_Paragraph">You&#x27;ll need to import <code class="vocs_Code">BASE_GOERLI_SCAN_URL</code> from <code class="vocs_Code">constants.ts</code>. The <code class="vocs_Code">useSmartAccount</code> hook returns <code class="vocs_Code">smartAccountProvider</code> and <code class="vocs_Code">eoa</code>. Import it and add it under the <code class="vocs_Code">usePrivy</code> hook. You don&#x27;t need them just yet, but go ahead and decompose <code class="vocs_Code">smartAccountProvider</code> and <code class="vocs_Code">sendSponsoredUserOperation</code> as well:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> router</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useRouter</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  ready</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  authenticated</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  user</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  logout</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  linkEmail</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  linkWallet</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  unlinkEmail</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  linkPhone</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  unlinkPhone</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  unlinkWallet</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  linkGoogle</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  unlinkGoogle</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  linkTwitter</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  unlinkTwitter</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  linkDiscord</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">  unlinkDiscord</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> usePrivy</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">smartAccountAddress</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">smartAccountProvider</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">sendSponsoredUserOperation</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">eoa</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  useSmartAccount</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">();</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Run the app. You&#x27;ll now see your familiar wallet address as <code class="vocs_Code">YOUR SIGNER ADDRESS</code>!</p>
<div class="vocs_Pre_wrapper"><pre class="vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="language-caution vocs_Code">
The app sometimes gets confused with login state after you&#x27;ve made changes to `config`.  If you see the `Log In` button but clicking it does nothing, try manually navigating to `localhost:3000/dashboard` or clearing the cache.

</code></pre></div>
<h4 class="vocs_H4 vocs_Heading"><div id="calling-a-smart-contract-function" class="vocs_Heading_slugTarget"></div>Calling a Smart Contract Function<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#calling-a-smart-contract-function"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">You&#x27;ve adjusted the foundation of the app to allow you to use the Base Goerli Paymaster with your normal wallet as the signer. Now, it&#x27;s time to call a smart contract function.</p>
<p class="vocs_Paragraph">Start by using the <code class="vocs_Code">mint</code> function in the original example. In the <code class="vocs_Code">DashboardPage</code> component, add a state variable holding an empty element:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">transactionLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">setTransactionLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">] </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> useState</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(&lt;&gt;&lt;/&gt;);</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Then, add a variant of the original <code class="vocs_Code">onMint</code> function that sets this variable and has the code related to the toast removed.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">Note:</strong> make sure you change your wallet address in <code class="vocs_Code">args</code> to make sure the NFT is sent to your EOA wallet address!</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> onMint</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> async</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> () </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  // The mint button is disabled if either of these are undefined</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  if</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">smartAccountProvider </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">||</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> !</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">smartAccountAddress) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  try</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // From a viem `RpcTransactionRequest` (e.g. calling an ERC-721&#x27;s `mint` method),</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // build and send a user operation. Gas fees will be sponsored by the Base Paymaster.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> userOpHash</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> await</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> sendSponsoredUserOperation</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      from: smartAccountAddress,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      to: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">NFT_ADDRESS</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      data: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encodeFunctionData</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        abi: </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">ABI</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        functionName: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;mint&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        args: [eoa?.address],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      }),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Once we have a hash for the user operation, watch it until the transaction has</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // been confirmed.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> transactionHash</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> smartAccountProvider.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">waitForUserOperationTransaction</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(userOpHash);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    setTransactionLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      &lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">a</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> href</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">`${</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">BASE_GOERLI_SCAN_URL</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">}/tx/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">transactionHash</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        Successfully minted! Click here to see your transaction.</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">      &lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">a</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    );</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">catch</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (error) {</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    setTransactionLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;{</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;Mint failed with error: &#x27;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> +</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> error}&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">};</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Finally, above where you added the addresses, add a button to call the function, and display the link to the transaction:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  onClick</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{onMint}</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  className</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;rounded-md bg-violet-600 px-4 py-2 text-sm text-white hover:bg-violet-700 disabled:bg-violet-400&quot;</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">  disabled</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">smartAccountProvider </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">||</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> !</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">smartAccountAddress}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  Mint NFT</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&lt;/</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span">button</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">&gt;;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  transactionLink;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Run it and confirm it works. You need the full transaction receipt for the process to finish, so expect to wait as long as 10 or 15 seconds.</p>
<div class="vocs_Div"><p class="vocs_Paragraph">For simplicity, we&#x27;ve stripped out the code to disable the button while it is minting. You&#x27;ll want to implement your own solution to avoid confusing your users!</p></div>
<h4 class="vocs_H4 vocs_Heading"><div id="calling-another-function" class="vocs_Heading_slugTarget"></div>Calling Another Function<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#calling-another-function"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/base-org/paymaster" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Base Paymaster</a> on Goerli is very permissive. To call another function, all you need to do is to change the <code class="vocs_Code">RpcTransactionRequest</code> in <code class="vocs_Code">sendSponsoredUserOperation</code> to match the address, abi, function name, and arguments of your function on your smart contract.</p>
<p class="vocs_Paragraph">For example, to call the <code class="vocs_Code">claim</code> function in the Weighted Voting contract we&#x27;ve used in other tutorials, you&#x27;d simply need to import the Hardhat-style <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://gist.github.com/briandoyle81CB/2c2849b5723058792bece666f0a318cb" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">artifact</a> for the contract and use it to call the function:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> userOpHash</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> await</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> sendSponsoredUserOperation</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  from: smartAccountAddress,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  to: weightedVoting.address </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">as</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> `0x${</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  data: </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encodeFunctionData</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    abi: weightedVoting.abi,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    functionName: </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;claim&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">});</span></span></code></pre></div></div>
<div class="vocs_Div"><p class="vocs_Paragraph">The function in this example can only be called once per address. It will then fail, because one wallet cannot claim more than one batch of tokens.</p></div>
<h2 class="vocs_H2 vocs_Heading"><div id="conclusion" class="vocs_Heading_slugTarget"></div>Conclusion<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster#conclusion"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">In this article, we&#x27;ve explored the transformative potential of Account Abstraction for the Ethereum ecosystem, highlighting how it enables smart contract accounts to initiate transactions without altering the core protocol. This innovation, coupled with the utilization of Privy for streamlined user onboarding and secure data management, marks a significant advancement towards reducing onboarding friction for onchain applications. Through a practical implementation involving Privy and the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/base-org/paymaster" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Base Paymaster</a>, we demonstrated how users can perform onchain actions without incurring gas fees, showcasing the adaptability and user-centric benefits of these technologies. This tutorial not only sheds light on the technical workings of Account Abstraction but also illustrates its practical application in enhancing the blockchain user experience.</p></article><footer class="vocs_Footer"><div class="vocs_Footer_container"></div><footer class="py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col items-center justify-center space-y-4"><div class="flex items-center space-x-2"><span class="text-zinc-900 dark:text-zinc-100 font-medium">Base Docs</span></div><div class="text-sm text-zinc-600 dark:text-zinc-400">© <!-- -->2025<!-- --> base.org. All rights reserved.</div><div class="flex flex-row space-x-4"><a href="/privacy-policy">Privacy Policy</a><a href="/terms-of-service">Terms of Service</a><a href="/cookie-policy">Cookie Policy</a></div></div></div></footer></footer></div><div data-bottom-observer="true"></div></div><!--$--><!--/$--></div></div>
  </body>
</html>
