<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>
    
    <title data-react-helmet="true">Sending messages from Base to other chains using LayerZero V2 – Base Docs</title>
    <meta data-react-helmet="true" name="description" content="A tutorial that teaches how to use LayerZero V2 to perform cross-chain messaging from Base Goerli testnet to Optimism Goerli testnet."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Sending messages from Base to other chains using LayerZero V2"/><meta data-react-helmet="true" property="og:url" content="https://docs.base.org"/><meta data-react-helmet="true" property="og:description" content="A tutorial that teaches how to use LayerZero V2 to perform cross-chain messaging from Base Goerli testnet to Optimism Goerli testnet."/><meta data-react-helmet="true" property="og:image" content="/images/base-docs-og.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="twitter:image" content="/images/base-docs-og.png"/>
    <link data-react-helmet="true" rel="icon" href="/favicon.ico" type="image/x-icon"/>
    
    
    <meta property="twitter:title" content="Base | Docs"/><meta property="twitter:image" content="https://docs.base.org/images/base-docs-og.png"/><meta property="twitter:description" content="Explore the documentation for Base, a secure, low-cost, builder-friendly Ethereum L2"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:domain" content="base.org"/><script src="https://www.googletagmanager.com/gtag/js?id=G-TKCM02YFWN" async="" defer=""></script><script id="gtag-init">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TKCM02YFWN');
    </script>
  
    <script type="module" crossorigin src="/assets/index-Dlxm52NL.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-BheZ9r0M.css">
  </head>
  <body>
    <div id="app"><div class="vocs-layout antialiased" style="font-family:CoinbaseSans !important"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/quickstart">Quickstart</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/bridges-mainnet">Bridges</a><a data-active="false" class="vocs_Sidebar_item" href="/base-services-hub">Service Hub</a><a data-active="false" class="vocs_Sidebar_item" href="https://status.base.org/">Status ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Builder Kits</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">OnchainKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">MiniKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/agentkit/docs/welcome">AgentKit (CDP) ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Blockspace Tools</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/paymaster/docs/welcome">Paymaster (CDP) ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/appchains/docs/welcome">Appchains ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Identity</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Wallet</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Basenames</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/verifications/docs/welcome">Verifications (CDP)↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Wallet App</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/mini-apps">Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/getting-started">Getting Started with Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/beta-faq">Coinbase Wallet Beta FAQ</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Chain</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Flashblocks</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Misc.</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Network Information</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Node Operators</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="/chain/security-council">Security Council</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/block-building">Block Building</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Tools</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Use Cases</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onboard-any-user">Onboard any user</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/accept-crypto-payments">Accept crypto payments</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/launch-ai-agents">Launch AI Agents</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onchain-social">Onchain Social</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/defi-your-app">DeFi your app</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/go-gasless">Go gasless</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Cookbook</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By use case</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By tool</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Contract Development</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">IPFS</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/ipfs/deploy-with-fleek">Deploy with Fleek</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Token Gating</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/token-gating/gate-irl-events-with-nouns">Gate IRL Events with Nouns</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Client-Side Development</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/client-side-development/introduction-to-providers">Introduction to Providers</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Account Abstraction</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-biconomy">Using Biconomy</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-particle-network">Using Particle Network</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster">Using Privy and Base Paymaster</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/gasless-transactions-with-paymaster">Gasless Transactions with Paymaster</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Cross-Chain</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="true" class="vocs_Sidebar_item" href="/cookbook/cross-chain/bridge-tokens-with-layerzero">Bridge Tokens with LayerZero</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink">Send Messages and Tokens from Base (Chainlink)</a></div></section></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Learn</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Buildathons</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Feedback</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://discord.com/invite/buildonbase">Get help ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://hackerone.com/coinbase">Bug bounty ↗</a></div></section></div></nav></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2m7:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav></div><div class="vocs_DesktopTopNav_divider"></div><div class="vocs_DesktopTopNav_group" style="margin-left:-8px;margin-right:-8px"><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:23px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><a class="vocs_MobileTopNav_navigationItem vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" variant="styleless">Get help</a></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd67:" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="vocs_MobileTopNav_divider"></div><div class="vocs_MobileTopNav_group" style="margin-left:-8px"><a class="vocs_MobileTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:21px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3a7:" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Bridge Tokens with LayerZero</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rla7:" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="sending-messages-from-base-to-other-chains-using-layerzero-v2" class="vocs_Heading_slugTarget"></div>Sending messages from Base to other chains using LayerZero V2<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#sending-messages-from-base-to-other-chains-using-layerzero-v2"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<p class="vocs_Paragraph">This tutorial will guide you through the process of sending cross-chain message data from a Base smart contract to another smart contract on a different chain using LayerZero V2.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="objectives" class="vocs_Heading_slugTarget"></div>Objectives<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#objectives"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">By the end of this tutorial you should be able to do the following:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Set up a smart contract project for Base using Foundry</li>
<li class="vocs_ListItem">Install the LayerZero smart contracts as a dependency</li>
<li class="vocs_ListItem">Use LayerZero to send messages and from smart contracts on Base to smart contracts on different chains</li>
<li class="vocs_ListItem">Deploy and test your smart contracts on Base testnet</li>
</ul>
<h2 class="vocs_H2 vocs_Heading"><div id="prerequisites" class="vocs_Heading_slugTarget"></div>Prerequisites<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#prerequisites"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<h3 class="vocs_H3 vocs_Heading"><div id="foundry" class="vocs_Heading_slugTarget"></div>Foundry<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#foundry"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">This tutorial requires you to have Foundry installed.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">From the command-line (terminal), run: <code class="vocs_Code">curl -L https://foundry.paradigm.xyz | bash</code></li>
<li class="vocs_ListItem">Then run <code class="vocs_Code">foundryup</code>, to install the latest (nightly) build of Foundry</li>
</ul>
<p class="vocs_Paragraph">For more information, see the Foundry Book <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://book.getfoundry.sh/getting-started/installation" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">installation guide</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="coinbase-wallet" class="vocs_Heading_slugTarget"></div>Coinbase Wallet<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#coinbase-wallet"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">In order to deploy a smart contract, you will first need a wallet. You can create a wallet by downloading the Coinbase Wallet browser extension.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Download <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad?hl=en" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Coinbase Wallet</a></li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="wallet-funds" class="vocs_Heading_slugTarget"></div>Wallet funds<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#wallet-funds"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To complete this tutorial, you will need to fund a wallet with ETH on Base Goerli and Optimism Goerli.</p>
<p class="vocs_Paragraph">The ETH is required for covering gas fees associated with deploying smart contracts to each network.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">To fund your wallet with ETH on Base Goerli, visit a faucet listed on the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="/chain/network-faucets">Base Faucets</a> page.</li>
<li class="vocs_ListItem">To fund your wallet with ETH on Optimism Goerli, visit a faucet listed on the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.optimism.io/builders/tools/faucets" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Optimism Faucets</a> page.</li>
</ul>
<h2 class="vocs_H2 vocs_Heading"><div id="what-is-layerzero" class="vocs_Heading_slugTarget"></div>What is LayerZero?<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#what-is-layerzero"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">LayerZero is an interoperability protocol that allows developers to build applications (and tokens) that can connect to multiple blockchains. LayerZero defines these types of applications as &quot;omnichain&quot; applications.</p>
<p class="vocs_Paragraph">The LayerZero protocol is made up of immutable on-chain <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/layerzero-endpoint" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Endpoints</a>, a configurable <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/decentralized-verifier-networks" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Security Stack</a>, and a permissionless set of <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/executors" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Executors</a> that transfer messages between chains.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="high-level-concepts" class="vocs_Heading_slugTarget"></div>High-level concepts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#high-level-concepts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<h4 class="vocs_H4 vocs_Heading"><div id="endpoints" class="vocs_Heading_slugTarget"></div>Endpoints<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#endpoints"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Endpoints are immutable LayerZero smart contracts that implement a standardized interface for your own smart contracts to use and in order to manage security configurations and send and receive messages.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="security-stack-dvns" class="vocs_Heading_slugTarget"></div>Security Stack (DVNs)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#security-stack-dvns"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/decentralized-verifier-networks" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Security Stack</a> is a configurable set of required and optional Decentralized Verifier Networks (DVNs). The DVNs are used to verify message payloads to ensure integrity of your application&#x27;s messages.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="executors" class="vocs_Heading_slugTarget"></div>Executors<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#executors"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/executors" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Executors</a> are responsible for initiating message delivery. They will automatically execute the <code class="vocs_Code">lzReceive</code> function of the endpoint on the destination chain once a message has been verified by the Security Stack.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="creating-a-project" class="vocs_Heading_slugTarget"></div>Creating a project<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#creating-a-project"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Before you begin, you need to set up your smart contract development environment by creating a Foundry project.</p>
<p class="vocs_Paragraph">To create a new Foundry project, first create a new directory:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">mkdir</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> myproject</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Then run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">cd</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> myproject</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> init</span></span></code></pre></div></div>
<p class="vocs_Paragraph">This will create a Foundry project with the following basic layout:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">.</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">├──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> foundry.toml</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">├──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> script</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">├──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> src</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">└──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> test</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">You can delete the <code class="vocs_Code">src/Counter.sol</code>, <code class="vocs_Code">test/Counter.t.sol</code>, and <code class="vocs_Code">script/Counter.s.sol</code> boilerplate files that were generated with the project, as you will not be needing them.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="installing-the-layerzero-smart-contracts" class="vocs_Heading_slugTarget"></div>Installing the LayerZero smart contracts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#installing-the-layerzero-smart-contracts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">To use LayerZero within your Foundry project, you need to install the LayerZero smart contracts and their dependencies using <code class="vocs_Code">forge install</code>.</p>
<p class="vocs_Paragraph">To install LayerZero smart contracts and their dependencies, run the following commands:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> install</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> GNSPS/solidity-bytes-utils</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --no-commit</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> install</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> OpenZeppelin/openzeppelin-contracts@v4.9.4</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --no-commit</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> install</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> LayerZero-Labs/LayerZero-v2</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --no-commit</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Once installed, update your <code class="vocs_Code">foundry.toml</code> file by appending the following lines:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">remappings</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    &#x27;@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts&#x27;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    &#x27;solidity-bytes-utils/=lib/solidity-bytes-utils&#x27;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    &#x27;@layerzerolabs/lz-evm-oapp-v2/=lib/LayerZero-v2/oapp&#x27;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    &#x27;@layerzerolabs/lz-evm-protocol-v2/=lib/LayerZero-v2/protocol&#x27;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">    &#x27;@layerzerolabs/lz-evm-messagelib-v2/=lib/LayerZero-v2/messagelib&#x27;</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">]</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="getting-started-with-layerzero" class="vocs_Heading_slugTarget"></div>Getting started with LayerZero<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#getting-started-with-layerzero"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">LayerZero provides a smart contract standard called <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/v2/developers/evm/oapp/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OApp</a> that is intended for omnichain messaging and configuration.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// SPDX-License-Identifier: MIT</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">pragma</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span"> solidity</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> ^0.8.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OAppSender</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;./OAppSender.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OAppReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">Origin</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;./OAppReceiver.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OAppCore</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;./OAppCore.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">abstract</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OApp</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OAppSender</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OAppReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _endpoint) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OAppCore</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_endpoint, msg.sender) {}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> oAppVersion</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">public</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> pure</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> virtual</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> returns</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint64</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> senderVersion</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint64</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> receiverVersion</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       senderVersion </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> SENDER_VERSION;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       receiverVersion </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> RECEIVER_VERSION;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">You can view the source code for this contract on <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/LayerZero-Labs/LayerZero-v2/blob/main/packages/layerzero-v2/evm/oapp/contracts/oapp/OApp.sol" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">GitHub</a>.</p></aside>
<p class="vocs_Paragraph">To get started using LayerZero, developers simply need to inherit from the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/LayerZero-Labs/LayerZero-v2/blob/main/packages/layerzero-v2/evm/oapp/contracts/oapp/OApp.sol" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OApp</a> contract, and implement the following two inherited functions:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><code class="vocs_Code">_lzSend</code>: A function used to send an omnichain message</li>
<li class="vocs_ListItem"><code class="vocs_Code">_lzReceive</code>: A function used to receive an omnichain message</li>
</ul>
<p class="vocs_Paragraph">In this tutorial, you will be implementing the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/v2/developers/evm/oapp/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OApp</a> standard into your own project to add the capability to send messages from a smart contract on Base to a smart contract on Optimism.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">An extension of the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/v2/developers/evm/oapp/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OApp</a> contract standard known as <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/oft" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OFT</a> is also available for supporting omnichain fungible token transfers.</p></aside>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">For more information on transferring tokens across chains using LayerZero, visit the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/oft" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero documentation</a>.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="writing-the-smart-contract" class="vocs_Heading_slugTarget"></div>Writing the smart contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#writing-the-smart-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">To get started, create a new Solidity smart contract file in your project&#x27;s <code class="vocs_Code">src/</code> directory named <code class="vocs_Code">ExampleContract.sol</code>, and add the following content:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// SPDX-License-Identifier: MIT</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">pragma</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span"> solidity</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> ^0.8.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">Origin</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">MessagingFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/OApp.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> ExampleContract</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _endpoint, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _owner) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_endpoint, _owner) {}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The code snippet above defines a new smart contract named <code class="vocs_Code">ExampleContract</code> that extends the <code class="vocs_Code">OApp</code> contract standard.</p>
<p class="vocs_Paragraph">The contract&#x27;s constructor expects two arguments:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><code class="vocs_Code">_endpoint</code>: The <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/layerzero-endpoint" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero Endpoint</a> <code class="vocs_Code">address</code> for the chain the smart contract is deployed to.</li>
<li class="vocs_ListItem"><code class="vocs_Code">_owner</code>: The <code class="vocs_Code">address</code> of the owner of the smart contract.</li>
</ul>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/layerzero-endpoint" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero Endpoints</a> are smart contracts that expose an interface for OApp contracts to manage security configurations and send and receive messages via the LayerZero protocol.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="implementing-message-sending-_lzsend" class="vocs_Heading_slugTarget"></div>Implementing message sending (<code class="vocs_Code">_lzSend</code>)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#implementing-message-sending-_lzsend"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To send messages to another chain, your smart contract must call the <code class="vocs_Code">_lzSend</code> function inherited from the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/v2/developers/evm/oapp/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OApp</a> contract.</p>
<p class="vocs_Paragraph">Add a new custom function named <code class="vocs_Code">sendMessage</code> to your smart contract that has the following content:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Sends a message from the source chain to the destination chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The endpoint ID of the destination chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message to be sent.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message execution options (e.g. gas to use on destination).</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> sendMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint32</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">external</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> payable</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _payload </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_message); </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Encode the message as bytes</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">   _lzSend</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       _dstEid,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       _payload,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       _options,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">       MessagingFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">msg</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.value, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Fee for the message (nativeFee, lzTokenFee)</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">       payable</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">msg.sender</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// The refund address in case the send call reverts</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   );</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The <code class="vocs_Code">sendMessage</code> function above calls the inherited <code class="vocs_Code">_lzSend</code> function, while passing in the following expected data:</p>
<table class="vocs_Table"><thead><tr class="vocs_TableRow"><th style="text-align:left" class="vocs_TableHeader">Name</th><th style="text-align:left" class="vocs_TableHeader">Type</th><th style="text-align:left" class="vocs_TableHeader">Description</th></tr></thead><tbody><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_dstEid</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">uint32</code></td><td style="text-align:left" class="vocs_TableCell">The <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/endpoint-addresses" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">endpoint ID</a> of the destination chain to send the message to.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_payload</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes</code></td><td style="text-align:left" class="vocs_TableCell">The message (encoded) to send.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_options</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes</code></td><td style="text-align:left" class="vocs_TableCell"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/options" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Additional options</a> when sending the message, such as how much gas should be used when receiving the message.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_fee</code></td><td style="text-align:left" class="vocs_TableCell"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://github.com/LayerZero-Labs/LayerZero-v2/blob/c3213200dfe8fabbf7d92c685590d34e6e70da43/protocol/contracts/interfaces/ILayerZeroEndpointV2.sol#L24" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">MessagingFee</code></a></td><td style="text-align:left" class="vocs_TableCell">The calculated fee for sending the message.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_refundAddress</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">address</code></td><td style="text-align:left" class="vocs_TableCell">The <code class="vocs_Code">address</code> that will receive any excess fee values sent to the endpoint in case the <code class="vocs_Code">_lzSend</code> execution reverts.</td></tr></tbody></table>
<h3 class="vocs_H3 vocs_Heading"><div id="implementing-gas-fee-estimation-_quote" class="vocs_Heading_slugTarget"></div>Implementing gas fee estimation (<code class="vocs_Code">_quote</code>)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#implementing-gas-fee-estimation-_quote"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">As shown in the table provided in the last section, the <code class="vocs_Code">_lzSend</code> function expects an estimated gas <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/LayerZero-Labs/LayerZero-v2/blob/c3213200dfe8fabbf7d92c685590d34e6e70da43/protocol/contracts/interfaces/ILayerZeroEndpointV2.sol#L24" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">fee</a> to be provided when sending a message (<code class="vocs_Code">_fee</code>).</p>
<p class="vocs_Paragraph">Therefore, sending a message using the <code class="vocs_Code">sendMessage</code> function of your contract, you first need to estimate the associated gas fees.</p>
<p class="vocs_Paragraph">There are multiple fees incurred when sending a message across chains using LayerZero, including: paying for gas on the source chain, fees paid to DVNs validating the message, and gas on the destination chain. Luckily, LayerZero bundles all of these fees together into a single fee to be paid by the <code class="vocs_Code">msg.sender</code>, and LayerZero Endpoints expose a <code class="vocs_Code">_quote</code> function to estimate this fee.</p>
<p class="vocs_Paragraph">Add a new function to your <code class="vocs_Code">ExampleContract</code> contract called <code class="vocs_Code">estimateFee</code> that calls the <code class="vocs_Code">_quote</code> function, as shown below:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Estimates the gas associated with sending a message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The endpoint ID of the destination chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message to be sent.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message execution options (e.g. gas to use on destination).</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> nativeFee</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Estimated gas fee in native gas.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> lzTokenFee</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Estimated gas fee in ZRO token.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> estimateFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   uint32</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">public</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> view</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> returns</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint256</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> nativeFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint256</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> lzTokenFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _payload </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_message);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   MessagingFee </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> fee </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> _quote</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_dstEid, _payload, _options, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (fee.nativeFee, fee.lzTokenFee);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The <code class="vocs_Code">estimateFee</code> function above calls the inherited <code class="vocs_Code">_quote</code> function, while passing in the following expected data:</p>
<table class="vocs_Table"><thead><tr class="vocs_TableRow"><th style="text-align:left" class="vocs_TableHeader">Name</th><th style="text-align:left" class="vocs_TableHeader">Type</th><th style="text-align:left" class="vocs_TableHeader">Description</th></tr></thead><tbody><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_dstEid</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">uint32</code></td><td style="text-align:left" class="vocs_TableCell">The <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/endpoint-addresses" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">endpoint ID</a> of the destination chain the message will be sent to.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_payload</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes</code></td><td style="text-align:left" class="vocs_TableCell">The message (encoded) that will be sent.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_options</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes</code></td><td style="text-align:left" class="vocs_TableCell"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/options" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Additional options</a> when sending the message, such as how much gas should be used when receiving the message.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_payInLzToken</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bool</code></td><td style="text-align:left" class="vocs_TableCell">Boolean flag for which token to use when returning the fee (native or ZRO token).</td></tr></tbody></table>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Your contract&#x27;s <code class="vocs_Code">estimateFee</code> function should always be called immediately before calling <code class="vocs_Code">sendMessage</code> to accurately estimate associated gas fees.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="implementing-message-receiving-_lzreceive" class="vocs_Heading_slugTarget"></div>Implementing message receiving (<code class="vocs_Code">_lzReceive</code>)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#implementing-message-receiving-_lzreceive"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To receive messages on the destination chain, your smart contract must override the <code class="vocs_Code">_lzReceive</code> function inherited from the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/v2/developers/evm/oapp/overview" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OApp</a> contract.</p>
<p class="vocs_Paragraph">Add the following code snippet to your <code class="vocs_Code">ExampleContract</code> contract to override the <code class="vocs_Code">_lzReceive</code> function:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Entry point for receiving messages.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _origin</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The origin information containing the source endpoint and sender address.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">///  - srcEid: The source chain endpoint ID.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">///  - sender: The sender address on the src chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">///  - nonce: The nonce of the message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _guid</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The unique identifier for the received LayerZero message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The payload of the received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _executor</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the executor for the received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _extraData</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Additional arbitrary data provided by the corresponding executor.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> _lzReceive</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   Origin</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _origin,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes32</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _guid,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> payload</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _executor,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _extraData</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">internal</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> override</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       data </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">decode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(payload, (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">));</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">       // other logic</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The overridden <code class="vocs_Code">_lzReceive</code> function receives the following arguments when receiving a message:</p>
<table class="vocs_Table"><thead><tr class="vocs_TableRow"><th style="text-align:left" class="vocs_TableHeader">Name</th><th style="text-align:left" class="vocs_TableHeader">Type</th><th style="text-align:left" class="vocs_TableHeader">Description</th></tr></thead><tbody><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_origin</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">Origin</code></td><td style="text-align:left" class="vocs_TableCell">The origin information containing the source endpoint and sender address.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_guid</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes32</code></td><td style="text-align:left" class="vocs_TableCell">The unique identifier for the received LayerZero message.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">payload</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes</code></td><td style="text-align:left" class="vocs_TableCell">The payload of the received message (encoded).</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_executor</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">address</code></td><td style="text-align:left" class="vocs_TableCell">The <code class="vocs_Code">address</code> of the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/executors" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Executor</a> for the received message.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_extraData </code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes</code></td><td style="text-align:left" class="vocs_TableCell">Additional arbitrary data provided by the corresponding <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/executors" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Executor</a>.</td></tr></tbody></table>
<p class="vocs_Paragraph">Note that the overridden method decodes the message payload, and stores the string into a variable named <code class="vocs_Code">data</code> that you can read from later to fetch the latest message.</p>
<p class="vocs_Paragraph">Add the <code class="vocs_Code">data</code> field as a member variable to your contract:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> ExampleContract</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // highlight-next-line</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> public</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> data;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _endpoint) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_endpoint, msg.sender) {}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Overriding the <code class="vocs_Code">_lzReceive</code> function allows you to provide any custom logic you wish when receiving messages, including making a call back to the source chain by invoking <code class="vocs_Code">_lzSend</code>. Visit the LayerZero <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/message-design-patterns" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Message Design Patterns</a> for common messaging flows.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="final-code" class="vocs_Heading_slugTarget"></div>Final code<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#final-code"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Once you complete all of the steps above, your contract should look like this:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// SPDX-License-Identifier: MIT</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">pragma</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span"> solidity</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> ^0.8.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">Origin</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">MessagingFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/OApp.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> ExampleContract</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> public</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> data;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _endpoint) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OApp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_endpoint, msg.sender) {}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Sends a message from the source chain to the destination chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The endpoint ID of the destination chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message to be sent.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message execution options (e.g. gas to use on destination).</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> sendMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint32</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">external</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> payable</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _payload </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_message); </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Encode the message as bytes</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">     _lzSend</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           _dstEid,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           _payload,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           _options,</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">           MessagingFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">msg</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.value, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Fee for the message (nativeFee, lzTokenFee)</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">           payable</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">msg.sender</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// The refund address in case the send call reverts</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">     );</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Estimates the gas associated with sending a message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The endpoint ID of the destination chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message to be sent.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The message execution options (e.g. gas to use on destination).</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> nativeFee</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Estimated gas fee in native gas.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> lzTokenFee</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Estimated gas fee in ZRO token.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> estimateFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     uint32</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _dstEid,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _options</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">public</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> view</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> returns</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint256</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> nativeFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">uint256</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> lzTokenFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _payload </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_message);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">     MessagingFee </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> fee </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> _quote</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_dstEid, _payload, _options, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">     return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (fee.nativeFee, fee.lzTokenFee);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Entry point for receiving messages.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _origin</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The origin information containing the source endpoint and sender address.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  ///  - srcEid: The source chain endpoint ID.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  ///  - sender: The sender address on the src chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  ///  - nonce: The nonce of the message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _guid</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The unique identifier for the received LayerZero message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The payload of the received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _executor</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the executor for the received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">  /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _extraData</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Additional arbitrary data provided by the corresponding executor.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">  function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> _lzReceive</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">     Origin</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _origin,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     bytes32</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _guid,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> payload</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _executor,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">     bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _extraData</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">     ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">internal</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> override</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        data </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">decode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(payload, (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">));</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="compiling-the-smart-contract" class="vocs_Heading_slugTarget"></div>Compiling the smart contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#compiling-the-smart-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Compile the smart contract to ensure it builds without any errors.</p>
<p class="vocs_Paragraph">To compile your smart contract, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> build</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="deploying-the-smart-contract" class="vocs_Heading_slugTarget"></div>Deploying the smart contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#deploying-the-smart-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<h3 class="vocs_H3 vocs_Heading"><div id="setting-up-your-wallet-as-the-deployer" class="vocs_Heading_slugTarget"></div>Setting up your wallet as the deployer<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#setting-up-your-wallet-as-the-deployer"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Before you can deploy your smart contract to various chains you will need to set up a wallet to be used as the deployer.</p>
<p class="vocs_Paragraph">To do so, you can use the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://book.getfoundry.sh/reference/cast/cast-wallet-import" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">cast wallet import</code></a> command to import the private key of the wallet into Foundry&#x27;s securely encrypted keystore:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> wallet</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> import</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --interactive</span></span></code></pre></div></div>
<p class="vocs_Paragraph">After running the command above, you will be prompted to enter your private key, as well as a password for signing transactions.</p>
<div class="vocs_Div"><p class="vocs_Paragraph">For instructions on how to get your private key from Coinbase Wallet, visit the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.cloud.coinbase.com/wallet-sdk/docs/developer-settings#show-private-key" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Coinbase Wallet documentation</a>. <strong class="vocs_Strong">It is critical that you do NOT commit this to a public repo</strong>.</p></div>
<p class="vocs_Paragraph">To confirm that the wallet was imported as the <code class="vocs_Code">deployer</code> account in your Foundry project, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> wallet</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> list</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="setting-up-environment-variables" class="vocs_Heading_slugTarget"></div>Setting up environment variables<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#setting-up-environment-variables"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To setup your environment, create an <code class="vocs_Code">.env</code> file in the home directory of your project, and add the RPC URLs and <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/endpoint-addresses" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero Endpoint</a> information for both Base Goerli and Optimism Goerli testnets:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">BASE_GOERLI_RPC</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;https://goerli.base.org&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">BASE_GOERLI_LZ_ENDPOINT</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">0x464570adA09869d8741132183721B4f0769a0287</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">BASE_GOERLI_LZ_ENDPOINT_ID</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">40184</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">OPTIMISM_GOERLI_RPC</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;https://goerli.optimism.io&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">OPTIMISM_GOERLI_LZ_ENDPOINT</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">0x464570adA09869d8741132183721B4f0769a0287</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">OPTIMISM_GOERLI_LZ_ENDPOINT_ID</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">40132</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Once the <code class="vocs_Code">.env</code> file has been created, run the following command to load the environment variables in the current command line session:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">source .env</span></span></code></pre></div></div>
<p class="vocs_Paragraph">With your contract compiled and environment setup, you are now ready to deploy the smart contract to different networks.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="deploying-the-smart-contract-to-base-goerli" class="vocs_Heading_slugTarget"></div>Deploying the smart contract to Base Goerli<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#deploying-the-smart-contract-to-base-goerli"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To deploy a smart contract using Foundry, you can use the <code class="vocs_Code">forge create</code> command. The command requires you to specify the smart contract you want to deploy, an RPC URL of the network you want to deploy to, and the account you want to deploy with.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Your wallet must be funded with ETH on the Base Goerli and Optimism Goerli to cover the gas fees associated with the smart contract deployment. Otherwise, the deployment will fail.</p><p class="vocs_Paragraph">To get testnet ETH, see the <a class="vocs_Anchor" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#prerequisites">prerequisites</a>.</p></aside>
<p class="vocs_Paragraph">To deploy the <code class="vocs_Code">ExampleContract</code> smart contract to the Base Goerli testnet, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> create</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> ./src/ExampleContract.sol:ExampleContract</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_RPC </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--constructor-args</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_LZ_ENDPOINT </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<p class="vocs_Paragraph">When prompted, enter the password that you set earlier, when you imported your wallet&#x27;s private key.</p>
<p class="vocs_Paragraph">After running the command above, the contract will be deployed on the Base Goerli test network. You can view the deployment status and contract by using a <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="/chain/block-explorers">block explorer</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="deploying-the-smart-contract-to-optimism-goerli" class="vocs_Heading_slugTarget"></div>Deploying the smart contract to Optimism Goerli<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#deploying-the-smart-contract-to-optimism-goerli"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To deploy the <code class="vocs_Code">ExampleContract</code> smart contract to the Optimism Goerli testnet, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> create</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> ./src/ExampleContract.sol:ExampleContract</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_RPC </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--constructor-args</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_LZ_ENDPOINT </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<p class="vocs_Paragraph">When prompted, enter the password that you set earlier, when you imported your wallet&#x27;s private key.</p>
<p class="vocs_Paragraph">After running the command above, the contract will be deployed on the Optimism Goerli test network. You can view the deployment status and contract by using the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://goerli-optimism.etherscan.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OP Goerli block explorer</a>.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="opening-the-messaging-channels" class="vocs_Heading_slugTarget"></div>Opening the messaging channels<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#opening-the-messaging-channels"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Once your contract has been deployed to Base Goerli and Optimism Goerli, you will need to open the messaging channels between the two contracts so that they can send and receive messages from one another. This is done by calling the <code class="vocs_Code">setPeer</code> function on the contract.</p>
<p class="vocs_Paragraph">The <code class="vocs_Code">setPeer</code> function expects the following arguments:</p>
<table class="vocs_Table"><thead><tr class="vocs_TableRow"><th style="text-align:left" class="vocs_TableHeader">Name</th><th style="text-align:left" class="vocs_TableHeader">Type</th><th style="text-align:left" class="vocs_TableHeader">Description</th></tr></thead><tbody><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_eid</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">uint32</code></td><td style="text-align:left" class="vocs_TableCell">The <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/endpoint-addresses" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">endpoint ID</a> of the destination chain.</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">_peer</code></td><td style="text-align:left" class="vocs_TableCell"><code class="vocs_Code">bytes32</code></td><td style="text-align:left" class="vocs_TableCell">The contract address of the OApp contract on the destination chain.</td></tr></tbody></table>
<h3 class="vocs_H3 vocs_Heading"><div id="setting-the-peers" class="vocs_Heading_slugTarget"></div>Setting the peers<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#setting-the-peers"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Foundry provides the <code class="vocs_Code">cast</code> command-line tool that can be used to interact with deployed smart contracts and call their functions.</p>
<p class="vocs_Paragraph">To set the peer of your <code class="vocs_Code">ExampleContract</code> contracts, you can use <code class="vocs_Code">cast</code> to call the <code class="vocs_Code">setPeer</code> function while providing the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/endpoint-addresses" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">endpoint ID</a> and address (in bytes) of the deployed contract on the respective destination chain.</p>
<p class="vocs_Paragraph">To set the peer of the Base Goerli contract to the Optimism Goerli contract, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">BASE_GOERLI_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_RPC </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;setPeer(uint32, bytes32)&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_LZ_ENDPOINT_ID </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">OPTIMISM_GOERLI_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Replace <code class="vocs_Code">&lt;BASE_GOERLI_CONTRACT_ADDRESS&gt;</code> with the contract address of your deployed <code class="vocs_Code">ExampleContract</code> contract on Base Goerli, and<code class="vocs_Code">&lt;OPTIMISM_GOERLI_CONTRACT_ADDRESS&gt;</code> with the contract address (as bytes) of your deployed <code class="vocs_Code">ExampleContract</code> contract on Optimism Goerli before running the provided <code class="vocs_Code">cast</code> command.</p></aside>
<p class="vocs_Paragraph">To set the peer of the Optimism Goerli contract to the Base Goerli contract, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">OPTIMISM_GOERLI_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_RPC </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;setPeer(uint32, bytes32)&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_LZ_ENDPOINT_ID </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">BASE_GOERLI_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Replace <code class="vocs_Code">&lt;OPTIMISM_GOERLI_CONTRACT_ADDRESS&gt;</code> with the contract address of your deployed <code class="vocs_Code">ExampleContract</code> contract on Optimism Goerli, and<code class="vocs_Code">&lt;BASE_GOERLI_CONTRACT_ADDRESS&gt;</code> with the contract address (as bytes) of your deployed <code class="vocs_Code">ExampleContract</code> contract on Base Goerli before running the provided <code class="vocs_Code">cast</code> command.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="sending-messages" class="vocs_Heading_slugTarget"></div>Sending messages<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#sending-messages"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Once peers have been set on each contract, they are now able to send and receive messages from one another.</p>
<p class="vocs_Paragraph">Sending a message using the newly created <code class="vocs_Code">ExampleContract</code> contract can be done in three steps:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Build <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/options" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">message options</a> to specify logic associated with the message transaction</li>
<li class="vocs_ListItem">Call the <code class="vocs_Code">estimateFee</code> function to estimate the gas fee for sending a message</li>
<li class="vocs_ListItem">Call the <code class="vocs_Code">sendMessage</code> function to send a message</li>
</ol>
<h3 class="vocs_H3 vocs_Heading"><div id="building-message-options" class="vocs_Heading_slugTarget"></div>Building message options<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#building-message-options"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The <code class="vocs_Code">estimateFee</code> and <code class="vocs_Code">sendMessage</code> custom functions of the <code class="vocs_Code">ExampleContract</code> contract both require a <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/options" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">message options</a> (<code class="vocs_Code">_options</code>) argument to be provided.</p>
<p class="vocs_Paragraph">Message options allow you to specify arbitrary logic as part of the message transaction, such as the gas amount the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/explore/executors" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Executor</a> pays for message delivery, the order of message execution, or dropping an amount of gas to a destination address.</p>
<p class="vocs_Paragraph">LayerZero provides a <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/LayerZero-Labs/LayerZero-v2/blob/ccfd0d38f83ca8103b14ab9ca77f32e0419510ff/oapp/contracts/oapp/libs/OptionsBuilder.sol#L12" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Solidity</a> library and <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/options" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">TypeScript SDK</a> for building these message options.</p>
<p class="vocs_Paragraph">As an example, below is a Foundry script that uses OptionsBuilder from the Solidity library to generate message options (as <code class="vocs_Code">bytes</code>) that set the gas amount that the Executor will pay upon message delivery to <code class="vocs_Code">200000</code> wei:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">pragma</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span"> solidity</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> ^0.8.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">Script</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">console2</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;forge-std/Script.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> { </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OptionsBuilder</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> } </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/libs/OptionsBuilder.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OptionsScript</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Script</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    using</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OptionsBuilder</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> for</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> bytes</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> setUp</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">public</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> run</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">() </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">public</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">        bytes</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> options </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> OptionsBuilder.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">newOptions</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">().</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">addExecutorLzReceiveOption</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">200000</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        console2.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">logBytes</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(options);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The output of this script results in:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">0x00030100110100000000000000000000000000030d40</span></span></code></pre></div></div>
<p class="vocs_Paragraph">For this tutorial, rather than building and generating your own message options, you can use the bytes output provided above.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Covering all of the different message options in detail is out of scope for this tutorial. If you are interested in learning more about the different message options and how to build them, visit the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network/contracts/options" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero developer documentation</a>.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="estimating-the-gas-fee" class="vocs_Heading_slugTarget"></div>Estimating the gas fee<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#estimating-the-gas-fee"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Before you can send a message from your contract on Base Goerli, you need to estimate the fee associated with sending the message. You can use the <code class="vocs_Code">cast</code> command to call the <code class="vocs_Code">estimateFee()</code> function of the <code class="vocs_Code">ExampleContract</code> contract.</p>
<p class="vocs_Paragraph">To estimate the gas fee for sending a message from Base Goerli to Optimism Goerli, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">BASE_GOERLI_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_RPC </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;estimateFee(uint32, string, bytes)&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_LZ_ENDPOINT_ID </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Hello World&quot;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 0x00030100110100000000000000000000000000030d40</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Replace <code class="vocs_Code">&lt;BASE_GOERLI_CONTRACT_ADDRESS&gt;</code> with the contract address of your deployed <code class="vocs_Code">ExampleContract</code> contract on Base Goerli before running the provided <code class="vocs_Code">cast</code> command.</p></aside>
<p class="vocs_Paragraph">The command above calls <code class="vocs_Code">estimateFee(uint32, string, bytes, bool)</code>, while providing the required arguments, including: the endpoint ID of the destination chain, the text to send, and the message options (generated in the last section).</p>
<h3 class="vocs_H3 vocs_Heading"><div id="sending-the-message" class="vocs_Heading_slugTarget"></div>Sending the message<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#sending-the-message"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Once you have fetched the estimated gas for sending your message, you can now call <code class="vocs_Code">sendMessage</code> and provide the value returned as the <code class="vocs_Code">msg.value</code>.</p>
<p class="vocs_Paragraph">For example, to send a message from Base Goerli to Optimism Goerli with an estimated gas fee, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">BASE_GOERLI_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_RPC </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--value</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">GAS_ESTIMATE_IN_WE</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">I</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;sendMessage(uint32, string, bytes)&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_LZ_ENDPOINT_ID </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Hello World&quot;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 0x00030100110100000000000000000000000000030d40</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Replace <code class="vocs_Code">&lt;BASE_GOERLI_CONTRACT_ADDRESS&gt;</code> with the contract address of your deployed <code class="vocs_Code">ExampleContract</code> contract on Base Goerli, and <code class="vocs_Code">&lt;GAS_ESTIMATE_IN_WEI&gt;</code> with the gas estimate (in wei) returned by the call to estimateFee, before running the provided <code class="vocs_Code">cast</code> command.</p></aside>
<p class="vocs_Paragraph">You can view the status of your cross-chain transaction on <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://layerzeroscan.com/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero Scan</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="receiving-the-message" class="vocs_Heading_slugTarget"></div>Receiving the message<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#receiving-the-message"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Once the message has been sent and received on the destination chain, the _Receive function will be called on the <code class="vocs_Code">ExampleContract</code> and the message payload will be stored in the contract&#x27;s public <code class="vocs_Code">data</code> variable.</p>
<p class="vocs_Paragraph">You can use the <code class="vocs_Code">cast</code> command to read the latest message received by the <code class="vocs_Code">ExampleContract</code> stored in the <code class="vocs_Code">data</code> variable.</p>
<p class="vocs_Paragraph">To read the latest received message data that was sent to Optimism Goerli from Base Goerli, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">OPTIMISM_GOERLI_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_RPC </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;data&quot;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The returned data should match the message text payload you sent in your message.</p>
<p class="vocs_Paragraph">You can view the status of your cross-chain transaction on <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://layerzeroscan.com/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero Scan</a>.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="conclusion" class="vocs_Heading_slugTarget"></div>Conclusion<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/bridge-tokens-with-layerzero#conclusion"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Congratulations! You have successfully learned how to perform cross-chain messaging between Base and other chains (i.e. Optimism) using LayerZero V2.</p>
<p class="vocs_Paragraph">To learn more about cross-chain messaging and LayerZero V2, check out the following resources:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.layerzero.network" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LayerZero V2</a></li>
</ul></article><footer class="vocs_Footer"><div class="vocs_Footer_container"></div><footer class="py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col items-center justify-center space-y-4"><div class="flex items-center space-x-2"><span class="text-zinc-900 dark:text-zinc-100 font-medium">Base Docs</span></div><div class="text-sm text-zinc-600 dark:text-zinc-400">© <!-- -->2025<!-- --> base.org. All rights reserved.</div><div class="flex flex-row space-x-4"><a href="/privacy-policy">Privacy Policy</a><a href="/terms-of-service">Terms of Service</a><a href="/cookie-policy">Cookie Policy</a></div></div></div></footer></footer></div><div data-bottom-observer="true"></div></div><!--$--><!--/$--></div></div>
  </body>
</html>
