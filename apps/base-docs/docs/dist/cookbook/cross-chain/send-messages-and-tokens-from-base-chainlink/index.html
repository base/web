<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>
    
    <title data-react-helmet="true">Sending messages and tokens from Base to other chains using Chainlink CCIP – Base Docs</title>
    <meta data-react-helmet="true" name="description" content="A tutorial that teaches how to use Chainlink CCIP to perform cross-chain messaging and token transfers from Base Goerli testnet to Optimism Goerli testnet."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Sending messages and tokens from Base to other chains using Chainlink CCIP"/><meta data-react-helmet="true" property="og:url" content="https://docs.base.org"/><meta data-react-helmet="true" property="og:description" content="A tutorial that teaches how to use Chainlink CCIP to perform cross-chain messaging and token transfers from Base Goerli testnet to Optimism Goerli testnet."/><meta data-react-helmet="true" property="og:image" content="/images/base-docs-og.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="twitter:image" content="/images/base-docs-og.png"/>
    <link data-react-helmet="true" rel="icon" href="/favicon.ico" type="image/x-icon"/>
    
    
    <meta property="twitter:title" content="Base | Docs"/><meta property="twitter:image" content="https://docs.base.org/images/base-docs-og.png"/><meta property="twitter:description" content="Explore the documentation for Base, a secure, low-cost, builder-friendly Ethereum L2"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:domain" content="base.org"/><script src="https://www.googletagmanager.com/gtag/js?id=G-TKCM02YFWN" async="" defer=""></script><script id="gtag-init">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TKCM02YFWN');
    </script>
  
    <script type="module" crossorigin src="/assets/index-Dlxm52NL.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-BheZ9r0M.css">
  </head>
  <body>
    <div id="app"><div class="vocs-layout antialiased" style="font-family:CoinbaseSans !important"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/quickstart">Quickstart</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/bridges-mainnet">Bridges</a><a data-active="false" class="vocs_Sidebar_item" href="/base-services-hub">Service Hub</a><a data-active="false" class="vocs_Sidebar_item" href="https://status.base.org/">Status ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Builder Kits</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">OnchainKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">MiniKit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/agentkit/docs/welcome">AgentKit (CDP) ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Blockspace Tools</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/paymaster/docs/welcome">Paymaster (CDP) ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/appchains/docs/welcome">Appchains ↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Identity</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Wallet</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Basenames</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="https://docs.cdp.coinbase.com/verifications/docs/welcome">Verifications (CDP)↗</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Wallet App</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/mini-apps">Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/getting-started">Getting Started with Mini Apps</a><a data-active="false" class="vocs_Sidebar_item" href="/wallet-app/beta-faq">Coinbase Wallet Beta FAQ</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Chain</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Flashblocks</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Misc.</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Network Information</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Node Operators</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="/chain/security-council">Security Council</a><a data-active="false" class="vocs_Sidebar_item" href="/chain/block-building">Block Building</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Tools</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Use Cases</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onboard-any-user">Onboard any user</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/accept-crypto-payments">Accept crypto payments</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/launch-ai-agents">Launch AI Agents</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/onchain-social">Onchain Social</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/defi-your-app">DeFi your app</a><a data-active="false" class="vocs_Sidebar_item" href="/use-cases/go-gasless">Go gasless</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Cookbook</div></div><div class="vocs_Sidebar_items"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By use case</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">By tool</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Smart Contract Development</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">IPFS</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/ipfs/deploy-with-fleek">Deploy with Fleek</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Token Gating</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/token-gating/gate-irl-events-with-nouns">Gate IRL Events with Nouns</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Client-Side Development</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/client-side-development/introduction-to-providers">Introduction to Providers</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Account Abstraction</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-biconomy">Using Biconomy</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-particle-network">Using Particle Network</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/account-abstraction-on-base-using-privy-and-the-base-paymaster">Using Privy and Base Paymaster</a><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/account-abstraction/gasless-transactions-with-paymaster">Gasless Transactions with Paymaster</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_item">Cross-Chain</div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/cookbook/cross-chain/bridge-tokens-with-layerzero">Bridge Tokens with LayerZero</a><a data-active="true" class="vocs_Sidebar_item" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink">Send Messages and Tokens from Base (Chainlink)</a></div></section></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Learn</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level vocs_Sidebar_levelCollapsed"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_sectionTitle">Buildathons</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Feedback</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://discord.com/invite/buildonbase">Get help ↗</a><a data-active="false" class="vocs_Sidebar_item" href="https://hackerone.com/coinbase">Bug bounty ↗</a></div></section></div></nav></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2m7:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav></div><div class="vocs_DesktopTopNav_divider"></div><div class="vocs_DesktopTopNav_group" style="margin-left:-8px;margin-right:-8px"><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:23px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/logo.svg"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">Get help</a><a class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://base.org" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" data-active="false" variant="styleless" data-radix-collection-item="">base.org</a></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><a class="vocs_MobileTopNav_navigationItem vocs_Link vocs_Link_styleless vocs_ExternalLink" href="https://discord.com/invite/buildonbase?utm_source=dotorg&amp;utm_medium=nav" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)" variant="styleless">Get help</a></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd67:" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="vocs_MobileTopNav_divider"></div><div class="vocs_MobileTopNav_group" style="margin-left:-8px"><a class="vocs_MobileTopNav_button" href="https://github.com/base" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="http://x.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://warpcast.com/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Warpcast" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Warpcast</title><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92028 31.9901H24.0698C28.4371 31.9901 31.9901 28.4373 31.9901 24.0699V7.92053C31.9901 3.55319 28.4371 0.000137329 24.0698 0.000137329H7.92028C3.55304 0.000137329 0 3.55319 0 7.92053V24.0699C0 28.4373 3.55304 31.9901 7.92028 31.9901ZM19.4134 16.048L20.9908 10.124H25.1383L21.2924 23.2218H17.7062L15.9951 17.1397L14.284 23.2218H10.7055L6.85115 10.124H10.999L12.5915 16.0916L14.1891 10.124H17.8309L19.4134 16.048Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://discord.com/invite/buildonbase" target="_blank" rel="noopener noreferrer"><div aria-label="Discord" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:21px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36"><title>Discord</title><g id="图层_2" data-name="图层 2"><g id="Discord_Logos" data-name="Discord Logos"><g id="Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z" fill="currentColor"></path></g></g></g></svg></div></a></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3a7:" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Send Messages and Tokens from Base (Chainlink)</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rla7:" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="sending-messages-and-tokens-from-base-to-other-chains-using-chainlink-ccip" class="vocs_Heading_slugTarget"></div>Sending messages and tokens from Base to other chains using Chainlink CCIP<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#sending-messages-and-tokens-from-base-to-other-chains-using-chainlink-ccip"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<p class="vocs_Paragraph">This tutorial will guide you through the process of sending messages and tokens from a Base smart contract to another smart contract on a different chain using Chainlink&#x27;s Cross-chain Interoperability Protocol (CCIP).</p>
<h2 class="vocs_H2 vocs_Heading"><div id="objectives" class="vocs_Heading_slugTarget"></div>Objectives<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#objectives"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">By the end of this tutorial you should be able to do the following:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Set up a smart contract project for Base using Foundry</li>
<li class="vocs_ListItem">Install Chainlink CCIP as a dependency</li>
<li class="vocs_ListItem">Use Chainlink CCIP within your smart contract to send messages and/or tokens to contracts on other different chains</li>
<li class="vocs_ListItem">Deploy and test your smart contracts on Base testnet</li>
</ul>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Chainlink CCIP is in an &quot;Early Access&quot; development stage, meaning some of the functionality described within this tutorial is under development and may change in later versions.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="prerequisites" class="vocs_Heading_slugTarget"></div>Prerequisites<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#prerequisites"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<h3 class="vocs_H3 vocs_Heading"><div id="foundry" class="vocs_Heading_slugTarget"></div>Foundry<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#foundry"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">This tutorial requires you to have Foundry installed.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">From the command-line (terminal), run: <code class="vocs_Code">curl -L https://foundry.paradigm.xyz | bash</code></li>
<li class="vocs_ListItem">Then run <code class="vocs_Code">foundryup</code>, to install the latest (nightly) build of Foundry</li>
</ul>
<p class="vocs_Paragraph">For more information, see the Foundry Book <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://book.getfoundry.sh/getting-started/installation" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">installation guide</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="coinbase-wallet" class="vocs_Heading_slugTarget"></div>Coinbase Wallet<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#coinbase-wallet"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">In order to deploy a smart contract, you will first need a wallet. You can create a wallet by downloading the Coinbase Wallet browser extension.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Download <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad?hl=en" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Coinbase Wallet</a></li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="wallet-funds" class="vocs_Heading_slugTarget"></div>Wallet funds<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#wallet-funds"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">For this tutorial you will need to fund your wallet with both ETH and LINK on Base Goerli and Optimism Goerli.</p>
<p class="vocs_Paragraph">The ETH is required for covering gas fees associated with deploying smart contracts to the blockchain, and the LINK token is required to pay for associated fees when using CCIP.</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">To fund your wallet with ETH on Base Goerli, visit a faucet listed on the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.base.org/chain/network-faucets" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Base Faucets</a> page.</li>
<li class="vocs_ListItem">To fund your wallet with ETH on Optimism Goerli, visit a faucet listed on the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.optimism.io/builders/tools/faucets" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Optimism Faucets</a> page.</li>
<li class="vocs_ListItem">To fund your wallet with LINK, visit the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://faucets.chain.link/base-testnet" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Chainlink Faucet</a>.</li>
</ul>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">If you are interested in building on Mainnet, you will need to <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://chainlinkcommunity.typeform.com/ccip-form?#ref_id=ccip_docs" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">apply for Chainlink CCIP mainnet access</a>.</p></aside>
<hr class="vocs_HorizontalRule"/>
<h2 class="vocs_H2 vocs_Heading"><div id="what-is-chainlink-ccip" class="vocs_Heading_slugTarget"></div>What is Chainlink CCIP?<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#what-is-chainlink-ccip"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Chainlink CCIP (Cross-chain Interoperability Protocol) provides a solution for sending message data and transferring tokens across different chains.</p>
<p class="vocs_Paragraph">The primary way for users to interface with Chainlink CCIP is through smart contracts known as <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture#router" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Routers</a>. A Router contract is responsible for initiating cross-chain interactions.</p>
<p class="vocs_Paragraph">Users can interact with <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture#router" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Routers</a> to perform the following cross-chain capabilities:</p>
<table class="vocs_Table"><thead><tr class="vocs_TableRow"><th style="text-align:left" class="vocs_TableHeader">Capability</th><th style="text-align:left" class="vocs_TableHeader">Description</th><th style="text-align:left" class="vocs_TableHeader">Supported receivers</th></tr></thead><tbody><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell">Arbitrary messaging</td><td style="text-align:left" class="vocs_TableCell">Send arbitrary (encoded) data from one chain to another.</td><td style="text-align:left" class="vocs_TableCell">Smart contracts only</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell">Token transfers</td><td style="text-align:left" class="vocs_TableCell">Send tokens from one chain to another.</td><td style="text-align:left" class="vocs_TableCell">Smart contracts or EOAs</td></tr><tr class="vocs_TableRow"><td style="text-align:left" class="vocs_TableCell">Programmable token transfers</td><td style="text-align:left" class="vocs_TableCell">Send tokens and arbitrary (encoded) data from one chain to another, in a single transaction.</td><td style="text-align:left" class="vocs_TableCell">Smart contracts only</td></tr></tbody></table>
<aside class="vocs_Aside vocs_Callout vocs_Callout_danger"><p class="vocs_Paragraph">Externally owned accounts (EOAs) on EVM blockchains are unable to receive message data, because of this, only smart contracts are supported as receivers when sending arbitrary messages or programmable token transfers. Any attempt to send a programmable token transfer (data and tokens) to an EOA, will result in only the tokens being received.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="high-level-concepts" class="vocs_Heading_slugTarget"></div>High-level concepts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#high-level-concepts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Although <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture#router" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Routers</a> are the primary interface users will interact with when using CCIP, this section will cover what happens after instructions for a cross-chain interaction are sent to a Router.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="onramps" class="vocs_Heading_slugTarget"></div>OnRamps<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#onramps"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Once a Router receives an instruction for a cross-chain interaction, it passes it on to another contract known as an <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture#onramp" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OnRamp</a>. OnRamps are responsible for a variety of tasks, including: verifying message size and gas limits, preserving the sequencing of messages, managing any fee payments, and interacting with the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture#token-pools" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">token pool</a> to <code class="vocs_Code">lock</code> or <code class="vocs_Code">burn</code> tokens if a token transfer is being made.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="offramps" class="vocs_Heading_slugTarget"></div>OffRamps<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#offramps"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The destination chain will have a contract known as an <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture#offramp" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OffRamp</a>. OffRamps are responsible for a variety of tasks, including: ensuring the authenticity of a message, making sure each transaction is only executed once, and transmitting received messages to the Router contract on the destination chain.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="token-pools" class="vocs_Heading_slugTarget"></div>Token pools<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#token-pools"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">A <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture#token-pools" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">token pool</a> is an abstraction layer over ERC-20 tokens that facilitates OnRamp and OffRamp token-related operations. They are configured to use either a <code class="vocs_Code">Lock and Unlock</code> or <code class="vocs_Code">Burn and Mint</code> mechanism, depending on the type of token.</p>
<p class="vocs_Paragraph">For example, because blockchain-native gas tokens (i.e. ETH, MATIC, AVAX) can only be minted on their native chains, a <code class="vocs_Code">Lock and Mint</code> mechanism must be used. This mechanism locks the token at the source chain, and mints a synthetic asset on the destination chain.</p>
<p class="vocs_Paragraph">In contrast, tokens that can be minted on multiple chains (i.e. USDC, USDT, FRAX, etc.), token pools can use a <code class="vocs_Code">Burn and Mint</code> mechanism, where the token is burnt on the source chain and minted on the destination chain.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="risk-management-network" class="vocs_Heading_slugTarget"></div>Risk Management Network<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#risk-management-network"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Between instructions for a cross-chain interaction making its way from an OnRamp on the source chain to an OffRamp on the destination chain, it will pass through the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/concepts#risk-management-network" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Risk Management Network</a>.</p>
<p class="vocs_Paragraph">The Risk Management Network is a secondary validation service built using a variety of offchain and onchain components, with the responsibilities of monitoring all chains against abnormal activities.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">A deep-dive on the technical details of each of these components is too much to cover in this tutorial, but if interested you can learn more by visiting the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/architecture" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Chainlink documentation</a>.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="creating-a-project" class="vocs_Heading_slugTarget"></div>Creating a project<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#creating-a-project"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Before you begin, you need to set up your smart contract development environment. You can setup a development environment using tools like <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="/Users/leozhao/ws/web/apps/base-docs/docs/pages/cookbook/smart-contract-development/hardhat/deploy-with-hardhat">Hardhat</a> or <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="/Users/leozhao/ws/web/apps/base-docs/docs/pages/cookbook/smart-contract-development/foundry/deploy-with-foundry">Foundry</a>. For this tutorial you will use Foundry.</p>
<p class="vocs_Paragraph">To create a new Foundry project, first create a new directory:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">mkdir</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> myproject</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Then run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">cd</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> myproject</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> init</span></span></code></pre></div></div>
<p class="vocs_Paragraph">This will create a Foundry project with the following basic layout:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">.</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">├──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> foundry.toml</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">├──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> script</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">├──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> src</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">└──</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> test</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">You can delete the <code class="vocs_Code">src/Counter.sol</code>, <code class="vocs_Code">test/Counter.t.sol</code>, and <code class="vocs_Code">script/Counter.s.sol</code> boilerplate files that were generated with the project, as you will not be needing them.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="installing-chainlink-smart-contracts" class="vocs_Heading_slugTarget"></div>Installing Chainlink smart contracts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#installing-chainlink-smart-contracts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">To use Chainlink CCIP within your Foundry project, you need to install Chainlink CCIP smart contracts as a project dependency using <code class="vocs_Code">forge install</code>.</p>
<p class="vocs_Paragraph">To install Chainlink CCIP smart contracts, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> install</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> smartcontractkit/ccip</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --no-commit</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Once installed, update your <code class="vocs_Code">foundry.toml</code> file by appending the following line:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">remappings</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> [</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&#x27;@chainlink/contracts-ccip/=lib/ccip/contracts&#x27;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">]</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="writing-the-smart-contracts" class="vocs_Heading_slugTarget"></div>Writing the smart contracts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#writing-the-smart-contracts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">The most basic use case for Chainlink CCIP is to send data and/or tokens between smart contracts on different blockchains.</p>
<p class="vocs_Paragraph">To accomplish this, in this tutorial, you will need to create two separate smart contracts:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><code class="vocs_Code">Sender</code> contract: A smart contract that interacts with CCIP to send data and tokens.</li>
<li class="vocs_ListItem"><code class="vocs_Code">Receiver</code> contract: A smart contract that interacts with CCIP to receive data and tokens.</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="creating-a-sender-contract" class="vocs_Heading_slugTarget"></div>Creating a Sender contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#creating-a-sender-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The code snippet below is for a basic smart contract that uses CCIP to send data:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">pragma</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span"> solidity</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> ^0.8.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">IRouterClient</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@chainlink/contracts-ccip/src/v0.8/ccip/interfaces/IRouterClient.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">OwnerIsCreator</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@chainlink/contracts-ccip/src/v0.8/shared/access/OwnerIsCreator.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">Client</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@chainlink/contracts-ccip/src/v0.8/ccip/libraries/Client.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">IERC20</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@chainlink/contracts-ccip/src/v0.8/vendor/openzeppelin-solidity/v4.8.3/contracts/token/ERC20/IERC20.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Sender</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OwnerIsCreator</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   IRouterClient </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   IERC20 </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> linkToken;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Initializes the contract with the router and LINK token address.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _router</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the router contract.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _link</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the link contract.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _router, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _link) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       router </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> IRouterClient</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_router);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       linkToken </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> IERC20</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_link);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Sends data to receiver on the destination chain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> destinationChainSelector</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The identifier (aka selector) for the destination blockchain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> receiver</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the recipient on the destination blockchain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> text</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The string text to be sent.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> messageId</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The ID of the message that was sent.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> sendMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">       uint64</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> destinationChainSelector</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">       address</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> receiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">       string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> text</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">external</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> onlyOwner</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> returns</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">bytes32</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> messageId</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       Client.EVM2AnyMessage </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> message </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Client.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">EVM2AnyMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           receiver</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(receiver), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Encode receiver address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           data</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(text), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Encode text to send</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           tokenAmounts</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> new</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Client.EVMTokenAmount[](</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Empty array indicating no tokens are being sent</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           extraArgs</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Client.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">_argsToBytes</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">               Client.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">EVMExtraArgsV1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({gasLimit</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 200_000</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}) </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Set gas limit</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           ),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           feeToken</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(linkToken) </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Set the LINK as the feeToken address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">       // Get the fee required to send the message</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">       uint256</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> fees </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">getFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           destinationChainSelector,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">           message</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       );</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">       // Revert if contract does not have enough LINK tokens for sending a message</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">       require</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(linkToken.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">balanceOf</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">this</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> fees, </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Not enough LINK balance&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">       // Approve the Router to transfer LINK tokens on contract&#x27;s behalf in order to pay for fees in LINK</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       linkToken.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">approve</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(router), fees);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">       // Send the message through the router</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       messageId </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">ccipSend</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(destinationChainSelector, message);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">       // Return the messageId</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">       return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> messageId;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Create a new file under your project&#x27;s <code class="vocs_Code">src/</code> directory named <code class="vocs_Code">Sender.sol</code> and copy the code above into the file.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="code-walkthrough" class="vocs_Heading_slugTarget"></div>Code walkthrough<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#code-walkthrough"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The sections below provide a detailed explanation for the code for the <code class="vocs_Code">Sender</code> contract provided above.</p>
<h5 class="vocs_H5 vocs_Heading"><div id="initializing-the-contract" class="vocs_Heading_slugTarget"></div>Initializing the contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#initializing-the-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<p class="vocs_Paragraph">In order to send data using CCIP, the <code class="vocs_Code">Sender</code> contract will need access to the following dependencies:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">The <code class="vocs_Code">Router</code> contract</strong>: This contract serves as the primary interface when using CCIP to send and receive messages and tokens.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">The fee token contract</strong>: This contract serves as the contract for the token that will be used to pay fees when sending messages and tokens. For this tutorial, the contract address for LINK token is used.</li>
</ol>
<p class="vocs_Paragraph">The <code class="vocs_Code">Router</code> contract address and LINK token address are passed in as parameters to the contract&#x27;s constructor and stored as member variables for later for sending messages and paying any associated fees.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Sender</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> OwnerIsCreator</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   IRouterClient </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   IERC20 </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> linkToken;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Initializes the contract with the router and LINK token address.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _router</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the router contract.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _link</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the link contract.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _router, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _link) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       router </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> IRouterClient</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_router);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       linkToken </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> IERC20</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(_link);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   }</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The <code class="vocs_Code">Router</code> contract provides two important methods that can be used when sending messages using CCIP:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><code class="vocs_Code">getFee</code>: Given a chain selector and message, returns the fee amount required to send the message.</li>
<li class="vocs_ListItem"><code class="vocs_Code">ccipSend</code>: Given a chain selector and message, sends the message through the router and returns an associated message ID.</li>
</ul>
<p class="vocs_Paragraph">The next section describes how these methods are utilized to send a message to another chain.</p>
<h5 class="vocs_H5 vocs_Heading"><div id="sending-a-message" class="vocs_Heading_slugTarget"></div>Sending a message<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#sending-a-message"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<p class="vocs_Paragraph">The <code class="vocs_Code">Sender</code> contract defines a custom method named <code class="vocs_Code">sendMessage</code> that utilizes the methods described above in order to:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Construct a message using the <code class="vocs_Code">EVM2AnyMessage</code> method provided by the <code class="vocs_Code">Client</code> CCIP library, using the following data:<!-- -->
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem"><code class="vocs_Code">receiver</code>: The receiver contract address (encoded).</li>
<li class="vocs_ListItem"><code class="vocs_Code">data</code>: The text data to send with the message (encoded).</li>
<li class="vocs_ListItem"><code class="vocs_Code">tokenAmounts</code>: The amount of tokens to send with the message. For sending just an arbitrary message this field is defined as an empty array (<code class="vocs_Code">new Client.EVMTokenAmount[](0)</code>), indicating that no tokens will be sent.</li>
<li class="vocs_ListItem"><code class="vocs_Code">extraArgs</code>: Extra arguments associated with the message, such as <code class="vocs_Code">gasLimit</code>.</li>
<li class="vocs_ListItem"><code class="vocs_Code">feeToken</code>: The <code class="vocs_Code">address</code> of the token to be used for paying fees.</li>
</ol>
</li>
<li class="vocs_ListItem">Get the fees required to send the message using the <code class="vocs_Code">getFee</code> method provided by the <code class="vocs_Code">Router</code> contract.</li>
<li class="vocs_ListItem">Check that the contract holds an adequate amount of tokens to cover the fee. If not, revert the transaction.</li>
<li class="vocs_ListItem">Approve the <code class="vocs_Code">Router</code> contract to transfer tokens on the <code class="vocs_Code">Sender</code> contracts behalf in order to cover the fees.</li>
<li class="vocs_ListItem">Send the message to a specified chain using the <code class="vocs_Code">Router</code> contract&#x27;s <code class="vocs_Code">ccipSend</code> method.</li>
<li class="vocs_ListItem">Return a unique ID associated with the sent message.</li>
</ol>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> receiver</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the recipient on the destination blockchain.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> text</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The string text to be sent.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> messageId</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The ID of the message that was sent.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> sendMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    uint64</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> destinationChainSelector</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    address</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> receiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> calldata</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> text</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">external</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> onlyOwner</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> returns</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">bytes32</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> messageId</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    Client.EVM2AnyMessage </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">memory</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> message </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Client.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">EVM2AnyMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        receiver</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(receiver), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Encode receiver address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        data</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">encode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(text), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Encode text to send</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        tokenAmounts</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> new</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Client.EVMTokenAmount[](</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">), </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Empty array indicating no tokens are being sent</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        extraArgs</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> Client.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">_argsToBytes</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">            Client.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">EVMExtraArgsV1</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">({gasLimit</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 200_000</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}) </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Set gas limit</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        ),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        feeToken</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(linkToken) </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Set the LINK as the feeToken address</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    });</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Get the fee required to send the message</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">    uint256</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> fees </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">getFee</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        destinationChainSelector,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">        message</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    );</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Revert if contract does not have enough LINK tokens for sending a message</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    require</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(linkToken.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">balanceOf</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">this</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> fees, </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;Not enough LINK balance&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Approve the Router to transfer LINK tokens on contract&#x27;s behalf in order to pay for fees in LINK</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    linkToken.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">approve</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(router), fees);</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Send the message through the router</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    messageId </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">ccipSend</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(destinationChainSelector, message);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Return the messageId</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> messageId;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="creating-a-receiver-contract" class="vocs_Heading_slugTarget"></div>Creating a Receiver contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#creating-a-receiver-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The code snippet below is for a basic smart contract that uses CCIP to receive data:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">pragma</span><span style="color:#22863A;--shiki-dark:#85E89D" class="vocs_Span"> solidity</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> ^0.8.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">Client</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@chainlink/contracts-ccip/src/v0.8/ccip/libraries/Client.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@chainlink/contracts-ccip/src/v0.8/ccip/applications/CCIPReceiver.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Receiver</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes32</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _messageId;</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _text;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Constructor - Initializes the contract with the router address.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the router contract.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> router</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(router) {}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Handle a received message</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The cross-chain message being received.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> _ccipReceive</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">       Client</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">Any2EVMMessage</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> message</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">internal</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> override</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       _messageId </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> message.messageId; </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Store the messageId</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       _text </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">decode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(message.data, (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)); </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Decode and store the message text</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Gets the last received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> messageId</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The ID of the last received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> text</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The last received text.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> getMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">()</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        external</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        view</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        returns</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">bytes32</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> messageId</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> text</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">        return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (_messageId, _text);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">    }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Create a new file under your project&#x27;s <code class="vocs_Code">src/</code> directory named <code class="vocs_Code">Receiver.sol</code> and copy the code above into the file.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="code-walkthrough-1" class="vocs_Heading_slugTarget"></div>Code walkthrough<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#code-walkthrough-1"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The sections below provide a detailed explanation for the code for the <code class="vocs_Code">Receiver</code> contract provided above.</p>
<h5 class="vocs_H5 vocs_Heading"><div id="initializing-the-contract-1" class="vocs_Heading_slugTarget"></div>Initializing the contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#initializing-the-contract-1"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<p class="vocs_Paragraph">In order to receive data using CCIP, the <code class="vocs_Code">Receiver</code> contract will need to extend to the<code class="vocs_Code">CCIPReceiver</code> interface. Extending this interface allows the <code class="vocs_Code">Receiver</code> contract to initialize the contract with the router address from the constructor, as seen below:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;@chainlink/contracts-ccip/src/v0.8/ccip/applications/CCIPReceiver.sol&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Receiver</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Constructor - Initializes the contract with the router address.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the router contract.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> router</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(router) {}</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h5 class="vocs_H5 vocs_Heading"><div id="receiving-a-message" class="vocs_Heading_slugTarget"></div>Receiving a message<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#receiving-a-message"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<p class="vocs_Paragraph">Extending the <code class="vocs_Code">CCIPReceiver</code> interface also allows the <code class="vocs_Code">Receiver</code> contract to override the <code class="vocs_Code">_ccipReceive</code> handler method for when a message is received and define custom logic.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Handle a received message</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The cross-chain message being received.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> _ccipReceive</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    Client</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">Any2EVMMessage</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> message</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">internal</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> override</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">    // Add custom logic here</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The <code class="vocs_Code">Receiver</code> contract in this tutorial provides custom logic that stores the <code class="vocs_Code">messageId</code> and <code class="vocs_Code">text</code> (decoded) as member variables.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">contract</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> Receiver</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> is</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   bytes32</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _messageId;</span></span>
<span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">   string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> private</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> _text;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Constructor - Initializes the contract with the router address.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> router</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The address of the router contract.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   constructor</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">address</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> router</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">) </span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">CCIPReceiver</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(router) {}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Handle a received message</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">   /// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@param</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> message</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The cross-chain message being received.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">   function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> _ccipReceive</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">       Client</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">Any2EVMMessage</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> message</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   ) </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">internal</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> override</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       _messageId </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> message.messageId; </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Store the messageId</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">       _text </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> abi</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">decode</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">(message.data, (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)); </span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">// Decode and store the message text</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">   }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h5 class="vocs_H5 vocs_Heading"><div id="retrieving-a-message" class="vocs_Heading_slugTarget"></div>Retrieving a message<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#retrieving-a-message"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h5>
<p class="vocs_Paragraph">The <code class="vocs_Code">Receiver</code> contract defines a custom method named <code class="vocs_Code">getMessage</code> that returns the details of the last received message <code class="vocs_Code">_messageId</code> and <code class="vocs_Code">_text</code>. This method can be called to fetch the message data details after the <code class="vocs_Code">_ccipReceive</code> receives a new message.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@notice</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> Gets the last received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> messageId</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The ID of the last received message.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span">/// </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">@return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> text</span><span style="color:#6A737D;--shiki-dark:#6A737D" class="vocs_Span"> The last received text.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">function</span><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span"> getMessage</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">()</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    external</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    view</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    returns</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">bytes32</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> messageId</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">string</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> memory</span><span style="color:#E36209;--shiki-dark:#FFAB70" class="vocs_Span"> text</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">{</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">    return</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> (_messageId, _text);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">}</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="compiling-the-smart-contracts" class="vocs_Heading_slugTarget"></div>Compiling the smart contracts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#compiling-the-smart-contracts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">To compile your smart contracts, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> build</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="deploying-the-smart-contract" class="vocs_Heading_slugTarget"></div>Deploying the smart contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#deploying-the-smart-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<h3 class="vocs_H3 vocs_Heading"><div id="setting-up-your-wallet-as-the-deployer" class="vocs_Heading_slugTarget"></div>Setting up your wallet as the deployer<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#setting-up-your-wallet-as-the-deployer"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Before you can deploy your smart contract to the Base network, you will need to set up a wallet to be used as the deployer.</p>
<p class="vocs_Paragraph">To do so, you can use the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="https://book.getfoundry.sh/reference/cast/cast-wallet-import" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)"><code class="vocs_Code">cast wallet import</code></a> command to import the private key of the wallet into Foundry&#x27;s securely encrypted keystore:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> wallet</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> import</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --interactive</span></span></code></pre></div></div>
<p class="vocs_Paragraph">After running the command above, you will be prompted to enter your private key, as well as a password for signing transactions.</p>
<div class="vocs_Div"><p class="vocs_Paragraph">For instructions on how to get your private key from Coinbase Wallet, visit the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.cloud.coinbase.com/wallet-sdk/docs/developer-settings#show-private-key" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Coinbase Wallet documentation</a>. <strong class="vocs_Strong">It is critical that you do NOT commit this to a public repo</strong>.</p></div>
<p class="vocs_Paragraph">To confirm that the wallet was imported as the <code class="vocs_Code">deployer</code> account in your Foundry project, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> wallet</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> list</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="setting-up-environment-variables" class="vocs_Heading_slugTarget"></div>Setting up environment variables<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#setting-up-environment-variables"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">To setup your environment, create an <code class="vocs_Code">.env</code> file in the home directory of your project, and add the RPC URLs, <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/supported-networks/v1_2_0/testnet" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">CCIP chain selectors</a>, <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip/supported-networks/v1_2_0/testnet" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">CCIP router addresses</a>, and <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/resources/link-token-contracts" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">LINK token addresses</a> for both Base Goerli and Optimism Goerli testnets:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">BASE_GOERLI_RPC</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;https://goerli.base.org&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">OPTIMISM_GOERLI_RPC</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;https://goerli.optimism.io&quot;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">BASE_GOERLI_CHAIN_SELECTOR</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">5790810961207155433</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">OPTIMISM_GOERLI_CHAIN_SELECTOR</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">2664363617261496610</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">BASE_GOERLI_ROUTER_ADDRESS</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x80AF2F44ed0469018922c9F483dc5A909862fdc2&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">OPTIMISM_GOERLI_ROUTER_ADDRESS</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0xcc5a0B910D9E9504A7561934bed294c51285a78D&quot;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">BASE_GOERLI_LINK_ADDRESS</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0x6D0F8D488B669aa9BA2D0f0b7B75a88bf5051CD3&quot;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">OPTIMISM_GOERLI_LINK_ADDRESS</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;0xdc2CC710e42857672E7907CF474a69B63B93089f&quot;</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Once the <code class="vocs_Code">.env</code> file has been created, run the following command to load the environment variables in the current command line session:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">source</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> .env</span></span></code></pre></div></div>
<h3 class="vocs_H3 vocs_Heading"><div id="deploying-the-smart-contracts" class="vocs_Heading_slugTarget"></div>Deploying the smart contracts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#deploying-the-smart-contracts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">With your contracts compiled and environment setup, you are ready to deploy the smart contracts.</p>
<p class="vocs_Paragraph">To deploy a smart contract using Foundry, you can use the <code class="vocs_Code">forge create</code> command. The command requires you to specify the smart contract you want to deploy, an RPC URL of the network you want to deploy to, and the account you want to deploy with.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Your wallet must be funded with ETH on the Base Goerli and Optimism Goerli to cover the gas fees associated with the smart contract deployment. Otherwise, the deployment will fail.</p><p class="vocs_Paragraph">To get testnet ETH for Base Goerli and Optimism Goerli, see the <a class="vocs_Anchor" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#prerequisites">prerequisites</a>.</p></aside>
<h4 class="vocs_H4 vocs_Heading"><div id="deploying-the-sender-contract-to-base-goerli" class="vocs_Heading_slugTarget"></div>Deploying the Sender contract to Base Goerli<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#deploying-the-sender-contract-to-base-goerli"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">To deploy the <code class="vocs_Code">Sender</code> smart contract to the Base Goerli testnet, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> create</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> ./src/Sender.sol:Sender</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_RPC </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--constructor-args</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_ROUTER_ADDRESS $BASE_GOERLI_LINK_ADDRESS </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<p class="vocs_Paragraph">When prompted, enter the password that you set earlier, when you imported your wallet&#x27;s private key.</p>
<p class="vocs_Paragraph">After running the command above, the contract will be deployed on the Base Goerli test network. You can view the deployment status and contract by using a [block explorer]: /docs/chain/block-explorers.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="deploying-the-receiver-contract-to-optimism-goerli" class="vocs_Heading_slugTarget"></div>Deploying the Receiver contract to Optimism Goerli<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#deploying-the-receiver-contract-to-optimism-goerli"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">To deploy the <code class="vocs_Code">Receiver</code> smart contract to the Optimism Goerli testnet, run the following command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">forge</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> create</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> ./src/Receiver.sol:Receiver</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_RPC </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--constructor-args</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_ROUTER_ADDRESS </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<p class="vocs_Paragraph">When prompted, enter the password that you set earlier, when you imported your wallet&#x27;s private key.</p>
<p class="vocs_Paragraph">After running the command above, the contract will be deployed on the Optimism Goerli test network. You can view the deployment status and contract by using the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://goerli-optimism.etherscan.io/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">OP Goerli block explorer</a>.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="funding-your-smart-contracts" class="vocs_Heading_slugTarget"></div>Funding your smart contracts<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#funding-your-smart-contracts"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">In order to pay for the fees associated with sending messages, the <code class="vocs_Code">Sender</code> contract will need to hold a balance of LINK tokens.</p>
<p class="vocs_Paragraph">Fund your contract directly from your wallet, or by running the following <code class="vocs_Code">cast</code> command:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_LINK_ADDRESS </span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span">--rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_RPC </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;transfer(address,uint256)&quot;</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">SENDER_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> 5</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The above command sends <code class="vocs_Code">5</code> LINK tokens on Base Goerli testnet to the <code class="vocs_Code">Sender</code> contract.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Replace <code class="vocs_Code">&lt;SENDER_CONTRACT_ADDRESS&gt;</code> with the contract address of your deployed <code class="vocs_Code">Sender</code> contract before running the provided <code class="vocs_Code">cast</code> command.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="interacting-with-the-smart-contract" class="vocs_Heading_slugTarget"></div>Interacting with the smart contract<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#interacting-with-the-smart-contract"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Foundry provides the <code class="vocs_Code">cast</code> command-line tool that can be used to interact with deployed smart contracts and call their functions.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="sending-data" class="vocs_Heading_slugTarget"></div>Sending data<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#sending-data"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The <code class="vocs_Code">cast</code> command can be used to call the <code class="vocs_Code">sendMessage(uint64, address, string)</code> function on the <code class="vocs_Code">Sender</code> contract deployed to Base Goerli in order to send message data to the <code class="vocs_Code">Receiver</code> contract on Optimism Goerli.</p>
<p class="vocs_Paragraph">To call the <code class="vocs_Code">sendMessage(uint64, address, string)</code> function of the <code class="vocs_Code">Sender</code> smart contract, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">SENDER_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $BASE_GOERLI_RPC </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;sendMessage(uint64, address, string)&quot;</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_CHAIN_SELECTOR </span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">RECEIVER_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> &quot;Based&quot;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The command above calls the <code class="vocs_Code">sendMessage(uint64, address, string)</code> to send a message. The parameters passed in to the method include: The chain selector to the destination chain (Optimism Goerli), the <code class="vocs_Code">Receiver</code> contract address, and the text data to be included in the message (<code class="vocs_Code">Based</code>).</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Replace <code class="vocs_Code">&lt;SENDER_CONTRACT_ADDRESS&gt;</code> and <code class="vocs_Code">&lt;RECEIVER_CONTRACT_ADDRESS&gt;</code> with the contract addresses of your deployed <code class="vocs_Code">Sender</code> and <code class="vocs_Code">Receiver</code> contracts respectively before running the provided <code class="vocs_Code">cast</code> command.</p></aside>
<p class="vocs_Paragraph">After running the command, a unique <code class="vocs_Code">messageId</code> should be returned.</p>
<p class="vocs_Paragraph">Once the transaction has been finalized, it will take a few minutes for CCIP to deliver the data to Optimism Goerli and call the <code class="vocs_Code">ccipReceive</code> function on the <code class="vocs_Code">Receiver</code> contract.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">You can use the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://ccip.chain.link/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">CCIP explorer</a> to see the status of the CCIP transaction.</p></aside>
<h3 class="vocs_H3 vocs_Heading"><div id="receiving-data" class="vocs_Heading_slugTarget"></div>Receiving data<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#receiving-data"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The <code class="vocs_Code">cast</code> command can also be used to call the <code class="vocs_Code">getMessage()</code> function on the <code class="vocs_Code">Receiver</code> contract deployed to Optimism Goerli in order to read the received message data.</p>
<p class="vocs_Paragraph">To call the <code class="vocs_Code">getMessage()</code> function of the <code class="vocs_Code">Receiver</code> smart contract, run:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0" class="shiki shiki-themes github-light github-dark vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 66 95" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M65.3633 81.6778V24.2559C65.3633 15.9551 61.2617 11.8047 53.0586 11.8047H12.5801C4.377 11.8047 0.324219 15.9551 0.324219 24.2559V81.6778C0.324219 90.0274 4.377 94.1289 12.5801 94.1289H53.0586C61.2617 94.1289 65.3633 90.0274 65.3633 81.6778ZM7.3555 81.5801V24.3536C7.3555 20.8379 9.2598 18.8848 12.9707 18.8848H52.7168C56.3789 18.8848 58.2832 20.8379 58.2832 24.3536V81.5801C58.2832 85.0957 56.3789 87.0977 52.7168 87.0977H12.9707C9.2598 87.0977 7.3555 85.0957 7.3555 81.5801Z" fill="currentColor"></path><path d="M20.9297 21.0821H44.709C47.1016 21.0821 48.5664 19.5684 48.5664 16.9805V12.879C48.5664 10.2911 47.1016 8.77737 44.709 8.77737H41.5352C41.2422 4.28517 37.4824 0.671875 32.8438 0.671875C28.2051 0.671875 24.4453 4.28517 24.1035 8.77737H20.9297C18.5371 8.77737 17.1211 10.2911 17.1211 12.879V16.9805C17.1211 19.5684 18.5371 21.0821 20.9297 21.0821ZM32.8438 12.4395C31.0371 12.4395 29.5234 10.9258 29.5234 9.11918C29.5234 7.31258 31.0371 5.84768 32.8438 5.84768C34.6504 5.84768 36.1152 7.31258 36.1152 9.11918C36.1152 10.9258 34.6504 12.4395 32.8438 12.4395Z" fill="currentColor"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#B392F0" class="vocs_Span">cast</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> send</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span"> &lt;</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">RECEIVER_CONTRACT_ADDRES</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span">S</span><span style="color:#D73A49;--shiki-dark:#F97583" class="vocs_Span">&gt;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --rpc-url</span><span style="color:#24292E;--shiki-dark:#E1E4E8" class="vocs_Span"> $OPTIMISM_GOERLI_RPC </span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span">&quot;getMessage()&quot;</span><span style="color:#005CC5;--shiki-dark:#79B8FF" class="vocs_Span"> --account</span><span style="color:#032F62;--shiki-dark:#9ECBFF" class="vocs_Span"> deployer</span></span></code></pre></div></div>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">Replace <code class="vocs_Code">&lt;RECEIVER_CONTRACT_ADDRESS&gt;</code> with the contract addresses of your deployed <code class="vocs_Code">Receiver</code> contract before running the provided <code class="vocs_Code">cast</code> command.</p></aside>
<p class="vocs_Paragraph">After running the command, the <code class="vocs_Code">messageId</code> and <code class="vocs_Code">text</code> of the last received message should be returned.</p>
<p class="vocs_Paragraph">If the transaction fails, ensure the status of your <code class="vocs_Code">ccipSend</code> transaction has been finalized. You can using the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://ccip.chain.link/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">CCIP explorer</a>.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="conclusion" class="vocs_Heading_slugTarget"></div>Conclusion<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/cookbook/cross-chain/send-messages-and-tokens-from-base-chainlink#conclusion"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Congratulations! You have successfully learned how to perform cross-chain messaging on Base using Chainlink CCIP.</p>
<p class="vocs_Paragraph">To learn more about cross-chain messaging and Chainlink CCIP, check out the following resources:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.base.org/docs/tools/cross-chain" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Cross-chain</a></li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://docs.chain.link/ccip" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Chainlink CCIP</a></li>
</ul></article><footer class="vocs_Footer"><div class="vocs_Footer_container"></div><footer class="py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col items-center justify-center space-y-4"><div class="flex items-center space-x-2"><span class="text-zinc-900 dark:text-zinc-100 font-medium">Base Docs</span></div><div class="text-sm text-zinc-600 dark:text-zinc-400">© <!-- -->2025<!-- --> base.org. All rights reserved.</div><div class="flex flex-row space-x-4"><a href="/privacy-policy">Privacy Policy</a><a href="/terms-of-service">Terms of Service</a><a href="/cookie-policy">Cookie Policy</a></div></div></div></footer></footer></div><div data-bottom-observer="true"></div></div><!--$--><!--/$--></div></div>
  </body>
</html>
